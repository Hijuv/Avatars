{"created_by":"Tampermonkey","version":"1","scripts":[{"name":"ChatGPT Auto-Continue ‚è©","options":{"check_for_updates":true,"user_modified":null,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["*://chat.openai.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":["raw.githubusercontent.com","greasyfork.org"],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":true}},"storage":{"ts":1713949253015,"data":{}},"enabled":true,"position":1,"file_url":"https://update.greasyfork.org/scripts/466789/ChatGPT%20Auto-Continue%20%E2%8F%A9.user.js","uuid":"d2fec430-b7fb-4e41-ab0a-9956933ef1ef","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvLUNvbnRpbnVlIOKPqQovLyBAbmFtZTphZiAgICAgICAgICAgICBDaGF0R1BUIEF1dG8tQWFuZ2FhbiDij6kKLy8gQG5hbWU6YW0gICAgICAgICAgICAgQ2hhdEdQVCBBdXRvLeGJsOGMqOGJo+GMrSDhiJvhiLPhi6sg4o+pCi8vIEBuYW1lOmFyICAgICAgICAgICAgIENoYXRHUFQg2KfZhNin2LPYqtmF2LHYp9ixINin2YTYqtmE2YLYp9im2Yog4o+pCi8vIEBuYW1lOmF6ICAgICAgICAgICAgIENoYXRHUFQgQXZ0b21hdGlrIERhdmFtIGV0IOKPqQovLyBAbmFtZTpiZSAgICAgICAgICAgICBDaGF0R1BUINCQ0Z7RgtCw0LzQsNGC0YvRh9C90LDQtSDQn9GA0LDRhtGP0LPQstCw0L3QvdC1IOKPqQovLyBAbmFtZTpiZyAgICAgICAgICAgICBDaGF0R1BUINCQ0LLRgtC+0LzQsNGC0LjRh9C90L4g0J/RgNC+0LTRitC70LbQsNCy0LDQvdC1IOKPqQovLyBAbmFtZTpibiAgICAgICAgICAgICBDaGF0R1BUIOCmuOCnjeCmrOCmr+CmvOCmguCmleCnjeCmsOCmv+Cmr+CmvCDgpprgpr7gprLgpr/gpq/gprzgp4cg4Kav4Ka+4KaT4Kav4Ka84Ka+IOKPqQovLyBAbmFtZTpibyAgICAgICAgICAgICBDaGF0R1BUIOC9ouC9uuC9keC8i+C9oOC9kOC9tOC9mOC8i+C9luC9heC9vOC9puC8i+C9lOC8jSDij6kKLy8gQG5hbWU6YnMgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvbWF0c2tpIE5hc3Rhdmkg4o+pCi8vIEBuYW1lOmNhICAgICAgICAgICAgIENoYXRHUFQgQXV0by1Db250aW51YSDij6kKLy8gQG5hbWU6Y2ViICAgICAgICAgICAgQ2hhdEdQVCBBdXRvLVBhZGF5b24g4o+pCi8vIEBuYW1lOmNrYiAgICAgICAgICAgIENoYXRHUFQg2K/Zh9iz2KrZg9in2LHbjCDYrtuG2qnYp9ixIOKPqQovLyBAbmFtZTpjcyAgICAgICAgICAgICBDaGF0R1BUIEF1dG9tYXRpY2vDqSBQb2tyYcSNb3bDoW7DrSDij6kKLy8gQG5hbWU6Y3kgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvLVBhcmhhdSDij6kKLy8gQG5hbWU6ZGEgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvLUZvcnRzw6Z0IOKPqQovLyBAbmFtZTpkZSAgICAgICAgICAgICBDaGF0R1BUIEF1dG9tYXRpc2NoZXMgRm9ydGZhaHJlbiDij6kKLy8gQG5hbWU6ZHYgICAgICAgICAgICAgQ2hhdEdQVCDeh96m3ofeqN6C3qfei96qIN6A3qjekN6n3oTept6M3rAg4o+pCi8vIEBuYW1lOmR6ICAgICAgICAgICAgIENoYXRHUFQg4L2i4L264L2R4LyL4L2g4L2Q4L204L2Y4LyL4L2C4L2F4L2y4L2C4LyL4L2B4L6x4L264L2i4LyNIOKPqQovLyBAbmFtZTplbCAgICAgICAgICAgICBDaGF0R1BUIM6Rz4XPhM+MzrzOsc+EzrcgzqPPhc69zq3Ph865z4POtyDij6kKLy8gQG5hbWU6ZW8gICAgICAgICAgICAgQ2hhdEdQVCBBxa10b21hdGEgRGHFrXJpZ2FkbyDij6kKLy8gQG5hbWU6ZXMgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvLUNvbnRpbnVhciDij6kKLy8gQG5hbWU6ZXQgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvbWFhdG5lIErDpHRrYW1pbmUg4o+pCi8vIEBuYW1lOmV1ICAgICAgICAgICAgIENoYXRHUFQgQXV0by1KYXJyYWl0dSDij6kKLy8gQG5hbWU6ZmEgICAgICAgICAgICAgQ2hhdEdQVCDYp9iv2KfZhdmHINiu2YjYr9qp2KfYsSDij6kKLy8gQG5hbWU6ZmkgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvbWFhdHRpbmVuIEphdGthbWluZW4g4o+pCi8vIEBuYW1lOmZvICAgICAgICAgICAgIENoYXRHUFQgQXV0by1WZXLDsGEg4o+pCi8vIEBuYW1lOmZyICAgICAgICAgICAgIENoYXRHUFQgQXV0by1Db250aW51ZXIg4o+pCi8vIEBuYW1lOmZyLUNBICAgICAgICAgIENoYXRHUFQgQXV0by1Db250aW51ZXIg4o+pCi8vIEBuYW1lOmdkICAgICAgICAgICAgIENoYXRHUFQgQXV0by1MZWFudGFpbm4g4o+pCi8vIEBuYW1lOmdsICAgICAgICAgICAgIENoYXRHUFQgQXV0by1Db250aW51YXIg4o+pCi8vIEBuYW1lOmd1ICAgICAgICAgICAgIENoYXRHUFQg4Kq44KuN4Kq14Kqa4Kq+4Kqy4Kq/4KqkLeCqmuCqvuCqsuCrgSDgqrDgqr7gqpbgq4sg4o+pCi8vIEBuYW1lOmhhdyAgICAgICAgICAgIENoYXRHUFQgQXV0by1LxY1rdWEg4o+pCi8vIEBuYW1lOmhlICAgICAgICAgICAgIENoYXRHUFQg15TXntep15og15DXldeY15XXnteY15kg4o+pCi8vIEBuYW1lOmhpICAgICAgICAgICAgIENoYXRHUFQg4KS44KWN4KS14KSa4KS+4KSy4KS/4KSkLeCkquCljeCksOCkmuCkvuCksuCkv+CkpCDgpLDgpJbgpYfgpIIg4o+pCi8vIEBuYW1lOmhyICAgICAgICAgICAgIENoYXRHUFQgQXV0by1OYXN0YXZpIOKPqQovLyBAbmFtZTpodCAgICAgICAgICAgICBDaGF0R1BUIE90b21hdGlrIEtvbnRpbnllIOKPqQovLyBAbmFtZTpodSAgICAgICAgICAgICBDaGF0R1BUIEF1dG9tYXRpa3VzIEZvbHl0YXTDoXMg4o+pCi8vIEBuYW1lOmh5ICAgICAgICAgICAgIENoYXRHUFQg1LvVttaE1bbVodW31a3VodW/1bjWgtW0INWH1aHWgNW41oLVttWh1a/VuNaC1bTVqCDij6kKLy8gQG5hbWU6aWQgICAgICAgICAgICAgQ2hhdEdQVCBMYW5qdXQgT3RvbWF0aXMg4o+pCi8vIEBuYW1lOmlzICAgICAgICAgICAgIENoYXRHUFQgU2rDoWxmdmlyayBGcmFtaGFsZCDij6kKLy8gQG5hbWU6aXQgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvLUNvbnRpbnVhIOKPqQovLyBAbmFtZTpqYSAgICAgICAgICAgICBDaGF0R1BUIOiHquWLlee2mee2miDij6kKLy8gQG5hbWU6anYgICAgICAgICAgICAgQ2hhdEdQVCBMYW5qdXQgT3RvbWF0aXMg4o+pCi8vIEBuYW1lOmthICAgICAgICAgICAgIENoYXRHUFQg4YOQ4YOV4YOi4YOd4YOb4YOQ4YOi4YOj4YOg4YOYIOGDkuGDkOGDkuGDoOGDq+GDlOGDmuGDlOGDkeGDkCDij6kKLy8gQG5hbWU6a2FiICAgICAgICAgICAgQ2hhdEdQVCBZZW1tZXNsYXllbiBBdnJpZCBuIFRpendhcnUg4o+pCi8vIEBuYW1lOmtrICAgICAgICAgICAgIENoYXRHUFQg0JDQstGC0L7QvNCw0YLRgtGLINCW0LDQu9KT0LDRgdGC0YvRgNGDIOKPqQovLyBAbmFtZTprbSAgICAgICAgICAgICBDaGF0R1BUIOGelOGek+GfkuGej+GekeGfheGemOGegOGeiuGem+Gfi+GeiuGfhOGemeGen+GfkuGenOGfkOGemeGelOGfkuGemuGenOGej+GfkuGej+GetyDij6kKLy8gQG5hbWU6a24gICAgICAgICAgICAgQ2hhdEdQVCDgsrjgs43gsrXgsq/gsoLgsprgsr7gsrLgsr/gsqQg4LKu4LOB4LKC4LKm4LOB4LK14LKw4LK/4LKV4LOGIOKPqQovLyBAbmFtZTprbyAgICAgICAgICAgICBDaGF0R1BUIOyekOuPmSDqs4Tsho0g4o+pCi8vIEBuYW1lOmt1ICAgICAgICAgICAgIENoYXRHUFQgQmVyZGV3YW1raXJpbmEgQXV0byDij6kKLy8gQG5hbWU6a3kgICAgICAgICAgICAgQ2hhdEdQVCDQkNCy0YLQvtC80LDRgtGC0YvQuiDQltCw0LvQs9Cw0YHRgtGL0YDRg9GDIOKPqQovLyBAbmFtZTpsYSAgICAgICAgICAgICBDaGF0R1BUIEF1dG8tQ29udGludWFyZSDij6kKLy8gQG5hbWU6bGIgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvLVdlaWRlcmdpbm4g4o+pCi8vIEBuYW1lOmxvICAgICAgICAgICAgIENoYXRHUFQg4LqU4Lq94Lqn4LqZ4Lq14LuJ4Lqa4LuN4LuI4Lqu4Lqt4LqU4LqE4Lqn4Lqy4Lqh4LuA4Lql4Lq14LqNIOKPqQovLyBAbmFtZTpsdCAgICAgICAgICAgICBDaGF0R1BUIEF1dG9tYXRpbmlzIFTEmXN0aSDij6kKLy8gQG5hbWU6bHYgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvbcSBdGlza2EgVHVycGluxIHFoWFuYSDij6kKLy8gQG5hbWU6bWcgICAgICAgICAgICAgQ2hhdEdQVCBNaXZlcmluYSBBdXRvbWF0aWNhbGx5IOKPqQovLyBAbmFtZTptaSAgICAgICAgICAgICBDaGF0R1BUIFdoYWthcmVyaSBUxattYXUg4o+pCi8vIEBuYW1lOm1rICAgICAgICAgICAgIENoYXRHUFQg0JDQstGC0L7QvNCw0YLRgdC60L4g0J/RgNC+0LTQvtC70LbRg9Cy0LDRmtC1IOKPqQovLyBAbmFtZTptbCAgICAgICAgICAgICBDaGF0R1BUIOC0k+C0n+C1jeC0n+C1h+C0vi3gtKTgtYHgtJ/gtLDgtYHgtJUg4o+pCi8vIEBuYW1lOm1uICAgICAgICAgICAgIENoYXRHUFQg0JDQstGC0L7QvNCw0YIg0q7RgNCz0Y3Qu9C20LvSr9Kv0LvRjdGFIOKPqQovLyBAbmFtZTptcyAgICAgICAgICAgICBDaGF0R1BUIEF1dG8tU2FtYnVuZyDij6kKLy8gQG5hbWU6bXQgICAgICAgICAgICAgQ2hhdEdQVCBBd3RvLUtvbnRpbndhIOKPqQovLyBAbmFtZTpteSAgICAgICAgICAgICBDaGF0R1BUIOGAoeGAnOGAreGAr+GAoeGAnOGAu+GAseGArOGAgOGAui3hgIbhgIDhgLrhgJzhgIDhgLrhgJzhgK/hgJXhgLrhgIDhgK3hgK/hgIThgLrhgJDhgJrhgLog4o+pCi8vIEBuYW1lOm5lICAgICAgICAgICAgIENoYXRHUFQg4KS44KWN4KS14KSa4KS+4KSy4KS/4KSkLeCkpOCkpOCljeCkquCksOCkpOCkviDij6kKLy8gQG5hbWU6bmwgICAgICAgICAgICAgQ2hhdEdQVCBBdXRvLURvb3JnYWFuIOKPqQovLyBAbmFtZTpubyAgICAgICAgICAgICBDaGF0R1BUIEF1dG8tRm9ydHNldHRlIOKPqQovLyBAbmFtZTpueSAgICAgICAgICAgICBDaGF0R1BUIEF1dG8tRW5kZWxlemEg4o+pCi8vIEBuYW1lOnBhICAgICAgICAgICAgIENoYXRHUFQg4Ki44Ki14KmILeComuCosuCpiyDij6kKLy8gQG5hbWU6cGFwICAgICAgICAgICAgQ2hhdEdQVCBTaWd1aSBBdXRvbcOhdGlrYW1lbnRlIOKPqQovLyBAbmFtZTpwbCAgICAgICAgICAgICBDaGF0R1BUIEF1dG9tYXR5Y3puZSBLb250eW51b3dhbmllIOKPqQovLyBAbmFtZTpwcyAgICAgICAgICAgICBDaGF0R1BUINiu2b7ZhNqp2KfYsSDYqtiz2YTbjNmFIOKPqQovLyBAbmFtZTpwdCAgICAgICAgICAgICBDaGF0R1BUIEF1dG8tQ29udGludWFyIOKPqQovLyBAbmFtZTpybyAgICAgICAgICAgICBDaGF0R1BUIEF1dG8tQ29udGludWFyZSDij6kKLy8gQG5hbWU6cnUgICAgICAgICAgICAgQ2hhdEdQVCDQkNCy0YLQvi3Qn9GA0L7QtNC+0LvQttC10L3QuNC1IOKPqQovLyBAbmFtZTpydyAgICAgICAgICAgICBDaGF0R1BUIEt1Z2VyYWdlemEgQXV0byDij6kKLy8gQG5hbWU6c2kgICAgICAgICAgICAgQ2hhdEdQVCDgt4Pgt4rgt4DgtrrgtoLgtprgt4rigI3gtrvgt5Pgtrot4Lav4LeS4La64LeA4LeQ4Lap4LeS4La64LeP4LeAIOKPqQovLyBAbmFtZTpzayAgICAgICAgICAgICBDaGF0R1BUIEF1dG8tUG9rcmHEjW92YcWlIOKPqQovLyBAbmFtZTpzbCAgICAgICAgICAgICBDaGF0R1BUIFNhbW9kZWpubyBOYWRhbGp1aiDij6kKLy8gQG5hbWU6c20gICAgICAgICAgICAgQ2hhdEdQVCBBdW5vYSdpLVRhdWxhZ2Eg4o+pCi8vIEBuYW1lOnNvICAgICAgICAgICAgIENoYXRHUFQgSXNkaGFhZiBDYXJ1dXJlZWQg4o+pCi8vIEBuYW1lOnNyICAgICAgICAgICAgIENoYXRHUFQg0JDRg9GC0L7QvNCw0YLRgdC60Lgg0J3QsNGB0YLQsNCy0Lgg4o+pCi8vIEBuYW1lOnN2ICAgICAgICAgICAgIENoYXRHUFQgQXV0by1Gb3J0c8OkdHQg4o+pCi8vIEBuYW1lOnN3ICAgICAgICAgICAgIENoYXRHUFQgS3Vzb25nYSBLaW90b21hdGlraSDij6kKLy8gQG5hbWU6dGEgICAgICAgICAgICAgQ2hhdEdQVCDgrqTgrr7grqngrr/grq/grpngr43grpXgrr8g4K6k4K+K4K6f4K6w4K+N4K6o4K+N4K6k4K+BIOCumuCvhuCusuCvjeCusuCvgeCumeCvjeCuleCus+CvjSDij6kKLy8gQG5hbWU6dGUgICAgICAgICAgICAgQ2hhdEdQVCDgsIbgsJ/gsYst4LCV4LCC4LCf4LC/4LCo4LGN4LCv4LGCIOKPqQovLyBAbmFtZTp0ZyAgICAgICAgICAgICBDaGF0R1BUINCU0LDQstC+0LzQvtGC0Lgg0LDQstGC0L7QvNCw0YLToyDij6kKLy8gQG5hbWU6dGggICAgICAgICAgICAgQ2hhdEdQVCDguJTguLPguYDguJnguLTguJnguIHguLLguKPguJXguYjguK3guK3guKLguYjguLLguIfguK3guLHguJXguYLguJnguKHguLHguJXguLQg4o+pCi8vIEBuYW1lOnRpICAgICAgICAgICAgIENoYXRHUFQg4Yqj4Ymg4Yut4YmyIOGLteGIleGIqiDhibDhiKjhirrhiaEg4o+pCi8vIEBuYW1lOnRrICAgICAgICAgICAgIENoYXRHUFQgQXZ0b21hdGlrIERvd2FtIGV0bWVrIOKPqQovLyBAbmFtZTp0byAgICAgICAgICAgICBDaGF0R1BUIFRvbnUtJ0FvZmEg4o+pCi8vIEBuYW1lOnRwaSAgICAgICAgICAgIENoYXRHUFQgT3RvbWF0aWsgS29udGlueXUg4o+pCi8vIEBuYW1lOnRyICAgICAgICAgICAgIENoYXRHUFQgT3RvbWF0aWsgRGV2YW0g4o+pCi8vIEBuYW1lOnVrICAgICAgICAgICAgIENoYXRHUFQg0JDQstGC0L7QvNCw0YLQuNGH0L3QtSDQn9GA0L7QtNC+0LLQttC10L3QvdGPIOKPqQovLyBAbmFtZTp1ciAgICAgICAgICAgICBDaGF0R1BUINiu2YjYr9qp2KfYsSDYrNin2LHbjCDYsdqp2r7bjNq6IOKPqQovLyBAbmFtZTp1eiAgICAgICAgICAgICBDaGF0R1BUIEF2dG9tYXRpayBEYXZvbSDij6kKLy8gQG5hbWU6dmkgICAgICAgICAgICAgQ2hhdEdQVCBU4buxIMSQ4buZbmcgVGnhur9wIFThu6VjIOKPqQovLyBAbmFtZTp4aCAgICAgICAgICAgICBDaGF0R1BUIFVrdXBoZWxhIE9rdXF1a2V0aHdleW8g4o+pCi8vIEBuYW1lOnlpICAgICAgICAgICAgIENoYXRHUFQg15DWt9eV15XXmNeQ1rgt16fXkNa316DXmNeZ16DXmdeV15nXqNefIOKPqQovLyBAbmFtZTp6aCAgICAgICAgICAgICBDaGF0R1BUIOiHquWKqOe7p+e7rSDij6kKLy8gQG5hbWU6emgtQ04gICAgICAgICAgQ2hhdEdQVCDoh6rliqjnu6fnu60g4o+pCi8vIEBuYW1lOnpoLUhLICAgICAgICAgIENoYXRHUFQg6Ieq5YuV57m857qMIOKPqQovLyBAbmFtZTp6aC1TRyAgICAgICAgICBDaGF0R1BUIOiHquWKqOe7p+e7rSDij6kKLy8gQG5hbWU6emgtVFcgICAgICAgICAgQ2hhdEdQVCDoh6rli5Xnubznuowg4o+pCi8vIEBuYW1lOnp1ICAgICAgICAgICAgIENoYXRHUFQgTmdva3VnY3dlbGUgVWt1cGhlbGEg4o+pCi8vIEBkZXNjcmlwdGlvbiAgICAgICAgIOKaoSBBdXRvbWF0aWNhbGx5IGNvbnRpbnVlIGdlbmVyYXRpbmcgbXVsdGlwbGUgQ2hhdEdQVCByZXNwb25zZXMKLy8gQGRlc2NyaXB0aW9uOmFmICAgICAg4pqhIE91dG9tYXRpZXMgdm9vcnRnYWFuIG1ldCBkaWUgb3B3ZWtraW5nIHZhbiBtZWVyZGVyZSBDaGF0R1BULWFudHdvb3JkZQovLyBAZGVzY3JpcHRpb246YW0gICAgICDimqEg4Yql4YqV4Yu04Ym14Yi1IOGKpeGKleGLsuGLsOGIreGItSDhi6vhiIjhiaXhiLPhiI0g4Yuo4Ymw4YuI4Yiw4YqQIOGIneGIreGMq+GLjuGJvSDhiIhDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjphciAgICAgIOKaoSDYp9iz2KrZhdixINmB2Yog2KrZiNmE2YrYryDYp9iz2KrYrNin2KjYp9iqINmF2KrYudiv2K/YqSDZhNmAIENoYXRHUFQg2KrZhNmC2KfYptmK2YvYpwovLyBAZGVzY3JpcHRpb246YXogICAgICDimqEgQ2hhdEdQVCBjYXZhYmxhcsSxbsSxIGF2dG9tYXRpayBvbGFyYXEgw6dveGFsZG1hxJ9hIGRhdmFtIGVkaW4KLy8gQGRlc2NyaXB0aW9uOmJlICAgICAg4pqhINCQ0Z7RgtCw0LzQsNGC0YvRh9C90LAg0L/RgNCw0YbRj9Cz0LLQsNC50YbQtSDQs9C10L3QtdGA0LDRhtGL0Y4g0L3QtdC60LDQu9GM0LrRltGFINCw0LTQutCw0LfQsNGeIENoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOmJlbSAgICAg4pqhIFRvbnRvbmthbnlhbmkga3VwaXRpa2Ega3V3YW1ibyB3YW50aHUgd29raGEtd29raGEgd2EgQ2hhdEdQVAovLyBAZGVzY3JpcHRpb246YmcgICAgICDimqEg0J/RgNC+0LTRitC70LbQtdGC0LUg0LDQstGC0L7QvNCw0YLQuNGH0L3QviDQtNCwINCz0LXQvdC10YDQuNGA0LDRgtC1INC80L3QvtC20LXRgdGC0LLQviDQvtGC0LPQvtCy0L7RgNC4INC+0YIgQ2hhdEdQVAovLyBAZGVzY3JpcHRpb246Ym4gICAgICDimqEgQ2hhdEdQVCDgpqrgp43gprDgpqTgpr/gppXgp43gprDgpr/gpq/gprzgpr4g4KaJ4Kak4KeN4Kaq4Ka+4Kam4KaoIOCmheCmn+Cni+CmruCnh+Cmn+Cmv+CmleCmreCmvuCmrOCnhyDgpprgpr7gprLgpr/gpq/gprzgp4cg4Kav4Ka+4KaoCi8vIEBkZXNjcmlwdGlvbjpibyAgICAgIOKaoSDgvaHgvbLgvYLgvIvgvYbgvIvgvaDgvZrgvbzgvaPgvIvgvaPgvYLgvIvgvabgvqTgvrHgvbzgvZHgvIvgvaLgvbzgvYLgvabgvIvgvZbgvrHgvbTgvYTgvIvgvYLgvZPgvYTgvIvgvZPgvbTgvabgvIvgvZTgvaDgvbLgvItDaGF0R1BU4L2j4L6V4L264L2W4LyL4L2C4L2m4L284L2i4LyL4L2W4L2i4L6h4LyL4L2g4L2V4L6y4L284LyL4L2k4L284L2C4LyL4L2T4L2E4LyL4L2W4L2m4L6Q4L6x4L284L2R4LyL4L2U4LyNCi8vIEBkZXNjcmlwdGlvbjpicyAgICAgIOKaoSBOYXN0YXZpdGUgYXV0b21hdHNraSBnZW5lcmlyYXRpIHZpxaFlIG9kZ292b3JhIENoYXRHUFQtYQovLyBAZGVzY3JpcHRpb246Y2EgICAgICDimqEgQ29udGludWEgZ2VuZXJhbnQgYXV0b23DoHRpY2FtZW50IG3Dumx0aXBsZXMgcmVzcG9zdGVzIGRlIENoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOmNlYiAgICAg4pqhIE1hZ3BhZGF5b24gc2EgcGFnLWdlbmVyYXRlIG9nIGRhZ2hhbmcgbWdhIFR1Z2Jhbmcgc2EgQ2hhdEdQVCBuZ2EgT3RvbWF0aWsKLy8gQGRlc2NyaXB0aW9uOmNrYiAgICAg4pqhINio25XYsdiv25XZiNin2YXYqNmI2YjZhiDYqNuVINiz25XYsdis25XZhSDZiNuV2rXYp9mF25Xaqdin2YbbjCBDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjpjcyAgICAgIOKaoSBBdXRvbWF0aWNreSBwb2tyYcSNdWp0ZSB2IGdlbmVyb3bDoW7DrSB2w61jZSBvZHBvdsSbZMOtIENoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOmN5ICAgICAg4pqhIFBhcmhld2NoIGkgZ3luaHlyY2h1IG5pZmVyIG8geW1hdGViaW9uIENoYXRHUFQgeW4gYXd0b21hdGlnCi8vIEBkZXNjcmlwdGlvbjpkYSAgICAgIOKaoSBGb3Jzw6Z0IGF1dG9tYXRpc2sgbWVkIGF0IGdlbmVyZXJlIGZsZXJlIENoYXRHUFQtcmVzcG9uc2VyCi8vIEBkZXNjcmlwdGlvbjpkZSAgICAgIOKaoSBHZW5lcmllcmVuIFNpZSBhdXRvbWF0aXNjaCBtZWhyZXJlIENoYXRHUFQtQW50d29ydGVuIHdlaXRlcmhpbgovLyBAZGVzY3JpcHRpb246ZHYgICAgICDimqEg3ofept6H3qrejN6pIN6A3qregt6w3oLept6I3qcg3onerN6H3qjegt6w3oneqiBDaGF0R1BUIN6H3qbeld6wIN6G3q7egt6w3pPerN6H3rAg3oTept6L3qbejd6q3obeqt6D3qreid6q3o7erCDeg96m3oLejt6m3oXepgovLyBAZGVzY3JpcHRpb246ZHogICAgICDimqEg4L2g4L2V4L6y4L284L2m4LyL4L2Y4L264L2R4LyL4L2U4L2i4LyL4L2R4L204L2C4LyL4L2e4L2y4L2W4LyL4L2U4LyL4L2W4L2m4L6Q4L204L2C4L2m4LyL4L2U4L2i4LyL4L2h4L284L2R4LyL4L2Y4L2y4LyLQ2hhdEdQVOC9o+C+leC9uuC9luC8i+C9guC9puC9vOC9ouC8i+C9luC9ouC+oeC8i+C9oOC9leC+suC9vOC8i+C9pOC9vOC9guC8i+C9k+C9hOC8i+C9luC9puC+kOC+seC9vOC9keC8i+C9lOC8jQovLyBAZGVzY3JpcHRpb246ZWwgICAgICDimqEgzqPPhc69zrXPh86vz4PPhM61IM6xz4XPhM+MzrzOsc+EzrEgzr3OsSDOtM63zrzOuc6/z4XPgc6zzrXOr8+EzrUgz4DOv867zrvOsc+AzrvOrc+CIM6xz4DOsc69z4TOrs+DzrXOuc+CIENoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOmVvICAgICAg4pqhIERhxa1yaWd1IGHFrXRvbWF0ZSBnZW5lcmkgcGx1cmFqbiByZXNwb25kb2puIENoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOmVzICAgICAg4pqhIENvbnRpbsO6YSBnZW5lcmFuZG8gYXV0b23DoXRpY2FtZW50ZSBtw7psdGlwbGVzIHJlc3B1ZXN0YXMgZGUgQ2hhdEdQVAovLyBAZGVzY3JpcHRpb246ZXQgICAgICDimqEgSsOkdGtha2UgYXV0b21hYXRzZWx0IG1pdG1lIENoYXRHUFQtdmFzdHVzZSBnZW5lcmVlcmltaXN0Ci8vIEBkZXNjcmlwdGlvbjpldSAgICAgIOKaoSBKYXJyYWl0dSBhdXRvbWF0aWtva2kgQ2hhdEdQVCBlcmFudHp1biBhbml0emFrIHNvcnR6ZW4KLy8gQGRlc2NyaXB0aW9uOmZhICAgICAg4pqhINin2K/Yp9mF2Ycg2KrZiNmE24zYryDYrtmI2K/aqdin2LEg2obZhtiv24zZhiDZvtin2LPYriBDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjpmaSAgICAgIOKaoSBKYXRrYSBhdXRvbWFhdHRpc2VzdGkgdXNlaWRlbiBDaGF0R1BULXZhc3RhdXN0ZW4gZ2VuZXJvaW50aWEKLy8gQGRlc2NyaXB0aW9uOmZvICAgICAg4pqhIEhhbGRhIMOhZnJhbSB2acOwIGF0IGZyYW1sZWnDsGEgZmxlaXJpIENoYXRHUFQgc3ZhcgovLyBAZGVzY3JpcHRpb246ZnIgICAgICDimqEgQ29udGludWV6IGF1dG9tYXRpcXVlbWVudCDDoCBnw6luw6lyZXIgcGx1c2lldXJzIHLDqXBvbnNlcyBDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjpmci1DQSAgIOKaoSBDb250aW51ZXogYXV0b21hdGlxdWVtZW50IMOgIGfDqW7DqXJlciBwbHVzaWV1cnMgcsOpcG9uc2VzIENoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOmdkICAgICAg4pqhIExlYW4gYWlyIGFkaGFydCBhJyBnYWJoYWlsIGFpciBhZGhhcnQgbmEgZnJlYWdhaXJ0ZWFuIENoYXRHUFQgbGUgYmhpdGggYScgcmlvY2hkYWNoYWRoIG5hcyBtw7JyCi8vIEBkZXNjcmlwdGlvbjpnbCAgICAgIOKaoSBDb250aW7DumEgeGVyYW5kbyBhdXRvbWF0aWNhbWVudGUgbcO6bHRpcGxlcyByZXNwb3N0YXMgZGUgQ2hhdEdQVAovLyBAZGVzY3JpcHRpb246Z3UgICAgICDimqEg4KqG4Kqq4KuL4KqG4KqqIOCqteCqp+CqpOCqviDgqprgqr7gqrDgq43gqpzgq4sg4KqG4Kqq4Kqk4KuAIOCqleCqsOCriyBDaGF0R1BUIOCqquCrjeCqsOCqpOCqv+CqreCqvuCqkwovLyBAZGVzY3JpcHRpb246aGF3ICAgICDimqEgRSBtxIFsYW1hIGkga2EgaMWNyrtvbHXKu29sdSDKu2FuYSBpIG7EgSBwYW5lIMq7ZWx1YSBhIGkgyrtvbGUgacSBIENoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOmhlICAgICAg4pqhINeU157XqdeaINec15nXpteV16gg15HXkNeV16TXnyDXkNeV15jXldee15jXmSDXnteh16TXqCDXqteS15XXkdeV16ogQ2hhdEdQVAovLyBAZGVzY3JpcHRpb246aGkgICAgICDimqEg4KS44KWN4KS14KSa4KS+4KSy4KS/4KSkIOCksOClguCkqiDgpLjgpYcg4KSs4KS54KWB4KSkIOCkuOCkvuCksOClhyBDaGF0R1BUIOCkquCljeCksOCkpOCkv+CkleCljeCksOCkv+Ckr+CkvuCkj+CkgSDgpIngpKTgpY3gpKrgpKjgpY3gpKgg4KSV4KSw4KSo4KS+IOCknOCkvuCksOClgCDgpLDgpJbgpYfgpIIKLy8gQGRlc2NyaXB0aW9uOmhyICAgICAg4pqhIEF1dG9tYXRza2kgbmFzdGF2aXRlIGdlbmVyaXJhdGkgdmnFoWUgQ2hhdEdQVCBvZGdvdm9yYQovLyBAZGVzY3JpcHRpb246aHQgICAgICDimqEgS29udGlueWUgb3RvbWF0aWttYW4ga29udGlueWUgamVuZXJhc3lvbiBwbGl6ecOoIHJlcG9ucyBDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjpodSAgICAgIOKaoSBGb2x5dGFzc2EgYXV0b21hdGlrdXNhbiB0w7ZiYiBDaGF0R1BULXbDoWxhc3ogZ2VuZXLDoWzDoXPDoXQKLy8gQGRlc2NyaXB0aW9uOmh5ICAgICAg4pqhINWH1aHWgNW41oLVttWh1a/VpdaEINWh1b7Vv9W41bTVodW/INW91b/VpdWy1a7VpdWsINW01aXVr9Wr1oEg1aHVvtWl1azVqyBDaGF0R1BUINW61aHVv9Wh1b3VrdWh1bbVttWl1oAKLy8gQGRlc2NyaXB0aW9uOmlkICAgICAg4pqhIExhbmp1dGthbiBzZWNhcmEgb3RvbWF0aXMgbWVuZ2hhc2lsa2FuIGJlYmVyYXBhIHJlc3BvbnMgQ2hhdEdQVAovLyBAZGVzY3JpcHRpb246aXMgICAgICDimqEgSGFsZGEgw6FmcmFtIGHDsCBmcmFtbGVpw7BhIGZqw7ZsZGEgQ2hhdEdQVC1zdmFyYSBzasOhbGZrcmFmYQovLyBAZGVzY3JpcHRpb246aXQgICAgICDimqEgQ29udGludWEgYXV0b21hdGljYW1lbnRlIGEgZ2VuZXJhcmUgcGnDuSByaXNwb3N0ZSBkaSBDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjpqYSAgICAgIOKaoSBDaGF0R1BU44Gu6KSH5pWw44Gu5b+c562U44KS6Ieq5YuV55qE44Gr57aZ57aa55qE44Gr55Sf5oiQ44GX57aa44GR44KLCi8vIEBkZXNjcmlwdGlvbjpqdiAgICAgIOKaoSBUZXJ1cyBuZ2FzaWxha2UgYmFsYXNhbiBtdWx0aXBlbCBDaGF0R1BUIGthc2VidXQgb3RvbWF0aXMKLy8gQGRlc2NyaXB0aW9uOmthICAgICAg4pqhIOGDkuGDkOGDkuGDoOGDq+GDlOGDmuGDlOGDlyDhg5Dhg5Xhg6Lhg53hg5vhg5Dhg6Lhg6Phg6Dhg5Dhg5Mg4YOS4YOU4YOc4YOU4YOg4YOY4YOg4YOU4YOR4YOQ4YOhIOGDoOGDkOGDm+GDk+GDlOGDnOGDmOGDm+GDlCBDaGF0R1BUIOGDnuGDkOGDoeGDo+GDruGDmOGDoQovLyBAZGVzY3JpcHRpb246a2FiICAgICDimqEgU2VrY2VtIHNlZyB5aWxtZeG6k3llbiBkZWcgdXNlZnJ1IG4gdHVmYXQgQ2hhdEdQVAovLyBAZGVzY3JpcHRpb246a2sgICAgICDimqEgQ2hhdEdQVC3QvdGL0qMg0LHRltGA0L3QtdGI0LUg0LbQsNGD0LDQv9GC0LDRgNGL0L0g0LDQstGC0L7QvNCw0YLRgtGLINGC0q/RgNC00LUg0LbQsNC70pPQsNGB0YLRi9GA0YPSk9CwINC20LDQu9KT0LDRgdGC0YvRgNGL0qPRi9C3Ci8vIEBkZXNjcmlwdGlvbjprbSAgICAgIOKaoSDhnpThnpPhn5Lhno/hnpHhn4Dhno/hnqDhnr7hnpnhnpThnpPhn5Lhno/hnoDhnrbhnprhnpThnoThn5LhnoDhnr7hno/hnoXhnpjhn5Lhnpvhnr7hnpnhnofhnrbhnoXhn5Lhnprhnr7hnpPhnpPhn4MgQ2hhdEdQVCDhnorhn4Thnpnhnp/hn5Lhnpzhn5DhnpnhnpThn5Lhnprhnpzhno/hn5Lhno/hnrcKLy8gQGRlc2NyaXB0aW9uOmtuICAgICAg4pqhIOCyuOCzjeCyteCyr+CyguCymuCyvuCysuCyv+CypOCyteCyvuCyl+CyvyBDaGF0R1BUIOCyquCzjeCysOCypOCyv+CyleCzjeCysOCyv+Cyr+CzhuCyl+Cys+CyqOCzjeCyqOCzgSDgsq7gs4HgsoLgsqbgs4HgsrXgsrDgsr/gsrjgsr8KLy8gQGRlc2NyaXB0aW9uOmtvICAgICAg4pqhIENoYXRHUFQg7J2R64u17J2EIOyekOuPmeycvOuhnCDqs4Tsho0g7IOd7ISx7ZWY7IS47JqUCi8vIEBkZXNjcmlwdGlvbjprdSAgICAgIOKaoSBQYXJ2ZWtpcmluYSBvdG9tYXTDrmsgYSBiZXJkZXZrw6p5YSDDp8Oqa2lyaW5hIGdlbGVrIGJlcnNpdsOqbiBDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjpreSAgICAgIOKaoSDQotGD0YPRgNCw0LvRg9GDINC00LDRj9GA0LTQsNC70LPQsNC9INC606nQv9GC06nQs9Op0L0gQ2hhdEdQVCDQutCw0YDQsNC20LDRgtGC0LDRgNGL0L0g0LbQsNC70LPQsNGB0YLRi9GACi8vIEBkZXNjcmlwdGlvbjpsYSAgICAgIOKaoSBBdXRvbWF0aWNhIGNvbnRpbnVhIGdlbmVyYXRpbyBwbHVyaXVtIHJlc3BvbnNpb251bSBDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjpsYiAgICAgIOKaoSBGdWVydCBtYXQgZGVyIEF1dG9tYXRpc8OpaWVydW5nIHZ1bSBnZW5lcsOpaWVyZW4gdnVuIG3DqWkgQ2hhdEdQVCDDhG50d2VydGVuCi8vIEBkZXNjcmlwdGlvbjpsbyAgICAgIOKaoSDgupXgurDguqvgurzgurLgupTgu4PgupnguoHgurLgupngupzgurDguqXgurTgupTgupfgurHguofgu4DguqvguqXgurvgu4jgurLguoLguq3guofguoHgurLgupnguqrgu4ngurLguofguoTgu43gurLguq3gurDgupfgurTguprgurLguo3guoLguq3guocgQ2hhdEdQVAovLyBAZGVzY3JpcHRpb246bHQgICAgICDimqEgVMSZc2tpdGUgYXV0b21hdGnFoWthaSBnZW5lcnVvdGkgZGF1Z2VsxK8gQ2hhdEdQVCBhdHNha3ltxbMKLy8gQGRlc2NyaXB0aW9uOmx2ICAgICAg4pqhIFR1cnBpbmlldCBhdXRvbcSBdGlza2kgxKNlbmVyxJN0IHZhaXLEgWthcyBDaGF0R1BUIGF0YmlsZGVzCi8vIEBkZXNjcmlwdGlvbjptZyAgICAgIOKaoSBNaWhhdHJhIG55IGZhbW9rYXJhbmEgYW4tdGFvbmFuYSBtb21iYSBueSBmaWplcnkgbWFyb21hcm8gYW1pbidueSBDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjptaSAgICAgIOKaoSBXaGFrYXBhdSB0b251IGkgdGUgd2hha2FwdXRhIGkgbmfEgSB3aGFrYWhva2kgxIEtaXB1cmFuZ2kgbWFoYSBtxY0gdGUgQ2hhdEdQVAovLyBAZGVzY3JpcHRpb246bWsgICAgICDimqEg0J3QsNGB0YLQsNC90Lgg0YHQtSDQsNCy0YLQvtC80LDRgtGB0LrQuCDQtNCwINCz0LXQvdC10YDQuNGA0LDRiCDQv9C+0LLQtdGc0LUg0L7QtNCz0L7QstC+0YDQuCDQvdCwIENoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOm1sICAgICAg4pqhIENoYXRHUFQg4LSq4LWN4LSw4LSk4LS/4LSV4LSw4LSj4LSZ4LWN4LSZ4LW+4LSV4LWN4LSV4LWNIOC0uOC1jeC0teC0r+C0guC0reC0vuC0teC0pOC0qOC1jeC0qOC1hiDgtKTgtYHgtJ/gtJngtY3gtJngtYHgtJUKLy8gQGRlc2NyaXB0aW9uOm1uICAgICAg4pqhIENoYXRHUFQg0YXQsNGA0LjRg9C70YLRg9GD0LTRi9CzINCw0LLRgtC+0LzQsNGC0LDQsNGAINKv0q/RgdCz0Y3QvdGNINKv0q8KLy8gQGRlc2NyaXB0aW9uOm1zICAgICAg4pqhIFRlcnVzIG1lbmdoYXNpbGthbiBiZWJlcmFwYSByZXNwb25zIENoYXRHUFQgc2VjYXJhIGF1dG9tYXRpawovLyBAZGVzY3JpcHRpb246bXQgICAgICDimqEgS29tcGx1dGEgYidtb2QgYXd0b21hdGlrdSBqaXBwcm9kdcSLaSBpa3RhciByaXNwb3N0aSB0YWwtQ2hhdEdQVAovLyBAZGVzY3JpcHRpb246bXkgICAgICDimqEg4YCB4YC74YCx4YCs4YCQ4YCx4YCs4YCE4YC64YC44YCA4YCt4YCv4YCc4YCK4YC64YC4IENoYXRHUFQg4YCh4YCQ4YC94YCA4YC6IOGAoeGAnOGAreGAr+GAoeGAnOGAu+GAseGArOGAgOGAuiDhgJHhgJXhgLrhgJDhgK3hgK/hgLjhgJHhgKzhgLjhgJ7hgIrhgLrhgIDhgK3hgK/hgJThgL7hgK3hgJXhgLrhgJXhgKsKLy8gQGRlc2NyaXB0aW9uOm5lICAgICAg4pqhIOCkleCljeCkr+CkvuCkn+CknOClgOCkquClgOCkn+ClgCDgpKrgpY3gpLDgpKTgpL/gpJXgpY3gpLDgpL/gpK/gpL7gpLngpLDgpYLgpLLgpL7gpIgg4KS44KWN4KS14KSk4KSDIOCkuOCkvuCksOCljeCkqOClgeCkueCli+CkuOCljQovLyBAZGVzY3JpcHRpb246bmwgICAgICDimqEgR2EgYXV0b21hdGlzY2ggZG9vciBtZXQgaGV0IGdlbmVyZXJlbiB2YW4gbWVlcmRlcmUgQ2hhdEdQVC1yZWFjdGllcwovLyBAZGVzY3JpcHRpb246bm8gICAgICDimqEgRm9ydHNldHQgYXV0b21hdGlzayBtZWQgw6UgZ2VuZXJlcmUgZmxlcmUgQ2hhdEdQVC1yZXNwb25zZXIKLy8gQGRlc2NyaXB0aW9uOm55ICAgICAg4pqhIEt3ZXphbGl0c2EgbWFidWt1IGFjaGluc2luc2kgYW1ha29ubyBhcGFtd2FtYmEgYSBDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjpwYSAgICAgIOKaoSDgqIbgqKrgqKPgqYcg4KiG4KiqIOColeCoiCBDaGF0R1BUIOConOCoteCovuCorOCovuCogiDgqKjgqYLgqbAg4Kic4Ki+4Kiw4KmAIOCosOCpseColuCooyDgqKbgqYcg4Kio4Ki+4KiyIOConOCovuCosOCpgCDgqLDgqbHgqJbgqYsKLy8gQGRlc2NyaXB0aW9uOnBhcCAgICAg4pqhIEtvbnRpbnVhIGdlbmVyYW5kbyBhdXRvbWF0aWNhbWVudGUgdmFyaW9zIHJlc3BvbmRlbmFuIGRpIENoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOnBsICAgICAg4pqhIEtvbnR5bnV1aiBhdXRvbWF0eWN6bmUgZ2VuZXJvd2FuaWUgd2llbHUgb2Rwb3dpZWR6aSBDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjpwcyAgICAgIOKaoSDZvtmHINiu2b7ZhNmHINiu2YjamtmHINiu2b7ZiNixINi02Ycg2qnak9mHINqG25Ag2K8gQ2hhdEdQVCDZvtin2LPYrtmI2YbZhyDZiNmI24zYtNiq2YQKLy8gQGRlc2NyaXB0aW9uOnB0ICAgICAg4pqhIENvbnRpbnVlIGdlcmFuZG8gYXV0b21hdGljYW1lbnRlIHbDoXJpYXMgcmVzcG9zdGFzIGRvIENoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOnB0LUJSICAg4pqhIENvbnRpbnVlIGdlcmFuZG8gYXV0b21hdGljYW1lbnRlIHbDoXJpYXMgcmVzcG9zdGFzIGRvIENoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOnJuICAgICAg4pqhIEtvbWV6YSBhdXRvbWF0aWsga3VnZW5lcmEgaWJ5YW5kaXRzd2UgYnlpbnNoaSBieWEgQ2hhdEdQVAovLyBAZGVzY3JpcHRpb246cm8gICAgICDimqEgQ29udGludWHIm2kgc8SDIGdlbmVyYcibaSBhdXRvbWF0IG1haSBtdWx0ZSByxINzcHVuc3VyaSBDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjpydSAgICAgIOKaoSDQn9GA0L7QtNC+0LvQttCw0LnRgtC1INCw0LLRgtC+0LzQsNGC0LjRh9C10YHQutC4INCz0LXQvdC10YDQuNGA0L7QstCw0YLRjCDQvdC10YHQutC+0LvRjNC60L4g0L7RgtCy0LXRgtC+0LIgQ2hhdEdQVAovLyBAZGVzY3JpcHRpb246cncgICAgICDimqEgQW5nYW5hIGd1c3V6dW1pcmEga29uZ2VyYSBhbWFrdXJ1IGFkYWhpbmR1cndhIHlhIENoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOnNnICAgICAg4pqhIEt3w6JhbmTDoiBtYmVsZSBtYmFuemkgbcOqbMOqYmEgbcOqdsOibWJhIHlhIHTDoiBDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjpzaSAgICAgIOKaoSBDaGF0R1BUIOC3hOC3kiDgtrbgt4Tgt5Tgtq3gtrvgtprgt4og4LeD4LeK4LeA4La64LaC4Laa4LeK4La74LeT4La64LeAIOC2tOC3gOC2reC3kwovLyBAZGVzY3JpcHRpb246c2sgICAgICDimqEgQXV0b21hdGlja3kgcG9rcmHEjXVqdGUgdiBnZW5lcm92YW7DrSB2aWFjZXLDvWNoIG9kcG92ZWTDrSBDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjpzbCAgICAgIOKaoSBTYW1vZGVqbm8gbmFkYWxqdWp0ZSB6IGdlbmVyaXJhbmplbSB2ZcSNIG9kZ292b3JvdiBDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjpzbSAgICAgIOKaoSBBbG9mYSBmYWF1YW9nYWluYSBvbmEgZmFhYW9nxIFpbmEgbmkgdGFsaSBpIGxlIG1hZmF1ZmF1IENoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOnNuICAgICAg4pqhIEVuZGEga3VzdmlrYSBwYWNoaWdhZHppcndhIGNoZWt1Z2FkemlyaXNhIHZhc2hhbmRpc2kgdmFpcmFtYmlkendpIHZlY2hpIENoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOnNvICAgICAg4pqhIFNpaSB3YWRuYWFuc2hvIGJhZGFuIG9vIENoYXRHUFQga2EgaGVsaQovLyBAZGVzY3JpcHRpb246c3IgICAgICDimqEg0J3QsNGB0YLQsNCy0Lgg0LDRg9GC0L7QvNCw0YLRgdC60Lgg0LTQsCDQs9C10L3QtdGA0LjRiNC10Ygg0LLQuNGI0LUgQ2hhdEdQVCDQvtC00LPQvtCy0L7RgNCwCi8vIEBkZXNjcmlwdGlvbjpzdiAgICAgIOKaoSBGb3J0c8OkdHQgYXR0IGF1dG9tYXRpc2t0IGdlbmVyZXJhIGZsZXJhIENoYXRHUFQtc3ZhcgovLyBAZGVzY3JpcHRpb246c3cgICAgICDimqEgRW5kZWxlYSBrdXphbGlzaGEgbWFqaWJ1IG1lbmdpIHlhIENoYXRHUFQga2lvdG9tYXRpa2kKLy8gQGRlc2NyaXB0aW9uOnRhICAgICAg4pqhIOCupOCuvuCuqeCuv+Cur+CumeCvjeCuleCuvyDgrq7gr4DgrqPgr43grp/gr4Hgrq7gr40g4K6q4K6yIOCuteCuv+Cus+CuleCvjeCuleCumeCvjeCuleCus+CviCDgrongrrDgr4HgrrXgrr7grpXgr43grpXgrqTgr40g4K6k4K+K4K6f4K6w4K+N4K6o4K+N4K6k4K+B4K614K6/4K6f4K+B4K6Z4K+N4K6V4K6z4K+NIENoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOnRlICAgICAg4pqhIOCwhuCwn+Cxi+CwruCxh+Cwn+Cwv+CwleCxjeCwl+CwviDgsK7gsLDgsL/gsK/gsYEg4LCu4LCw4LC/4LCo4LGN4LCo4LC/IENoYXRHUFQg4LC44LCu4LC+4LCn4LC+4LCo4LC+4LCy4LCo4LGBIOCwsOCwmuCwv+CwguCwmuCwguCwoeCwvwovLyBAZGVzY3JpcHRpb246dGcgICAgICDimqEg0JjQtNC+0LzQsNC4INCw0LLRgtC+0LzQsNGC06Mg0LHQsNGA0L7QuCDQuNK30L7QtCDQutCw0YDQtNCw0L3QuCDRh9Cw0L3QtCDSt9Cw0LLQvtCx0LggQ2hhdEdQVAovLyBAZGVzY3JpcHRpb246dGggICAgICDimqEg4LiU4Liz4LmA4LiZ4Li04LiZ4LiB4Liy4Lij4Liq4Lij4LmJ4Liy4LiH4LiE4Liz4LiV4Lit4Lia4Lir4Lil4Liy4LiiIOC5hiDguILguK3guIcgQ2hhdEdQVCDguK3guLHguJXguYLguJnguKHguLHguJXguLQKLy8gQGRlc2NyaXB0aW9uOnRpICAgICAg4pqhIOGLsOGJguGJg+GLjuGJtSDhi6jhiJrhjKDhjYsg4Yqu4Yu1IOGJpeGJuyDhiaDhiq7hiLXhibPhipLhiq3hiLUg4Ymg4Yia4YyI4YmjIOGMpeGIqSDhjKXhi6vhiYThi47hib0g4Yut4Yiw4Yyj4YiNCi8vIEBkZXNjcmlwdGlvbjp0ayAgICAgIOKaoSBUw7ZsZWdpxYhpemRlIENoYXRHUFQtZSBoYXNhcGxhIG90b21hdGlrIHRvcGx1bQovLyBAZGVzY3JpcHRpb246dG4gICAgICDimqEgS29pc2EgaGEgbWFlbGUgYSBDaGF0R1BUIGhvIG5nb2xhIGhvIHRsYWxlbGV0c2EKLy8gQGRlc2NyaXB0aW9uOnRvICAgICAg4pqhIFRvbnUga2kgaG9ubyBmYWthaG9rbyBraSBoZSBmYWthZm9mb25nYSBoYSBub25nYSBhaSBoZSBDaGF0R1BUCi8vIEBkZXNjcmlwdGlvbjp0cGkgICAgIOKaoSBLb250aW55dSBnZW5hcmF0aW0gcGxhbnRpIHJlc3BvbnMgYmlsb25nIENoYXRHUFQgYmkgYXV0b21ldGlrCi8vIEBkZXNjcmlwdGlvbjp0ciAgICAgIOKaoSBPdG9tYXRpayBvbGFyYWsgw6dva2x1IENoYXRHUFQgeWFuxLF0bGFyxLEgw7xyZXRtZXllIGRldmFtIGVkaW4KLy8gQGRlc2NyaXB0aW9uOnVrICAgICAg4pqhINCf0YDQvtC00L7QstC20YPQudGC0LUg0LDQstGC0L7QvNCw0YLQuNGH0L3QviDQs9C10L3QtdGA0YPQstCw0YLQuCDQsdCw0LPQsNGC0L4g0LLRltC00L/QvtCy0ZbQtNC10LkgQ2hhdEdQVAovLyBAZGVzY3JpcHRpb246dXIgICAgICDimqEgQ2hhdEdQVCDYrNmIINis2YjYp9io2KfYqiDYrtmI2K/aqdin2LEg2LfZiNixINm+2LEg2KrbjNin2LEg2qnYsdmG2Kcg2KzYp9ix24wg2LHaqdq+24zaugovLyBAZGVzY3JpcHRpb246dXogICAgICDimqEgS28ncGxhYiBDaGF0R1BUIGphdm9ibGFybmkgYXZ0b21hdGlrIHJhdmlzaGRhIHlhcmF0aXNobmkgZGF2b20gZXR0aXJpc2gKLy8gQGRlc2NyaXB0aW9uOnZpICAgICAg4pqhIFRp4bq/cCB04bulYyB04bqhbyByYSBuaGnhu4F1IGPDonUgdHLhuqMgbOG7nWkgQ2hhdEdQVCBt4buZdCBjw6FjaCB04buxIMSR4buZbmcKLy8gQGRlc2NyaXB0aW9uOnhoICAgICAg4pqhIFFodWJla2EgdWt1cWh1YmEgb2t1cXVrZXRod2V5byBsd2V6aWJhbG8gZXppbmluZ2kgemlrYUNoYXRHUFQKLy8gQGRlc2NyaXB0aW9uOnlpICAgICAg4pqhINek1r/XkNa416jXmNeW16LXptefINeV15XXsta315jXoteoINeS16LXoNei16jXmdeo158g157XmdeZ16DXoteo16Ig15DWt9eg15jXldeV15DWuNeo15jXnyDXpNa/15XXnyBDaGF0R1BUINeQ1rfXsNeY15DWuNee15DWt9eY15nXqQovLyBAZGVzY3JpcHRpb246emggICAgICDimqEg6Ieq5Yqo57un57ut55Sf5oiQ5aSa5LiqIENoYXRHUFQg5ZON5bqUCi8vIEBkZXNjcmlwdGlvbjp6aC1DTiAgIOKaoSDoh6rliqjnu6fnu63nlJ/miJDlpJrkuKogQ2hhdEdQVCDlk43lupQKLy8gQGRlc2NyaXB0aW9uOnpoLUhLICAg4pqhIOiHquWLlee5vOe6jOeUn+aIkOWkmuWAiyBDaGF0R1BUIOmfv+aHiQovLyBAZGVzY3JpcHRpb246emgtU0cgICDimqEg6Ieq5Yqo57un57ut55Sf5oiQ5aSa5LiqIENoYXRHUFQg5ZON5bqUCi8vIEBkZXNjcmlwdGlvbjp6aC1UVyAgIOKaoSDoh6rli5XnubznuoznlJ/miJDlpJrlgIsgQ2hhdEdQVCDpn7/mh4kKLy8gQGRlc2NyaXB0aW9uOnp1ICAgICAg4pqhIFRlcnVzIG1lbmdoYXNpbGthbiBpbWlidXpvIGVtaW5pbmdpIHllLUNoYXRHUFQgbmdva3dlc2l6dWx1Ci8vIEBhdXRob3IgICAgICAgICAgICAgIEFkYW0gTHVpCi8vIEBuYW1lc3BhY2UgICAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hZGFtbHVpCi8vIEB2ZXJzaW9uICAgICAgICAgICAgIDIwMjQuNC40Ci8vIEBsaWNlbnNlICAgICAgICAgICAgIE1JVAovLyBAbWF0Y2ggICAgICAgICAgICAgICAqOi8vY2hhdC5vcGVuYWkuY29tLyoKLy8gQGljb24gICAgICAgICAgICAgICAgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2FkYW1sdWkvdXNlcnNjcmlwdHMvbWFzdGVyL2NoYXRncHQvbWVkaWEvaWNvbnMvb3BlbmFpLWZhdmljb240OC5wbmcKLy8gQGljb242NCAgICAgICAgICAgICAgaHR0cHM6Ly9yYXcuZ2l0aHVidXNlcmNvbnRlbnQuY29tL2FkYW1sdWkvdXNlcnNjcmlwdHMvbWFzdGVyL2NoYXRncHQvbWVkaWEvaWNvbnMvb3BlbmFpLWZhdmljb242NC5wbmcKLy8gQHJlcXVpcmUgICAgICAgICAgICAgaHR0cHM6Ly9jZG4uanNkZWxpdnIubmV0L25wbS9Aa3Vkb2FpL2NoYXRncHQuanNAMi42LjgvZGlzdC9jaGF0Z3B0Lm1pbi5qcyNzaGEyNTYtdmVlYUtwbUxGN0NaNmt4TmZuOFNNakQzNmlqTGZmR0N6ZWw5RzR5a3BQST0KLy8gQGNvbm5lY3QgICAgICAgICAgICAgcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbQovLyBAY29ubmVjdCAgICAgICAgICAgICBncmVhc3lmb3JrLm9yZwovLyBAZ3JhbnQgICAgICAgICAgICAgICBHTV9zZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgICAgICBHTV9nZXRWYWx1ZQovLyBAZ3JhbnQgICAgICAgICAgICAgICBHTV9yZWdpc3Rlck1lbnVDb21tYW5kCi8vIEBncmFudCAgICAgICAgICAgICAgIEdNX3VucmVnaXN0ZXJNZW51Q29tbWFuZAovLyBAZ3JhbnQgICAgICAgICAgICAgICBHTV9vcGVuSW5UYWIKLy8gQGdyYW50ICAgICAgICAgICAgICAgR00ueG1sSHR0cFJlcXVlc3QKLy8gQG5vZnJhbWVzCi8vIEBob21lcGFnZVVSTCAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9hZGFtbHVpL2NoYXRncHQtYXV0by1jb250aW51ZQovLyBAc3VwcG9ydFVSTCAgICAgICAgICBodHRwczovL2dpdGh1Yi5jb20vYWRhbWx1aS9jaGF0Z3B0LWF1dG8tY29udGludWUvaXNzdWVzCi8vIEBkb3dubG9hZFVSTCBodHRwczovL3VwZGF0ZS5ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzQ2Njc4OS9DaGF0R1BUJTIwQXV0by1Db250aW51ZSUyMCVFMiU4RiVBOS51c2VyLmpzCi8vIEB1cGRhdGVVUkwgaHR0cHM6Ly91cGRhdGUuZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy80NjY3ODkvQ2hhdEdQVCUyMEF1dG8tQ29udGludWUlMjAlRTIlOEYlQTkubWV0YS5qcwovLyA9PS9Vc2VyU2NyaXB0PT0KCi8vIE5PVEU6IFRoaXMgc2NyaXB0IHJlbGllcyBvbiB0aGUgcG93ZXJmdWwgY2hhdGdwdC5qcyBsaWJyYXJ5IEAgaHR0cHM6Ly9jaGF0Z3B0LmpzLm9yZyAoYykgMjAyM+KAkzIwMjQgS3Vkb0FJICYgY29udHJpYnV0b3JzIHVuZGVyIHRoZSBNSVQgbGljZW5zZS4KCihhc3luYyAoKSA9PiB7CgogICAgLy8gSW5pdCBjb25maWcKICAgIGNvbnN0IGNvbmZpZyA9IHsKICAgICAgICBhcHBOYW1lOiAnQ2hhdEdQVCBBdXRvLUNvbnRpbnVlJywgYXBwU3ltYm9sOiAn4omrJywKICAgICAgICBrZXlQcmVmaXg6ICdjaGF0R1BUYXV0b0NvbnRpbnVlJywgdXNlckxhbmd1YWdlOiBjaGF0Z3B0LmdldFVzZXJMYW5ndWFnZSgpLAogICAgICAgIGdpdEh1YlVSTDogJ2h0dHBzOi8vZ2l0aHViLmNvbS9hZGFtbHVpL2NoYXRncHQtYXV0by1jb250aW51ZScsCiAgICAgICAgZ3JlYXN5Rm9ya1VSTDogJ2h0dHBzOi8vZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy80NjY3ODktY2hhdGdwdC1hdXRvLWNvbnRpbnVlJyB9CiAgICBjb25maWcudXBkYXRlVVJMID0gY29uZmlnLmdyZWFzeUZvcmtVUkwucmVwbGFjZSgnaHR0cHM6Ly8nLCAnaHR0cHM6Ly91cGRhdGUuJykKICAgICAgICAucmVwbGFjZSgvKFxkKyktPyhbYS16QS1aLV0qKSQvLCAoXywgaWQsIG5hbWUpID0+IGAkeyBpZCB9LyR7ICFuYW1lID8gJ3NjcmlwdCcgOiBuYW1lIH0ubWV0YS5qc2ApCiAgICBjb25maWcuc3VwcG9ydFVSTCA9IGNvbmZpZy5naXRIdWJVUkwgKyAnL2lzc3Vlcy9uZXcnCiAgICBjb25maWcuYXNzZXRIb3N0VVJMID0gY29uZmlnLmdpdEh1YlVSTC5yZXBsYWNlKCdnaXRodWIuY29tJywgJ3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20nKSArICcvbWFpbi8nCiAgICBsb2FkU2V0dGluZygnbm90aWZEaXNhYmxlZCcpCgogICAgLy8gRGVmaW5lIG1lc3NhZ2VzCiAgICBjb25zdCBtc2dzTG9hZGVkID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7CiAgICAgICAgY29uc3QgbXNnSG9zdERpciA9IGNvbmZpZy5hc3NldEhvc3RVUkwgKyAnZ3JlYXNlbW9ua2V5L19sb2NhbGVzLycsCiAgICAgICAgICAgICAgbXNnTG9jYWxlRGlyID0gKCBjb25maWcudXNlckxhbmd1YWdlID8gY29uZmlnLnVzZXJMYW5ndWFnZS5yZXBsYWNlKCctJywgJ18nKSA6ICdlbicgKSArICcvJwogICAgICAgIGxldCBtc2dIcmVmID0gbXNnSG9zdERpciArIG1zZ0xvY2FsZURpciArICdtZXNzYWdlcy5qc29uJywgbXNnWEhSdHJpZXMgPSAwCiAgICAgICAgR00ueG1sSHR0cFJlcXVlc3QoeyBtZXRob2Q6ICdHRVQnLCB1cmw6IG1zZ0hyZWYsIG9ubG9hZDogb25Mb2FkIH0pCiAgICAgICAgZnVuY3Rpb24gb25Mb2FkKHJlc3BvbnNlKSB7CiAgICAgICAgICAgIHRyeSB7IC8vIHRvIHJldHVybiBsb2NhbGl6ZWQgbWVzc2FnZXMuanNvbgogICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZXMgPSBuZXcgUHJveHkoSlNPTi5wYXJzZShyZXNwb25zZS5yZXNwb25zZVRleHQpLCB7CiAgICAgICAgICAgICAgICAgICAgZ2V0KHRhcmdldCwgcHJvcCkgeyAvLyByZW1vdmUgbmVlZCB0byByZWYgbmVzdGVkIGtleXMKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0YXJnZXRbcHJvcF0gPT0gJ29iamVjdCcgJiYgdGFyZ2V0W3Byb3BdICE9PSBudWxsICYmICdtZXNzYWdlJyBpbiB0YXJnZXRbcHJvcF0pIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXRbcHJvcF0ubWVzc2FnZQogICAgICAgICAgICAgICAgfX19KSA7IHJlc29sdmUobWVzc2FnZXMpCiAgICAgICAgICAgIH0gY2F0Y2ggKGVycikgeyAvLyBpZiA0MDQKICAgICAgICAgICAgICAgIG1zZ1hIUnRyaWVzKysgOyBpZiAobXNnWEhSdHJpZXMgPT09IDMpIHJldHVybiAvLyB0cnkgdXAgdG8gM1ggKG9yaWdpbmFsL3JlZ2lvbi1zdHJpcHBlZC9FTikgb25seQogICAgICAgICAgICAgICAgbXNnSHJlZiA9IGNvbmZpZy51c2VyTGFuZ3VhZ2UuaW5jbHVkZXMoJy0nKSAmJiBtc2dYSFJ0cmllcyA9PT0gMSA/IC8vIGlmIHJlZ2lvbmFsIGxhbmcgb24gMXN0IHRyeS4uLgogICAgICAgICAgICAgICAgICAgIG1zZ0hyZWYucmVwbGFjZSgvKFteX10qKV9bXi9dKihcLy4qKS8sICckMSQyJykgLy8gLi4uc3RyaXAgcmVnaW9uIGJlZm9yZSByZXRyeWluZwogICAgICAgICAgICAgICAgICAgICAgICA6ICggbXNnSG9zdERpciArICdlbi9tZXNzYWdlcy5qc29uJyApIC8vIGVsc2UgdXNlIGRlZmF1bHQgRW5nbGlzaCBtZXNzYWdlcwogICAgICAgICAgICAgICAgR00ueG1sSHR0cFJlcXVlc3QoeyBtZXRob2Q6ICdHRVQnLCB1cmw6IG1zZ0hyZWYsIG9ubG9hZDogb25Mb2FkIH0pCiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9KSA7IGNvbnN0IG1lc3NhZ2VzID0gYXdhaXQgbXNnc0xvYWRlZAoKICAgIC8vIEluaXQvcmVnaXN0ZXIgbWVudQogICAgbGV0IG1lbnVJRHMgPSBbXSwgc3RhdGUgPSB7IHN5bWJvbDogWyfinJTvuI8nLCAn4p2MJ10sIHdvcmQ6IFsnT04nLCAnT0ZGJ10sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VwYXJhdG9yOiBnZXRVc2Vyc2NyaXB0TWFuYWdlcigpID09ICdUYW1wZXJtb25rZXknID8gJyDigJQgJyA6ICc6ICcgfQogICAgcmVnaXN0ZXJNZW51KCkgLy8gY3JlYXRlIGJyb3dzZXIgdG9vbGJhciBtZW51CgogICAgLy8gU3R5bGl6ZSBhbGVydHMKICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYXRncHQtYWxlcnQtb3ZlcnJpZGUtc3R5bGUnKSkgewogICAgICAgIGNvbnN0IGNoYXRncHRBbGVydFN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKQogICAgICAgIGNoYXRncHRBbGVydFN0eWxlLmlkID0gJ2NoYXRncHQtYWxlcnQtb3ZlcnJpZGUtc3R5bGUnCiAgICAgICAgY2hhdGdwdEFsZXJ0U3R5bGUuaW5uZXJUZXh0ID0gJy5jaGF0Z3B0LW1vZGFsIGJ1dHRvbiB7JwogICAgICAgICAgICAgICAgKyAnZm9udC1zaXplOiAwLjc3cmVtIDsgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZSA7JwogICAgICAgICAgICAgICAgKyAnYm9yZGVyLXJhZGl1czogMCAhaW1wb3J0YW50IDsgcGFkZGluZzogNXB4ICFpbXBvcnRhbnQgOyBtaW4td2lkdGg6IDEwMnB4IH0nCiAgICAgICAgICAgICsgJy5tb2RhbC1idXR0b25zIHsgbWFyZ2luLWxlZnQ6IC0xM3B4ICFpbXBvcnRhbnQgfScKICAgICAgICBkb2N1bWVudC5oZWFkLmFwcGVuZChjaGF0Z3B0QWxlcnRTdHlsZSkKICAgIH0KCiAgICAvLyBPYnNlcnZlIERPTSBmb3IgbmVlZCB0byBjb250aW51ZSBnZW5lcmF0aW5nIHJlc3BvbnNlCiAgICBhd2FpdCBjaGF0Z3B0LmlzTG9hZGVkKCkKICAgIGNvbnN0IGNvbnRpbnVlT2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb25PYnNlcnZlcihtdXRhdGlvbnMgPT4gbXV0YXRpb25zLmZvckVhY2gobXV0YXRpb24gPT4gewogICAgICAgIGlmIChtdXRhdGlvbi5hdHRyaWJ1dGVOYW1lID09ICdzdHlsZScgJiYgbXV0YXRpb24udGFyZ2V0LnN0eWxlLm9wYWNpdHkgPT0gJzEnKSB7CiAgICAgICAgICAgIGNoYXRncHQuZ2V0Q29udGludWVHZW5lcmF0aW5nQnV0dG9uKCkuY2xpY2soKQogICAgICAgICAgICBub3RpZnkobWVzc2FnZXMubm90aWZfY2hhdEF1dG9Db250aW51ZWQgfHwgJ0NoYXQgQXV0by1Db250aW51ZWQnLCAnYm90dG9tLXJpZ2h0JykKICAgIH19KSkKICAgIGNvbnRpbnVlT2JzZXJ2ZXIub2JzZXJ2ZShkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluJyksIHsgYXR0cmlidXRlczogdHJ1ZSwgc3VidHJlZTogdHJ1ZSB9KQoKICAgIC8vIE5vdGlmeSBvZiBzdGF0dXMgb24gbG9hZAogICAgaWYgKCFjb25maWcubm90aWZEaXNhYmxlZCkgbm90aWZ5KCggbWVzc2FnZXMubW9kZV9hdXRvQ29udGludWUgfHwgJ0F1dG8tQ29udGludWUnICkgKyAnOiBPTicpCgogICAgLy8gRGVmaW5lIFNDUklQVCBmdW5jdGlvbnMKCiAgICBmdW5jdGlvbiBsb2FkU2V0dGluZyguLi5rZXlzKSB7IGtleXMuZm9yRWFjaChrZXkgPT4gY29uZmlnW2tleV0gPSBHTV9nZXRWYWx1ZShjb25maWcua2V5UHJlZml4ICsgJ18nICsga2V5LCBmYWxzZSkpIH0KICAgIGZ1bmN0aW9uIHNhdmVTZXR0aW5nKGtleSwgdmFsdWUpIHsgR01fc2V0VmFsdWUoY29uZmlnLmtleVByZWZpeCArICdfJyArIGtleSwgdmFsdWUpIDsgY29uZmlnW2tleV0gPSB2YWx1ZSB9CiAgICBmdW5jdGlvbiBzYWZlV2luZG93T3Blbih1cmwpIHsgd2luZG93Lm9wZW4odXJsLCAnX2JsYW5rJywgJ25vb3BlbmVyJykgfSAvLyB0byBwcmV2ZW50IGJhY2tkb29yIHZ1bG5lcmFiaWxpdGllcwogICAgZnVuY3Rpb24gZ2V0VXNlcnNjcmlwdE1hbmFnZXIoKSB7IHRyeSB7IHJldHVybiBHTV9pbmZvLnNjcmlwdEhhbmRsZXIgfSBjYXRjaCAoZXJyKSB7IHJldHVybiAnb3RoZXInIH19CgogICAgLy8gRGVmaW5lIE1FTlUgZnVuY3Rpb25zCgogICAgZnVuY3Rpb24gcmVnaXN0ZXJNZW51KCkgewogICAgICAgIG1lbnVJRHMgPSBbXSAvLyBlbXB0eSB0byBzdG9yZSBuZXdseSByZWdpc3RlcmVkIGNtZHMgZm9yIHJlbW92YWwgd2hpbGUgcHJlc2VydmluZyBvcmRlcgoKICAgICAgICAvLyBBZGQgY29tbWFuZCB0byBoaWRlL3Nob3cgbm90aWZpY2F0aW9ucyBvbiBsb2FkCiAgICAgICAgY29uc3QgbW5MYWJlbCA9IHN0YXRlLnN5bWJvbFsrY29uZmlnLm5vdGlmRGlzYWJsZWRdICsgJyAnCiAgICAgICAgICAgICAgICAgICAgICArICggbWVzc2FnZXMubWVudUxhYmVsX21vZGVOb3RpZnMgfHwgJ01vZGUgTm90aWZpY2F0aW9ucycgKQogICAgICAgICAgICAgICAgICAgICAgKyBzdGF0ZS5zZXBhcmF0b3IgKyBzdGF0ZS53b3JkWytjb25maWcubm90aWZEaXNhYmxlZF0KICAgICAgICBtZW51SURzLnB1c2goR01fcmVnaXN0ZXJNZW51Q29tbWFuZChtbkxhYmVsLCBmdW5jdGlvbigpIHsKICAgICAgICAgICAgc2F2ZVNldHRpbmcoJ25vdGlmRGlzYWJsZWQnLCAhY29uZmlnLm5vdGlmRGlzYWJsZWQpCiAgICAgICAgICAgIG5vdGlmeShtZXNzYWdlcy5tZW51TGFiZWxfbW9kZU5vdGlmcyArICc6ICcgKyBzdGF0ZS53b3JkWytjb25maWcubm90aWZEaXNhYmxlZF0pCiAgICAgICAgICAgIGZvciAoY29uc3QgaWQgb2YgbWVudUlEcykgeyBHTV91bnJlZ2lzdGVyTWVudUNvbW1hbmQoaWQpIH0gcmVnaXN0ZXJNZW51KCkgLy8gcmVmcmVzaCBtZW51CiAgICAgICAgfSkpCgogICAgICAgIC8vIEFkZCBjb21tYW5kIHRvIGxhdW5jaCBBYm91dCBtb2RhbAogICAgICAgIGNvbnN0IGFib3V0TGFiZWwgPSBg8J+SoSAkeyBtZXNzYWdlcy5tZW51TGFiZWxfYWJvdXQgfHwgJ0Fib3V0JyB9ICR7IG1lc3NhZ2VzLmFwcE5hbWUgfHwgY29uZmlnLmFwcE5hbWUgfWAKICAgICAgICBtZW51SURzLnB1c2goR01fcmVnaXN0ZXJNZW51Q29tbWFuZChhYm91dExhYmVsLCBsYXVuY2hBYm91dE1vZGFsKSkKICAgIH0KCiAgICBmdW5jdGlvbiBsYXVuY2hBYm91dE1vZGFsKCkgewoKICAgICAgICAvLyBTaG93IGFsZXJ0CiAgICAgICAgY29uc3QgY2hhdGdwdEpTdmVyID0gKC9jaGF0Z3B0LShbXGQuXSspXC5taW4vLmV4ZWMoR01faW5mby5zY3JpcHQuaGVhZGVyKSB8fCBbbnVsbCwgJyddKVsxXSwKICAgICAgICAgICAgICBoZWFkaW5nU3R5bGUgPSAnZm9udC1zaXplOiAxLjE1cmVtJywKICAgICAgICAgICAgICBwU3R5bGUgPSAncG9zaXRpb246IHJlbGF0aXZlIDsgbGVmdDogM3B4JywKICAgICAgICAgICAgICBwQnJTdHlsZSA9ICdwb3NpdGlvbjogcmVsYXRpdmUgOyBsZWZ0OiA0cHggJywKICAgICAgICAgICAgICBhU3R5bGUgPSAnY29sb3I6ICcgKyAoIGNoYXRncHQuaXNEYXJrTW9kZSgpID8gJyNjNjdhZmInIDogJyM4MzI1YzQnICkgLy8gcHVycGxlCiAgICAgICAgY29uc3QgYWJvdXRBbGVydElEID0gYWxlcnQoCiAgICAgICAgICAgIG1lc3NhZ2VzLmFwcE5hbWUgfHwgY29uZmlnLmFwcE5hbWUsIC8vIHRpdGxlCiAgICAgICAgICAgIGA8c3BhbiBzdHlsZT0iJHsgaGVhZGluZ1N0eWxlIH0iPjxiPvCfj7fvuI8gPGk+JHsgbWVzc2FnZXMuYWJvdXRfdmVyc2lvbiB8fCAnVmVyc2lvbicgfTwvaT48L2I+OiA8L3NwYW4+YAogICAgICAgICAgICAgICAgKyBgPHNwYW4gc3R5bGU9IiR7IHBTdHlsZSB9Ij4keyBHTV9pbmZvLnNjcmlwdC52ZXJzaW9uIH08L3NwYW4+XG5gCiAgICAgICAgICAgICsgYDxzcGFuIHN0eWxlPSIkeyBoZWFkaW5nU3R5bGUgfSI+PGI+4pqhIDxpPiR7IG1lc3NhZ2VzLmFib3V0X3Bvd2VyZWRCeSB8fCAnUG93ZXJlZCBieScgfTwvaT48L2I+OiA8L3NwYW4+YAogICAgICAgICAgICAgICAgKyBgPHNwYW4gc3R5bGU9IiR7IHBTdHlsZSB9Ij48YSBzdHlsZT0iJHsgYVN0eWxlIH0iIGhyZWY9Imh0dHBzOi8vY2hhdGdwdC5qcy5vcmciIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vb3BlbmVyIj5gCiAgICAgICAgICAgICAgICArICdjaGF0Z3B0LmpzPC9hPicgKyAoIGNoYXRncHRKU3ZlciA/ICggJyB2JyArIGNoYXRncHRKU3ZlciApIDogJycgKSArICc8L3NwYW4+XG4nCiAgICAgICAgICAgICsgYDxzcGFuIHN0eWxlPSIkeyBoZWFkaW5nU3R5bGUgfSI+PGI+8J+TnCA8aT4keyBtZXNzYWdlcy5hYm91dF9zb3VyY2VDb2RlIHx8ICdTb3VyY2UgY29kZScgfTwvaT48L2I+Ojwvc3Bhbj5cbmAKICAgICAgICAgICAgICAgICsgYDxzcGFuIHN0eWxlPSIkeyBwQnJTdHlsZSB9Ij48YSBocmVmPSIkeyBjb25maWcuZ2l0SHViVVJMIH0iIHRhcmdldD0iX2JsYW5rIiByZWw9Im5vcGVuZXIiPmAKICAgICAgICAgICAgICAgICsgY29uZmlnLmdpdEh1YlVSTCArICc8L2E+PC9zcGFuPicsCiAgICAgICAgICAgIFsgLy8gYnV0dG9ucwogICAgICAgICAgICAgICAgZnVuY3Rpb24gY2hlY2tGb3JVcGRhdGVzKCkgeyB1cGRhdGVDaGVjaygpIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBnZXRTdXBwb3J0KCkgeyBzYWZlV2luZG93T3Blbihjb25maWcuc3VwcG9ydFVSTCkgfSwKICAgICAgICAgICAgICAgIGZ1bmN0aW9uIGxlYXZlQVJldmlldygpIHsgc2FmZVdpbmRvd09wZW4oY29uZmlnLmdyZWFzeUZvcmtVUkwgKyAnL2ZlZWRiYWNrI3Bvc3QtZGlzY3Vzc2lvbicpIH0sCiAgICAgICAgICAgICAgICBmdW5jdGlvbiBtb3JlQ2hhdEdQVGFwcHMoKSB7IHNhZmVXaW5kb3dPcGVuKCdodHRwczovL2dpdGh1Yi5jb20vYWRhbWx1aS9jaGF0Z3B0LWFwcHMnKSB9CiAgICAgICAgICAgIF0sICcnLCA0NzggLy8gc2V0IHdpZHRoCiAgICAgICAgKQoKICAgICAgICAvLyBSZS1mb3JtYXQgYnV0dG9ucyB0byBpbmNsdWRlIGVtb2ppICsgbG9jYWxpemVkIGxhYmVsICsgaGlkZSBEaXNtaXNzIGJ1dHRvbgogICAgICAgIGZvciAoY29uc3QgYnV0dG9uIG9mIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGFib3V0QWxlcnRJRCkucXVlcnlTZWxlY3RvckFsbCgnYnV0dG9uJykpIHsKICAgICAgICAgICAgaWYgKC91cGRhdGVzL2kudGVzdChidXR0b24udGV4dENvbnRlbnQpKSBidXR0b24udGV4dENvbnRlbnQgPSAoCiAgICAgICAgICAgICAgICAn8J+agCAnICsgKCBtZXNzYWdlcy5idXR0b25MYWJlbF91cGRhdGVDaGVjayB8fCAnQ2hlY2sgZm9yIFVwZGF0ZXMnICkpCiAgICAgICAgICAgIGVsc2UgaWYgKC9zdXBwb3J0L2kudGVzdChidXR0b24udGV4dENvbnRlbnQpKSBidXR0b24udGV4dENvbnRlbnQgPSAoCiAgICAgICAgICAgICAgICAn8J+noCAnICsgKCBtZXNzYWdlcy5idXR0b25MYWJlbF9nZXRTdXBwb3J0IHx8ICdHZXQgU3VwcG9ydCcgKSkKICAgICAgICAgICAgZWxzZSBpZiAoL3Jldmlldy9pLnRlc3QoYnV0dG9uLnRleHRDb250ZW50KSkgYnV0dG9uLnRleHRDb250ZW50ID0gKAogICAgICAgICAgICAgICAgJ+KtkCAnICsgKCBtZXNzYWdlcy5idXR0b25MYWJlbF9sZWF2ZVJldmlldyB8fCAnTGVhdmUgYSBSZXZpZXcnICkpCiAgICAgICAgICAgIGVsc2UgaWYgKC9hcHBzL2kudGVzdChidXR0b24udGV4dENvbnRlbnQpKSBidXR0b24udGV4dENvbnRlbnQgPSAoCiAgICAgICAgICAgICAgICAn8J+kliAnICsgKCBtZXNzYWdlcy5idXR0b25MYWJlbF9tb3JlQXBwcyB8fCAnTW9yZSBDaGF0R1BUIEFwcHMnICkpCiAgICAgICAgICAgIGVsc2UgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZScgLy8gaGlkZSBEaXNtaXNzIGJ1dHRvbgogICAgICAgIH0KICAgIH0KCiAgICBmdW5jdGlvbiB1cGRhdGVDaGVjaygpIHsKCiAgICAgICAgLy8gRmV0Y2ggbGF0ZXN0IG1ldGEKICAgICAgICBjb25zdCBjdXJyZW50VmVyID0gR01faW5mby5zY3JpcHQudmVyc2lvbgogICAgICAgIEdNLnhtbEh0dHBSZXF1ZXN0KHsKICAgICAgICAgICAgbWV0aG9kOiAnR0VUJywgdXJsOiBjb25maWcudXBkYXRlVVJMICsgJz90PScgKyBEYXRlLm5vdygpLAogICAgICAgICAgICBoZWFkZXJzOiB7ICdDYWNoZS1Db250cm9sJzogJ25vLWNhY2hlJyB9LAogICAgICAgICAgICBvbmxvYWQ6IHJlc3BvbnNlID0+IHsgY29uc3QgdXBkYXRlQWxlcnRXaWR0aCA9IDM3NwoKICAgICAgICAgICAgICAgIC8vIENvbXBhcmUgdmVyc2lvbnMKICAgICAgICAgICAgICAgIGNvbnN0IGxhdGVzdFZlciA9IC9AdmVyc2lvbiArKC4qKS8uZXhlYyhyZXNwb25zZS5yZXNwb25zZVRleHQpWzFdCiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMCA7IGkgPCA0IDsgaSsrKSB7IC8vIGxvb3AgdGhydSBzdWJ2ZXIncwogICAgICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdWJWZXIgPSBwYXJzZUludChjdXJyZW50VmVyLnNwbGl0KCcuJylbaV0sIDEwKSB8fCAwLAogICAgICAgICAgICAgICAgICAgICAgICAgIGxhdGVzdFN1YlZlciA9IHBhcnNlSW50KGxhdGVzdFZlci5zcGxpdCgnLicpW2ldLCAxMCkgfHwgMAogICAgICAgICAgICAgICAgICAgIGlmIChjdXJyZW50U3ViVmVyID4gbGF0ZXN0U3ViVmVyKSBicmVhayAvLyBvdXQgb2YgY29tcGFyaXNvbiBzaW5jZSBub3Qgb3V0ZGF0ZWQKICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChsYXRlc3RTdWJWZXIgPiBjdXJyZW50U3ViVmVyKSB7IC8vIGlmIG91dGRhdGVkCgogICAgICAgICAgICAgICAgICAgICAgICAvLyBBbGVydCB0byB1cGRhdGUKICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlQWxlcnRJRCA9IGFsZXJ0KCggbWVzc2FnZXMuYWxlcnRfdXBkYXRlQXZhaWwgfHwgJ1VwZGF0ZSBhdmFpbGFibGUnICkgKyAnISDwn5qAJywgLy8gdGl0bGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICggbWVzc2FnZXMuYWxlcnRfbmV3ZXJWZXIgfHwgJ0FuIHVwZGF0ZSB0bycgKSArICcgJyAvLyBtc2cKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICggbWVzc2FnZXMuYXBwTmFtZSB8fCBjb25maWcuYXBwTmFtZSApICsgJyAnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyBgKHYgJHsgbGF0ZXN0VmVyIH0pICR7IG1lc3NhZ2VzLmFsZXJ0X2lzQXZhaWwgfHwgJ2lzIGF2YWlsYWJsZScgfSEgICBgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKyAnPGEgdGFyZ2V0PSJfYmxhbmsiIHJlbD0ibm9vcGVuZXIiIHN0eWxlPSJmb250LXNpemU6IDAuN3JlbSIgJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArICdocmVmPSInICsgY29uZmlnLmdpdEh1YlVSTCArICcvY29tbWl0cy9tYWluL2dyZWFzZW1vbmtleS8nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICsgY29uZmlnLnVwZGF0ZVVSTC5yZXBsYWNlKC8uKlwvKC4qKW1ldGFcLmpzLywgJyQxdXNlci5qcycpICsgJyIgJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICArIGA+ICR7IG1lc3NhZ2VzLmxpbmtfdmlld0NoYW5nZXMgfHwgJ1ZpZXcgY2hhbmdlcycgfTwvYT5gLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24gdXBkYXRlKCkgeyAvLyBidXR0b24KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBHTV9vcGVuSW5UYWIoY29uZmlnLnVwZGF0ZVVSTC5yZXBsYWNlKCdtZXRhLmpzJywgJ3VzZXIuanMnKSArICc/dD0nICsgRGF0ZS5ub3coKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgeyBhY3RpdmU6IHRydWUsIGluc2VydDogdHJ1ZSB9IC8vIGZvY3VzLCBtYWtlIGFkamFjZW50CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKS5vbmNsb3NlID0gKCkgPT4gbG9jYXRpb24ucmVsb2FkKCkgfSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICcnLCB1cGRhdGVBbGVydFdpZHRoCiAgICAgICAgICAgICAgICAgICAgICAgICkKCiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExvY2FsaXplIGJ1dHRvbiBsYWJlbHMgaWYgbmVlZGVkCiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghY29uZmlnLnVzZXJMYW5ndWFnZS5zdGFydHNXaXRoKCdlbicpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB1cGRhdGVBbGVydCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYFtpZD0iJHsgdXBkYXRlQWxlcnRJRCB9Il1gKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZUJ0bnMgPSB1cGRhdGVBbGVydC5xdWVyeVNlbGVjdG9yQWxsKCdidXR0b24nKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQnRuc1sxXS50ZXh0Q29udGVudCA9IG1lc3NhZ2VzLmJ1dHRvbkxhYmVsX3VwZGF0ZSB8fCAnVXBkYXRlJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlQnRuc1swXS50ZXh0Q29udGVudCA9IG1lc3NhZ2VzLmJ1dHRvbkxhYmVsX2Rpc21pc3MgfHwgJ0Rpc21pc3MnCiAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybgogICAgICAgICAgICAgICAgfX0KCiAgICAgICAgICAgICAgICAvLyBBbGVydCB0byBubyB1cGRhdGUsIHJldHVybiB0byBBYm91dCBhbGVydAogICAgICAgICAgICAgICAgYWxlcnQoKCBtZXNzYWdlcy5hbGVydF91cFRvRGF0ZSB8fCAnVXAtdG8tZGF0ZScgKSArICchJywgLy8gdGl0bGUKICAgICAgICAgICAgICAgICAgICBgJHsgbWVzc2FnZXMuYXBwTmFtZSB8fCAnQ2hhdEdQVCBXaWRlc2NyZWVuIE1vZGUnIH0gKHYkeyBjdXJyZW50VmVyIH0pIGAgLy8gbXNnCiAgICAgICAgICAgICAgICAgICAgICAgICsgKCBtZXNzYWdlcy5hbGVydF9pc1VwVG9EYXRlIHx8ICdpcyB1cC10by1kYXRlJyApICsgJyEnLAogICAgICAgICAgICAgICAgICAgICcnLCAnJywgdXBkYXRlQWxlcnRXaWR0aAogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgbGF1bmNoQWJvdXRNb2RhbCgpCiAgICB9fSl9CgogICAgLy8gRGVmaW5lIEZFRURCQUNLIGZ1bmN0aW9ucwoKICAgIGZ1bmN0aW9uIG5vdGlmeShtc2csIHBvc2l0aW9uID0gJycsIG5vdGlmRHVyYXRpb24gPSAnJywgc2hhZG93ID0gJycpIHsKICAgICAgICBjaGF0Z3B0Lm5vdGlmeShgJHsgY29uZmlnLmFwcFN5bWJvbCB9ICR7IG1zZyB9YCwgcG9zaXRpb24sIG5vdGlmRHVyYXRpb24sIHNoYWRvdyB8fCBjaGF0Z3B0LmlzRGFya01vZGUoKSA/ICcnIDogJ3NoYWRvdycpIH0KCiAgICBmdW5jdGlvbiBhbGVydCh0aXRsZSA9ICcnLCBtc2cgPSAnJywgYnRucyA9ICcnLCBjaGVja2JveCA9ICcnLCB3aWR0aCA9ICcnKSB7CiAgICAgICAgcmV0dXJuIGNoYXRncHQuYWxlcnQoYCR7IGNvbmZpZy5hcHBTeW1ib2wgfSAkeyB0aXRsZSB9YCwgbXNnLCBidG5zLCBjaGVja2JveCwgd2lkdGggKX0KCn0pKCkK","requires":[{"meta":{"name":"chatgpt.min.js","url":"https://cdn.jsdelivr.net/npm/@kudoai/chatgpt.js@2.6.8/dist/chatgpt.min.js#sha256-veeaKpmLF7CZ6kxNfn8SMjD36ijLffGCzel9G4ykpPI=","sri":{"type":"sha256","value":"bde79a2a998b17b099ea4c4d7e7f123230f7ea28cb7df182cde97d1b8ca4a4f2"},"ts":1713949253349,"mimetype":"text/javascript"},"source":"Y29uc3QgaD17YXNzZXRzOiJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vS3Vkb0FJL2NoYXRncHQuanMvbWFpbiIsb3BlbkFJOntzZXNzaW9uOiJodHRwczovL2NoYXQub3BlbmFpLmNvbS9hcGkvYXV0aC9zZXNzaW9uIixjaGF0czoiaHR0cHM6Ly9jaGF0Lm9wZW5haS5jb20vYmFja2VuZC1hcGkvY29udmVyc2F0aW9ucyIsY2hhdDoiaHR0cHM6Ly9jaGF0Lm9wZW5haS5jb20vYmFja2VuZC1hcGkvY29udmVyc2F0aW9uIixzaGFyZV9jcmVhdGU6Imh0dHBzOi8vY2hhdC5vcGVuYWkuY29tL2JhY2tlbmQtYXBpL3NoYXJlL2NyZWF0ZSIsc2hhcmU6Imh0dHBzOi8vY2hhdC5vcGVuYWkuY29tL2JhY2tlbmQtYXBpL3NoYXJlIixpbnN0cnVjdGlvbnM6Imh0dHBzOi8vY2hhdC5vcGVuYWkuY29tL2JhY2tlbmQtYXBpL3VzZXJfc3lzdGVtX21lc3NhZ2VzIn19LGU9KGxvY2FsU3RvcmFnZS5hbGVydFF1ZXVlPUpTT04uc3RyaW5naWZ5KFtdKSxsb2NhbFN0b3JhZ2Uubm90aWZ5UHJvcHM9SlNPTi5zdHJpbmdpZnkoe3F1ZXVlOnt0b3BSaWdodDpbXSxib3R0b21SaWdodDpbXSxib3R0b21MZWZ0OltdLHRvcExlZnQ6W119LGxhc3ROdGhBdWRpbzowfSksbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygiQ2hyb21lIikmJiJ1bmRlZmluZWQiIT10eXBlb2YgdW5zYWZlV2luZG93KSx0PW5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoIkZpcmVmb3giKSYmInVuZGVmaW5lZCIhPXR5cGVvZiB1bnNhZmVXaW5kb3cseT10JiYiVGFtcGVybW9ua2V5Ij09R01faW5mby5zY3JpcHRIYW5kbGVyO2xldCB4O2V8fHQmJiF5fHwoYXN5bmMoKT0+e3ZhciBlPW5ldyBQcm9taXNlKG89Pntjb25zdCByPW5hdmlnYXRvci5sYW5ndWFnZXNbMF18fG5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnN5c3RlbUxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfHwiIixzPWguYXNzZXRzKyIvZGF0YS9fbG9jYWxlcy8iLGU9KHI/ci5yZXBsYWNlKCItIiwiXyIpOiJlbiIpKyIvIjtsZXQgYT1zK2UrIm1lc3NhZ2VzLmpzb24iLGk9MDshZnVuY3Rpb24gdCgpe2NvbnN0IG49bmV3IFhNTEh0dHBSZXF1ZXN0O24ub3BlbigiR0VUIixhKSxuLnNlbmQoKSxuLm9ubG9hZD0oKT0+e3RyeXt2YXIgZT1uZXcgUHJveHkoSlNPTi5wYXJzZShuLnJlc3BvbnNlVGV4dCkse2dldChlLHQpe2lmKCJvYmplY3QiPT10eXBlb2YgZVt0XSYmbnVsbCE9PWVbdF0mJiJtZXNzYWdlImluIGVbdF0pcmV0dXJuIGVbdF0ubWVzc2FnZX19KTtvKGUpfWNhdGNoKGUpezM9PT0rK2kmJm8oe30pLGE9ci5pbmNsdWRlcygiLSIpJiYxPT09aT9hLnJlcGxhY2UoLyhbXl9dKilfW14vXSooXC8uKikvLCIkMSQyIik6cysiZW4vbWVzc2FnZXMuanNvbiIsdCgpfX0sbi5vbmVycm9yPSgpPT57byh7fSl9fSgpfSk7eD1hd2FpdCBlfSkoKTtjb25zdCBDPXtvcGVuQUlhY2Nlc3NUb2tlbjp7fSxhY3RBczpmdW5jdGlvbihhKXtyZXR1cm4gbmV3IFByb21pc2UoKG8scik9Pntjb25zdCBzPW5ldyBYTUxIdHRwUmVxdWVzdDtzLm9wZW4oIkdFVCIsImh0dHBzOi8vcmF3LmdpdGh1YnVzZXJjb250ZW50LmNvbS9LdWRvQUkvY2hhdC1wcm9tcHRzL21haW4vZGlzdC9wZXJzb25hcy5taW4uanNvbiIsITApLHMuc2VuZCgpLHMub25sb2FkPSgpPT57aWYoMjAwIT09cy5zdGF0dXMpcmV0dXJuIHIoIvCfpJYgY2hhdGdwdC5qcyA+PiBSZXF1ZXN0IGZhaWxlZC4gQ2Fubm90IHJldHJpZXZlIHByb21wdHMgZGF0YS4iKTt2YXIgZT1KU09OLnBhcnNlKHMucmVzcG9uc2VUZXh0KS5wZXJzb25hcztpZihhKXt2YXIgdD1lLmZpbmQoZT0+ZS50aXRsZS50b0xvd2VyQ2FzZSgpPT1hLnRvTG93ZXJDYXNlKCkpO2lmKCF0KXJldHVybiByKGDwn6SWIGNoYXRncHQuanMgPj4gUGVyc29uYSAnJHthfScgd2FzIG5vdCBmb3VuZCFgKTtDLnNlbmQodC5wcm9tcHQsImNsaWNrIiksY29uc29sZS5pbmZvKGBMb2FkaW5nICR7YX0gcGVyc29uYS4uLmApLEMuaXNJZGxlKCkudGhlbigoKT0+e2NvbnNvbGUuaW5mbygiUGVyc29uYSBhY3RpdmF0ZWQhIil9KX1lbHNle2NvbnNvbGUubG9nKCJcbiVj8J+kliBjaGF0Z3B0LmpzIHBlcnNvbmFzXG4iLCJmb250LWZhbWlseTogc2Fucy1zZXJpZiA7IGZvbnQtc2l6ZTogeHh4LWxhcmdlIDsgZm9udC13ZWlnaHQ6IGJvbGQiKTtmb3IoY29uc3QgbiBvZiBlKWNvbnNvbGUubG9nKCIlYyIrbi50aXRsZSwiZm9udC1mYW1pbHk6IG1vbm9zcGFjZSA7IGZvbnQtc2l6ZTogbGFyZ2VyIDsiKX1yZXR1cm4gbygpfX0pfSxhY3RpdmF0ZURhcmtNb2RlOmZ1bmN0aW9uKCl7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZXBsYWNlKCJsaWdodCIsImRhcmsiKSxkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUuY29sb3JTY2hlbWU9ImRhcmsiLGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0aGVtZSIsImRhcmsiKX0sYWN0aXZhdGVMaWdodE1vZGU6ZnVuY3Rpb24oKXtkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xhc3NMaXN0LnJlcGxhY2UoImRhcmsiLCJsaWdodCIpLGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zdHlsZS5jb2xvclNjaGVtZT0ibGlnaHQiLGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ0aGVtZSIsImxpZ2h0Iil9LGFsZXJ0OmZ1bmN0aW9uKGUsdCxuLG8scil7Y29uc3Qgcz1DLmlzRGFya01vZGUoKT8iZGFyayI6ImxpZ2h0IixhPUMuYnJvd3Nlci5pc01vYmlsZSgpLGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksYz0oaS5pZD1NYXRoLmZsb29yKDFlNipDLnJhbmRvbUZsb2F0KCkpK0RhdGUubm93KCksaS5jbGFzc0xpc3QuYWRkKCJjaGF0Z3B0LW1vZGFsIiksZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IikpLGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaDIiKSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInAiKTt2YXIgZD0yMDIzMTIwMztsZXQgZj1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjY2hhdGdwdC1tb2RhbC1zdHlsZSIpOyghZnx8cGFyc2VJbnQoZi5nZXRBdHRyaWJ1dGUoImxhc3QtdXBkYXRlZCIpLDEwKTxkKSYmKGZ8fCgoZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzdHlsZSIpKS5pZD0iY2hhdGdwdC1tb2RhbC1zdHlsZSIsZi5zZXRBdHRyaWJ1dGUoImxhc3QtdXBkYXRlZCIsZC50b1N0cmluZygpKSxkb2N1bWVudC5oZWFkLmFwcGVuZChmKSksZi5pbm5lclRleHQ9Ii5jaGF0Z3B0LW1vZGFsIHtwb3NpdGlvbjogZml4ZWQgOyB0b3A6IDAgOyBsZWZ0OiAwIDsgd2lkdGg6IDEwMCUgOyBoZWlnaHQ6IDEwMCUgO2JhY2tncm91bmQtY29sb3I6IHJnYmEoNjcsIDcwLCA3MiwgMCkgO3RyYW5zaXRpb246IGJhY2tncm91bmQtY29sb3IgMC4wNXMgZWFzZSA7ZGlzcGxheTogZmxleCA7IGp1c3RpZnktY29udGVudDogY2VudGVyIDsgYWxpZ24taXRlbXM6IGNlbnRlciA7IHotaW5kZXg6IDk5OTkgfS5jaGF0Z3B0LW1vZGFsID4gZGl2IHtvcGFjaXR5OiAwIDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC0ycHgpIHRyYW5zbGF0ZVkoNXB4KSA7IG1heC13aWR0aDogNzV2dyA7IHdvcmQtd3JhcDogYnJlYWstd29yZCA7dHJhbnNpdGlvbjogb3BhY2l0eSAwLjFzIGN1YmljLWJlemllciguMTY1LC44NCwuNDQsMSksIHRyYW5zZm9ybSAwLjJzIGN1YmljLWJlemllciguMTY1LC44NCwuNDQsMSkgOyIrYGJhY2tncm91bmQtY29sb3I6ICR7ImRhcmsiPT1zPyJibGFjayI6IndoaXRlIn0gO2ArKCJkYXJrIiE9cz8iYm9yZGVyOiAxcHggc29saWQgcmdiYSgwLCAwLCAwLCAwLjMpIDsiOiIiKSsicGFkZGluZzogMjBweCA7IG1hcmdpbjogMTJweCAyM3B4IDsgYm9yZGVyLXJhZGl1czogMTVweCA7IGJveC1zaGFkb3c6IDAgMzBweCA2MHB4IHJnYmEoMCwgMCwgMCwgLjEyKSA7IC13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmUgOyAtbW96LXVzZXItc2VsZWN0OiBub25lIDsgLW1zLXVzZXItc2VsZWN0OiBub25lIDsgdXNlci1zZWxlY3Q6IG5vbmUgOyB9LmNoYXRncHQtbW9kYWwgaDIgeyBtYXJnaW4tYm90dG9tOiA5cHggfSIrYC5jaGF0Z3B0LW1vZGFsIGEgeyBjb2xvcjogJHsiZGFyayI9PXM/IiMwMGNmZmYiOiIjMWU5ZWJiIn19YCsiLmNoYXRncHQtbW9kYWwuYW5pbWF0ZWQgPiBkaXYgeyBvcGFjaXR5OiAxIDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKDApIHRyYW5zbGF0ZVkoMCkgfUBrZXlmcmFtZXMgYWxlcnQtem9vbS1mYWRlLW91dCB7IDAlIHsgb3BhY2l0eTogMSA7IHRyYW5zZm9ybTogc2NhbGUoMSkgfTUwJSB7IG9wYWNpdHk6IDAuMjUgOyB0cmFuc2Zvcm06IHNjYWxlKDEuMDUpIH0xMDAlIHsgb3BhY2l0eTogMCA7IHRyYW5zZm9ybTogc2NhbGUoMS4zNSkgfX0ubW9kYWwtYnV0dG9ucyB7IGRpc3BsYXk6IGZsZXggOyBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtZW5kIDsgbWFyZ2luOiAyMHB4IC01cHggLTNweCAwIDsiKyhhPyJmbGV4LWRpcmVjdGlvbjogY29sdW1uLXJldmVyc2UiOiIiKSsifS5jaGF0Z3B0LW1vZGFsIGJ1dHRvbiB7IitgbWFyZ2luLWxlZnQ6ICR7YT8wOjEwfXB4IDsgcGFkZGluZzogJHthPzE1OjR9cHggMThweCA7IGJvcmRlci1yYWRpdXM6IDE1cHggO2ArKGE/Im1hcmdpbi10b3A6IDVweCA7IG1hcmdpbi1ib3R0b206IDNweCA7IjoiIikrYGJvcmRlcjogMXB4IHNvbGlkICR7ImRhcmsiPT1zPyJ3aGl0ZSI6ImJsYWNrIn19YCsiLnByaW1hcnktbW9kYWwtYnRuIHsiK2Bib3JkZXI6IDFweCBzb2xpZCAkeyJkYXJrIj09cz8id2hpdGUiOiJibGFjayJ9IDtgK2BiYWNrZ3JvdW5kOiAkeyJkYXJrIj09cz8id2hpdGUiOiJibGFjayJ9IDtgK2Bjb2xvcjogJHsiZGFyayI9PXM/ImJsYWNrIjoid2hpdGUifX1gKyIuY2hhdGdwdC1tb2RhbCBidXR0b246aG92ZXIgeyBjb2xvcjogIzNkNWQ3MSA7IGJvcmRlci1jb2xvcjogIzZkOWNiOSA7YmFja2dyb3VuZC1jb2xvcjogIisoImRhcmsiPT1zPyIjMDBjZmZmIjoiIzljZGFmZiIpKyI7Ym94LXNoYWRvdzogMnB4IDFweCAiKygiZGFyayI9PXM/IjU0cHggIzAwY2ZmZiI6IjMwcHggIzljZGFmZiIpKyJ9Lm1vZGFsLWNsb3NlLWJ0biB7Y3Vyc29yOiBwb2ludGVyIDsgd2lkdGg6IDIwcHggOyBoZWlnaHQ6IDIwcHggOyBmbG9hdDogcmlnaHQgOyBwb3NpdGlvbjogcmVsYXRpdmUgOyByaWdodDogLTJweCB9Lm1vZGFsLWNsb3NlLWJ0biBzdmcgeyBtYXJnaW46IDVweCA1cHggfSIrYC5tb2RhbC1jbG9zZS1idG46aG92ZXIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjJmMmYyJHsiZGFyayI9PXM/IjAwIjoiIn19YCsiLmNoYXRncHQtbW9kYWwgLmNoZWNrYm94LWdyb3VwIHsgZGlzcGxheTogZmxleCA7IG1hcmdpbi10b3A6IC0xOHB4IH0uY2hhdGdwdC1tb2RhbCAuY2hlY2tib3gtZ3JvdXAgbGFiZWwge2ZvbnQtc2l6ZTogLjdyZW0gOyBtYXJnaW46IC0uMDRyZW0gMCAwcHggLjNyZW0gOyIrYGNvbG9yOiAkeyJkYXJrIj09cz8iI2UxZTFlMSI6IiMxZTFlMWUifX1gKycuY2hhdGdwdC1tb2RhbCBpbnB1dFt0eXBlPSJjaGVja2JveCJdIHsgdHJhbnNmb3JtOiBzY2FsZSgwLjcpIDsnK2Bib3JkZXI6IDFweCBzb2xpZCAkeyJkYXJrIj09cz8id2hpdGUiOiJibGFjayJ9fWArJy5jaGF0Z3B0LW1vZGFsIGlucHV0W3R5cGU9ImNoZWNrYm94Il06Y2hlY2tlZCB7JytgYm9yZGVyOiAxcHggc29saWQgJHsiZGFyayI9PXM/IndoaXRlIjoiYmxhY2sifSA7YCsnYmFja2dyb3VuZC1jb2xvcjogYmxhY2sgOyBwb3NpdGlvbjogaW5oZXJpdCB9LmNoYXRncHQtbW9kYWwgaW5wdXRbdHlwZT0iY2hlY2tib3giXTpmb2N1cyB7IG91dGxpbmU6IG5vbmUgOyBib3gtc2hhZG93OiBub25lIH0nKSxsLmlubmVyVGV4dD1lfHwiIix1LmlubmVyVGV4dD10fHwiIix0aGlzLnJlbmRlckhUTUwodSk7Y29uc3QgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTtnLmNsYXNzTGlzdC5hZGQoIm1vZGFsLWJ1dHRvbnMiKSxuJiYobj1BcnJheS5pc0FycmF5KG4pP246W25dKS5mb3JFYWNoKGU9Pnt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJidXR0b24iKTt0LnRleHRDb250ZW50PWUubmFtZS5yZXBsYWNlKC9bXy1dXHcvZyxlPT5lLnNsaWNlKDEpLnRvVXBwZXJDYXNlKCkpLnJlcGxhY2UoLyhbQS1aXSkvZywiICQxIikucmVwbGFjZSgvXlx3LyxlPT5lLnRvVXBwZXJDYXNlKCkpLHQuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLCgpPT57digpLGUoKX0pLGcuaW5zZXJ0QmVmb3JlKHQsZy5maXJzdENoaWxkKX0pO2Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYnV0dG9uIiksZC50ZXh0Q29udGVudD1uPyJEaXNtaXNzIjoiT0siLGcuaW5zZXJ0QmVmb3JlKGQsZy5maXJzdENoaWxkKSxnLmxhc3RDaGlsZC5jbGFzc0xpc3QuYWRkKCJwcmltYXJ5LW1vZGFsLWJ0biIpLGU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7aWYobyl7ZS5jbGFzc0xpc3QuYWRkKCJjaGVja2JveC1ncm91cCIpO2NvbnN0IGI9byx3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImlucHV0Iik7dy50eXBlPSJjaGVja2JveCIsdy5hZGRFdmVudExpc3RlbmVyKCJjaGFuZ2UiLGIpO3Q9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgibGFiZWwiKTt0LmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIiwoKT0+e3cuY2hlY2tlZD0hdy5jaGVja2VkLGIoKX0pLHQudGV4dENvbnRlbnQ9Yi5uYW1lLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpK2IubmFtZS5zbGljZSgxKS5yZXBsYWNlKC8oW0EtWl0pL2csKGUsdCk9PiIgIit0LnRvTG93ZXJDYXNlKCkpLnJlcGxhY2UoL1xiKFx3KyludFxiL2dpLCIkMW4ndCIpLnRyaW0oKSxlLmFwcGVuZCh3KSxlLmFwcGVuZCh0KX1uPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpLG4udGl0bGU9eD8udG9vbHRpcF9jbG9zZXx8IkNsb3NlIixuLmNsYXNzTGlzdC5hZGQoIm1vZGFsLWNsb3NlLWJ0biIpLG89ZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInN2ZyIpLG8uc2V0QXR0cmlidXRlKCJoZWlnaHQiLCIxMHB4Iiksby5zZXRBdHRyaWJ1dGUoInZpZXdCb3giLCIwIDAgMTQgMTQiKSxvLnNldEF0dHJpYnV0ZSgiZmlsbCIsIm5vbmUiKSx0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJwYXRoIik7dC5zZXRBdHRyaWJ1dGUoImZpbGwtcnVsZSIsImV2ZW5vZGQiKSx0LnNldEF0dHJpYnV0ZSgiY2xpcC1ydWxlIiwiZXZlbm9kZCIpLHQuc2V0QXR0cmlidXRlKCJmaWxsIixDLmlzRGFya01vZGUoKT8id2hpdGUiOiJibGFjayIpLHQuc2V0QXR0cmlidXRlKCJkIiwiTTEzLjcwNzEgMS43MDcxMUMxNC4wOTc2IDEuMzE2NTggMTQuMDk3NiAwLjY4MzQxNyAxMy43MDcxIDAuMjkyODkzQzEzLjMxNjYgLTAuMDk3NjMxMiAxMi42ODM0IC0wLjA5NzYzMTIgMTIuMjkyOSAwLjI5Mjg5M0w3IDUuNTg1NzlMMS43MDcxMSAwLjI5Mjg5M0MxLjMxNjU4IC0wLjA5NzYzMTIgMC42ODM0MTcgLTAuMDk3NjMxMiAwLjI5Mjg5MyAwLjI5Mjg5M0MtMC4wOTc2MzEyIDAuNjgzNDE3IC0wLjA5NzYzMTIgMS4zMTY1OCAwLjI5Mjg5MyAxLjcwNzExTDUuNTg1NzkgN0wwLjI5Mjg5MyAxMi4yOTI5Qy0wLjA5NzYzMTIgMTIuNjgzNCAtMC4wOTc2MzEyIDEzLjMxNjYgMC4yOTI4OTMgMTMuNzA3MUMwLjY4MzQxNyAxNC4wOTc2IDEuMzE2NTggMTQuMDk3NiAxLjcwNzExIDEzLjcwNzFMNyA4LjQxNDIxTDEyLjI5MjkgMTMuNzA3MUMxMi42ODM0IDE0LjA5NzYgMTMuMzE2NiAxNC4wOTc2IDEzLjcwNzEgMTMuNzA3MUMxNC4wOTc2IDEzLjMxNjYgMTQuMDk3NiAxMi42ODM0IDEzLjcwNzEgMTIuMjkyOUw4LjQxNDIxIDdMMTMuNzA3MSAxLjcwNzExWiIpLG8uYXBwZW5kKHQpLG4uYXBwZW5kKG8pLFtuLGwsdSxnLGVdLmZvckVhY2goZT0+e2MuYXBwZW5kKGUpfSksYy5zdHlsZS53aWR0aD1gJHtyfHw0NTh9cHhgLGkuYXBwZW5kKGMpLGRvY3VtZW50LmJvZHkuYXBwZW5kKGkpO2xldCBwPUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmFsZXJ0UXVldWUpO3AucHVzaChpLmlkKSxsb2NhbFN0b3JhZ2UuYWxlcnRRdWV1ZT1KU09OLnN0cmluZ2lmeShwKSxpLnN0eWxlLmRpc3BsYXk9Im5vbmUiLDE9PT1wLmxlbmd0aCYmKGkuc3R5bGUuZGlzcGxheT0iIixzZXRUaW1lb3V0KCgpPT57aS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9YHJnYmEoNjcsIDcwLCA3MiwgJHsiZGFyayI9PXM/LjYyOjB9KWAsaS5jbGFzc0xpc3QuYWRkKCJhbmltYXRlZCIpfSwxMDApKTtjb25zdCBtPWU9PnsoZS50YXJnZXQ9PWUuY3VycmVudFRhcmdldHx8ZS50YXJnZXQgaW5zdGFuY2VvZiBTVkdQYXRoRWxlbWVudCkmJnYoKX0saD1lPT57aWYoWzEzLDI3XS5pbmNsdWRlcyhlLmtleUNvZGUpKWZvcihjb25zdCBuIG9mIHApe3ZhciB0PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG4pO2lmKHQmJiJub25lIiE9PXQuc3R5bGUuZGlzcGxheSlyZXR1cm4gdm9pZCgyNz09PWUua2V5Q29kZT92KCk6MTM9PT1lLmtleUNvZGUmJih0PXQucXVlcnlTZWxlY3RvcigiLm1vZGFsLWJ1dHRvbnMiKS5sYXN0Q2hpbGQpJiYodC5jbGljaygpLGUucHJldmVudERlZmF1bHQoKSkpfX0seT1baSxuLG8sZF0sdj0oeS5mb3JFYWNoKGU9PntlLmFkZEV2ZW50TGlzdGVuZXIoImNsaWNrIixtKX0pLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoImtleWRvd24iLGgpLCgpPT57aS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3I9InRyYW5zcGFyZW50IixjLnN0eWxlLmFuaW1hdGlvbj0iYWxlcnQtem9vbS1mYWRlLW91dCAwLjA3NXMgZWFzZS1vdXQiLHNldFRpbWVvdXQoKCk9PntpZihpLnJlbW92ZSgpLChwPUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLmFsZXJ0UXVldWUpKS5zaGlmdCgpLGxvY2FsU3RvcmFnZS5hbGVydFF1ZXVlPUpTT04uc3RyaW5naWZ5KHApLHkuZm9yRWFjaChlPT57ZS5yZW1vdmVFdmVudExpc3RlbmVyKCJjbGljayIsbSl9KSxkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCJrZXlkb3duIixoKSwwPHAubGVuZ3RoKXtjb25zdCBlPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHBbMF0pO3NldFRpbWVvdXQoKCk9PntlLnN0eWxlLmRpc3BsYXk9IiIsc2V0VGltZW91dCgoKT0+e2UuY2xhc3NMaXN0LmFkZCgiYW5pbWF0ZWQiKX0sMTAwKX0sNTAwKX19LDUwKX0pO3JldHVybiBpLmlkfSxhc2tBbmRHZXRSZXBseTphc3luYyBmdW5jdGlvbihlKXtyZXR1cm4gQy5zZW5kKGUpLGF3YWl0IEMuaXNJZGxlKCksQy5nZXRDaGF0RGF0YSgiYWN0aXZlIiwibXNnIiwiY2hhdGdwdCIsImxhdGVzdCIpfSxhdXRvUmVmcmVzaDp7YWN0aXZhdGU6ZnVuY3Rpb24oZSl7aWYodGhpcy5pc0FjdGl2ZSljb25zb2xlLmxvZygi4oa7IENoYXRHUFQgPj4gWyIrQy5hdXRvUmVmcmVzaC5ub3dUaW1lU3RhbXAoKSsiXSBBdXRvIHJlZnJlc2ggYWxyZWFkeSBhY3RpdmUhIik7ZWxzZXtjb25zdCBuPXRoaXMsbz0odGhpcy50b2dnbGUucmVmcmVzaEZyYW1lKCksdD0+e3ZhciBlPU1hdGgubWF4KDIsTWF0aC5mbG9vcigyMSpDLnJhbmRvbUZsb2F0KCktMTApKTtuLmlzQWN0aXZlPXNldFRpbWVvdXQoKCk9Pnt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzY3JpcHRbc3JjKj0iX3NzZ01hbmlmZXN0LmpzIl0nKTtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCIjcmVmcmVzaC1mcmFtZSIpLnNyYz1lLnNyYysiPyIrRGF0ZS5ub3coKSxjb25zb2xlLmxvZygi4oa7IENoYXRHUFQgPj4gWyIrbi5ub3dUaW1lU3RhbXAoKSsiXSBDaGF0R1BUIHNlc3Npb24gcmVmcmVzaGVkIiksbyh0KX0sMWUzKih0K2UpKX0pO28oZT9wYXJzZUludChlLDEwKTozMCksY29uc29sZS5sb2coIuKGuyBDaGF0R1BUID4+IFsiK0MuYXV0b1JlZnJlc2gubm93VGltZVN0YW1wKCkrIl0gQXV0byByZWZyZXNoIGFjdGl2YXRlZCIpLG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoIkNocm9tZSIpJiZ2b2lkIDAhPT1kb2N1bWVudC5oaWRkZW4mJmRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoInZpc2liaWxpdHljaGFuZ2UiLHRoaXMudG9nZ2xlLmJlYWNvbnMpfX0sZGVhY3RpdmF0ZTpmdW5jdGlvbigpe3RoaXMuaXNBY3RpdmU/KHRoaXMudG9nZ2xlLnJlZnJlc2hGcmFtZSgpLGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoInZpc2liaWxpdHljaGFuZ2UiLHRoaXMudG9nZ2xlLmJlYWNvbnMpLGNsZWFyVGltZW91dCh0aGlzLmlzQWN0aXZlKSx0aGlzLmlzQWN0aXZlPW51bGwsY29uc29sZS5sb2coIuKGuyBDaGF0R1BUID4+IFsiK0MuYXV0b1JlZnJlc2gubm93VGltZVN0YW1wKCkrIl0gQXV0byByZWZyZXNoIGRlLWFjdGl2YXRlZCIpKTpjb25zb2xlLmxvZygi4oa7IENoYXRHUFQgPj4gWyIrQy5hdXRvUmVmcmVzaC5ub3dUaW1lU3RhbXAoKSsiXSBBdXRvIHJlZnJlc2ggYWxyZWFkeSBpbmFjdGl2ZSEiKX0sbm93VGltZVN0YW1wOmZ1bmN0aW9uKCl7dmFyIGU9bmV3IERhdGUsdD1lLmdldEhvdXJzKCklMTJ8fDEyO2xldCBuPWUuZ2V0TWludXRlcygpLG89ZS5nZXRTZWNvbmRzKCk7bjwxMCYmKG49IjAiK24pLG88MTAmJihvPSIwIitvKTtlPWUuZ2V0SG91cnMoKTwxMj8iQU0iOiJQTSI7cmV0dXJuIHQrIjoiK24rIjoiK28rIiAiK2V9LHRvZ2dsZTp7YmVhY29uczpmdW5jdGlvbigpe0MuYXV0b1JlZnJlc2guYmVhY29uSUQ/KGNsZWFySW50ZXJ2YWwoQy5hdXRvUmVmcmVzaC5iZWFjb25JRCksQy5hdXRvUmVmcmVzaC5iZWFjb25JRD1udWxsLGNvbnNvbGUubG9nKCLihrsgQ2hhdEdQVCA+PiBbIitDLmF1dG9SZWZyZXNoLm5vd1RpbWVTdGFtcCgpKyJdIEJlYWNvbnMgZGUtYWN0aXZhdGVkIikpOihDLmF1dG9SZWZyZXNoLmJlYWNvbklEPXNldEludGVydmFsKCgpPT57bmF2aWdhdG9yLnNlbmRCZWFjb24oImh0dHBzOi8vaHR0cGJpbi5vcmcvcG9zdCIsbmV3IFVpbnQ4QXJyYXkpLGNvbnNvbGUubG9nKCLihrsgQ2hhdEdQVCA+PiBbIitDLmF1dG9SZWZyZXNoLm5vd1RpbWVTdGFtcCgpKyJdIEJlYWNvbiBzZW50Iil9LDllNCksY29uc29sZS5sb2coIuKGuyBDaGF0R1BUID4+IFsiK0MuYXV0b1JlZnJlc2gubm93VGltZVN0YW1wKCkrIl0gQmVhY29ucyBhY3RpdmF0ZWQiKSl9LHJlZnJlc2hGcmFtZTpmdW5jdGlvbigpe2xldCBlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNyZWZyZXNoLWZyYW1lIik7ZT9lLnJlbW92ZSgpOihlPU9iamVjdC5hc3NpZ24oZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaWZyYW1lIikse2lkOiJyZWZyZXNoLWZyYW1lIixzdHlsZToiZGlzcGxheTogbm9uZSJ9KSxkb2N1bWVudC5oZWFkLnByZXBlbmQoZSkpfX19LGJyb3dzZXI6e2lzTGlnaHRNb2RlOmZ1bmN0aW9uKCl7cmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhPy4oIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogbGlnaHQpIik/Lm1hdGNoZXN9LGlzRGFya01vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gd2luZG93Lm1hdGNoTWVkaWE/LigiKHByZWZlcnMtY29sb3Itc2NoZW1lOiBkYXJrKSIpPy5tYXRjaGVzfSxpc0Nocm9taXVtOmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci51c2VyQWdlbnQuaW5jbHVkZXMoIkNocm9tZSIpfSxpc0ZpcmVmb3g6ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmNsdWRlcygiRmlyZWZveCIpfSxpc0Z1bGxTY3JlZW46ZnVuY3Rpb24oKXt2YXIgZT1uYXZpZ2F0b3IudXNlckFnZW50O3JldHVybiBlLmluY2x1ZGVzKCJDaHJvbWUiKT93aW5kb3cubWF0Y2hNZWRpYSgiKGRpc3BsYXktbW9kZTogZnVsbHNjcmVlbikiKS5tYXRjaGVzOmUuaW5jbHVkZXMoIkZpcmVmb3giKT93aW5kb3cuZnVsbFNjcmVlbjovTVNJRXxydjovLnRlc3QoZSk/ZG9jdW1lbnQubXNGdWxsc2NyZWVuRWxlbWVudDpkb2N1bWVudC53ZWJraXRJc0Z1bGxTY3JlZW59LGlzTW9iaWxlOmZ1bmN0aW9uKCl7cmV0dXJuL0FuZHJvaWR8d2ViT1N8aVBob25lfGlQYWR8aVBvZHxCbGFja0JlcnJ5fElFTW9iaWxlfE9wZXJhIE1pbmkvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpfX0sY2xlYXJDaGF0czphc3luYyBmdW5jdGlvbihlKXt2YXIgdD1bImFwaSIsImRvbSJdO2lmKChlPShlfHwiZG9tIikudHJpbSgpLnRvTG93ZXJDYXNlKCkpJiYhdC5pbmNsdWRlcyhlKSlyZXR1cm4gY29uc29sZS5sb2coYE1ldGhvZCBhcmd1bWVudCBtdXN0IGJlIG9uZSBvZjogWyR7dH1dYCk7aWYoImRvbSIhPWUpcmV0dXJuIG5ldyBQcm9taXNlKChuLG8pPT57Qy5nZXRBY2Nlc3NUb2tlbigpLnRoZW4oZT0+e2NvbnN0IHQ9bmV3IFhNTEh0dHBSZXF1ZXN0O3Qub3BlbigiUEFUQ0giLGgub3BlbkFJLmNoYXRzLCEwKSx0LnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsImFwcGxpY2F0aW9uL2pzb24iKSx0LnNldFJlcXVlc3RIZWFkZXIoIkF1dGhvcml6YXRpb24iLCJCZWFyZXIgIitlKSx0Lm9ubG9hZD0oKT0+e2lmKDIwMCE9PXQuc3RhdHVzKXJldHVybiBvKCLwn6SWIGNoYXRncHQuanMgPj4gUmVxdWVzdCBmYWlsZWQuIENhbm5vdCBjbGVhciBjaGF0cy4iKTtjb25zb2xlLmluZm8oIkNoYXRzIHN1Y2Nlc3NmdWxseSBjbGVhcmVkIiksbigpfSx0LnNlbmQoSlNPTi5zdHJpbmdpZnkoe2lzX3Zpc2libGU6ITF9KSl9KS5jYXRjaChvKX0pO3t0cnl7YXdhaXQgQy5nZXRDaGF0RGF0YSgpfWNhdGNoe3JldHVybn1DLm1lbnUub3BlbigpLHNldFRpbWVvdXQoKCk9Pntmb3IoY29uc3QgZSBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhW3JvbGU9Im1lbnVpdGVtIl0nKXx8W10paWYoL3NldHRpbmdzL2kudGVzdChlLnRleHQpKXtlLmNsaWNrKCk7YnJlYWt9c2V0VGltZW91dCgoKT0+e2Zvcihjb25zdCBlIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIltpZCo9cmFkaXhdIGJ1dHRvbiIpKWlmKC9eY2xlYXIvaS50ZXN0KGUudGV4dENvbnRlbnQpKXtlLmNsaWNrKCk7YnJlYWt9c2V0VGltZW91dCgoKT0+e2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIltpZCo9cmFkaXhdIGJ1dHRvbiIpLmNsaWNrKCksc2V0VGltZW91dCgoKT0+e24oKTt0cnl7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI3Byb21wdC10ZXh0YXJlYSIpLmZvY3VzKCl9Y2F0Y2goZSl7fX0sMTApfSwxMCl9LDMzMyl9LDEwKTtjb25zdCBuPSgpPT57ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiZGl2W2lkKj1yYWRpeF0gYnV0dG9uIikuY2xpY2soKX19fSxjb2RlOntleGVjdXRlOmFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybiBlPyJzdHJpbmciIT10eXBlb2YgZT9jb25zb2xlLmVycm9yKCJDb2RlIGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmchIik6KEMuc2VuZCgiRGlzcGxheSB0aGUgb3V0cHV0IGFzIGlmIHlvdSB3ZXJlIHRlcm1pbmFsOlxuXG4iK2UpLGNvbnNvbGUuaW5mbygiRXhlY3V0aW5nIGNvZGUuLi4iKSxhd2FpdCBDLmlzSWRsZSgpLEMuY29kZS5leHRyYWN0KGF3YWl0IEMuZ2V0Q2hhdERhdGEoImFjdGl2ZSIsIm1zZyIsImNoYXRncHQiLCJsYXRlc3QiKSkpOmNvbnNvbGUuZXJyb3IoIkNvZGUgYXJndW1lbnQgbm90IHN1cHBsaWVkLiBQYXNzIHNvbWUgY29kZSEiKX0sZXh0cmFjdDpmdW5jdGlvbihlKXt2YXIgdD1lLm1hdGNoKC8oPzw9YGBgLipcbilbXHNcU10qPyg/PWBgYCkvZyk7cmV0dXJuIHQ/dFt0Lmxlbmd0aC0xXTplfSxtaW5pZnk6YXN5bmMgZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyIhPXR5cGVvZiBlP2NvbnNvbGUuZXJyb3IoIkNvZGUgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZyEiKTooQy5zZW5kKCJNaW5pZnkgdGhlIGZvbGxvd2luZyBjb2RlOlxuXG4iK2UpLGNvbnNvbGUuaW5mbygiTWluaWZ5aW5nIGNvZGUuLi4iKSxhd2FpdCBDLmlzSWRsZSgpLEMuY29kZS5leHRyYWN0KGF3YWl0IEMuZ2V0Q2hhdERhdGEoImFjdGl2ZSIsIm1zZyIsImNoYXRncHQiLCJsYXRlc3QiKSkpOmNvbnNvbGUuZXJyb3IoIkNvZGUgYXJndW1lbnQgbm90IHN1cHBsaWVkLiBQYXNzIHNvbWUgY29kZSEiKX0sb2JmdXNjYXRlOmFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybiBlPyJzdHJpbmciIT10eXBlb2YgZT9jb25zb2xlLmVycm9yKCJDb2RlIGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmchIik6KEMuc2VuZCgiT2JmdXNjYXRlIHRoZSBmb2xsb3dpbmcgY29kZTpcblxuIitlKSxjb25zb2xlLmluZm8oIk9iZnVzY2F0aW5nIGNvZGUuLi4iKSxhd2FpdCBDLmlzSWRsZSgpLEMuY29kZS5leHRyYWN0KGF3YWl0IEMuZ2V0Q2hhdERhdGEoImFjdGl2ZSIsIm1zZyIsImNoYXRncHQiLCJsYXRlc3QiKSkpOmNvbnNvbGUuZXJyb3IoIkNvZGUgYXJndW1lbnQgbm90IHN1cHBsaWVkLiBQYXNzIHNvbWUgY29kZSEiKX0scmVmYWN0b3I6YXN5bmMgZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4gY29uc29sZS5lcnJvcigiQ29kZSAoMXN0KSBhcmd1bWVudCBub3Qgc3VwcGxpZWQuIFBhc3Mgc29tZSBjb2RlISIpO2ZvcihsZXQgZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspaWYoInN0cmluZyIhPXR5cGVvZiBhcmd1bWVudHNbZV0pcmV0dXJuIGNvbnNvbGUuZXJyb3IoYEFyZ3VtZW50ICR7ZSsxfSBtdXN0IGJlIGEgc3RyaW5nLmApO3JldHVybiBDLnNlbmQoIlJlZmFjdG9yIHRoZSBmb2xsb3dpbmcgY29kZSBmb3IgIisodHx8ImJyZXZpdHkiKSsiOlxuXG4iK2UpLGNvbnNvbGUuaW5mbygiUmVmYWN0b3JpbmcgY29kZS4uLiIpLGF3YWl0IEMuaXNJZGxlKCksQy5jb2RlLmV4dHJhY3QoYXdhaXQgQy5nZXRDaGF0RGF0YSgiYWN0aXZlIiwibXNnIiwiY2hhdGdwdCIsImxhdGVzdCIpKX0scmV2aWV3OmFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybiBlPyJzdHJpbmciIT10eXBlb2YgZT9jb25zb2xlLmVycm9yKCJDb2RlIGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmchIik6KEMuc2VuZCgiUmV2aWV3IHRoZSBmb2xsb3dpbmcgY29kZSBmb3IgbWU6XG5cbiIrZSksY29uc29sZS5pbmZvKCJSZXZpZXdpbmcgY29kZS4uLiIpLGF3YWl0IEMuaXNJZGxlKCksQy5nZXRDaGF0RGF0YSgiYWN0aXZlIiwibXNnIiwiY2hhdGdwdCIsImxhdGVzdCIpKTpjb25zb2xlLmVycm9yKCJDb2RlIGFyZ3VtZW50IG5vdCBzdXBwbGllZC4gUGFzcyBzb21lIGNvZGUhIil9LHVubWluaWZ5OmFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybiBlPyJzdHJpbmciIT10eXBlb2YgZT9jb25zb2xlLmVycm9yKCJDb2RlIGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmchIik6KEMuc2VuZCgiVW5taW5pZnkgdGhlIGZvbGxvd2luZyBjb2RlLjpcblxuIitlKSxjb25zb2xlLmluZm8oIlVubWluaWZ5aW5nIGNvZGUuLi4iKSxhd2FpdCBDLmlzSWRsZSgpLEMuY29kZS5leHRyYWN0KGF3YWl0IEMuZ2V0Q2hhdERhdGEoImFjdGl2ZSIsIm1zZyIsImNoYXRncHQiLCJsYXRlc3QiKSkpOmNvbnNvbGUuZXJyb3IoIkNvZGUgYXJndW1lbnQgbm90IHN1cHBsaWVkLiBQYXNzIHNvbWUgY29kZSEiKX0sd3JpdGU6YXN5bmMgZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4gY29uc29sZS5lcnJvcigiUHJvbXB0ICgxc3QpIGFyZ3VtZW50IG5vdCBzdXBwbGllZC4gUGFzcyBhIHByb21wdCEiKTtpZighdClyZXR1cm4gY29uc29sZS5lcnJvcigib3V0cHV0TGFuZyAoMm5kKSBhcmd1bWVudCBub3Qgc3VwcGxpZWQuIFBhc3MgYSBsYW5ndWFnZSEiKTtmb3IobGV0IGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKWlmKCJzdHJpbmciIT10eXBlb2YgYXJndW1lbnRzW2VdKXJldHVybiBjb25zb2xlLmVycm9yKGBBcmd1bWVudCAke2UrMX0gbXVzdCBiZSBhIHN0cmluZy5gKTtyZXR1cm4gQy5zZW5kKGUrIlxuXG5Xcml0ZSB0aGlzIGFzIGNvZGUgaW4gIit0KSxjb25zb2xlLmluZm8oIldyaXRpbmcgY29kZS4uLiIpLGF3YWl0IEMuaXNJZGxlKCksQy5jb2RlLmV4dHJhY3QoYXdhaXQgQy5nZXRDaGF0RGF0YSgiYWN0aXZlIiwibXNnIiwiY2hhdGdwdCIsImxhdGVzdCIpKX19LGRldGVjdExhbmd1YWdlOmFzeW5jIGZ1bmN0aW9uKGUpe3JldHVybiBlPyJzdHJpbmciIT10eXBlb2YgZT9jb25zb2xlLmVycm9yKCJUZXh0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmchIik6KEMuc2VuZCgiRGV0ZWN0IHRoZSBsYW5ndWFnZSBvZiB0aGUgZm9sbG93aW5nIHRleHQ6XG5cbiIrZSsiXG5cbk9ubHkgcmVzcG9uZCB3aXRoIHRoZSBuYW1lIG9mIHRoZSBsYW5ndWFnZSIpLGNvbnNvbGUuaW5mbygiUmV2aWV3aW5nIHRleHQuLi4iKSxhd2FpdCBDLmlzSWRsZSgpLEMuZ2V0Q2hhdERhdGEoImFjdGl2ZSIsIm1zZyIsImNoYXRncHQiLCJsYXRlc3QiKSk6Y29uc29sZS5lcnJvcigiVGV4dCBhcmd1bWVudCBub3Qgc3VwcGxpZWQuIFBhc3Mgc29tZSB0ZXh0ISIpfSxleGVjdXRlQ29kZTpmdW5jdGlvbigpe0MuY29kZS5leGVjdXRlKCl9LGV4cG9ydENoYXQ6YXN5bmMgZnVuY3Rpb24oZSx0KXtlPWU/TnVtYmVyLmlzSW50ZWdlcihlKXx8L15cZCskLy50ZXN0KGUpP3BhcnNlSW50KGUsMTApOmU6ImFjdGl2ZSIsdD10LnRvTG93ZXJDYXNlKCl8fCJodG1sIixjb25zb2xlLmluZm8oIkdlbmVyYXRpbmcgdHJhbnNjcmlwdC4uLiIpO2xldCBvPSIiLG47aWYoL3RlP3h0Ly50ZXN0KHQpKXt2YXIgcj1uZXcgRGF0ZSxzPXIuZ2V0RGF0ZSgpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwiMCIpLGE9KHIuZ2V0TW9udGgoKSsxKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIjAiKSxpPXIuZ2V0RnVsbFllYXIoKSxjPXIuZ2V0SG91cnMoKS50b1N0cmluZygpLnBhZFN0YXJ0KDIsIjAiKSxyPXIuZ2V0TWludXRlcygpLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwiMCIpO2lmKG49YENoYXRHUFRfJHtzfS0ke2F9LSR7aX1fJHtjfS0ke3J9LnR4dGAsImFjdGl2ZSI9PWUmJi9cL1x3ezh9LVx3ezR9LVx3ezR9LVx3ezR9LVx3ezEyfSQvLnRlc3Qod2luZG93LmxvY2F0aW9uLmhyZWYpKXtzPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIm1haW4gPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXYgPiBkaXZbY2xhc3MqPWdyb3VwXSIpO2lmKDA9PT1zLmxlbmd0aClyZXR1cm4gY29uc29sZS5lcnJvcigiQ2hhdCBpcyBlbXB0eSEiKTtjb25zdCBsPVtdO2xldCBuPSEwO3MuZm9yRWFjaChlPT57dmFyIHQ9bj8iVVNFUiI6IkNIQVRHUFQiLGU9KG49IW4sQXJyYXkuZnJvbShlLmNoaWxkTm9kZXMpLm1hcChlPT5lLmlubmVyVGV4dCkuam9pbigiXG5cbiIpLnJlcGxhY2UoIkNvcHkgY29kZSIsIiIpKTtsLnB1c2godCsiOiAiK2UpfSksbz1sLmpvaW4oIlxuXG4iKX1lbHNlIGZvcihjb25zdCB1IG9mIGF3YWl0IEMuZ2V0Q2hhdERhdGEoZSwibXNnIiwiYm90aCIsImFsbCIpKW89KG8rPWBVU0VSOiAke3UudXNlcn0KCmApK2BDSEFUR1BUOiAke3UuY2hhdGdwdH0KCmB9ZWxzZXthPWF3YWl0KGF3YWl0IGZldGNoKGF3YWl0IEMuc2hhcmVDaGF0KGUpKSkudGV4dCgpLGk9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhhLCJ0ZXh0L2h0bWwiKTtuPWkucXVlcnlTZWxlY3RvcigidGl0bGUiKS50ZXh0Q29udGVudCsiLmh0bWwiLGkucXVlcnlTZWxlY3RvckFsbCgnbGlua1tyZWw9InN0eWxlc2hlZXQiXScpLmZvckVhY2goZT0+e3ZhciB0PWUuZ2V0QXR0cmlidXRlKCJocmVmIik7dD8uc3RhcnRzV2l0aCgiLyIpJiZlLnNldEF0dHJpYnV0ZSgiaHJlZiIsImh0dHBzOi8vY2hhdC5vcGVuYWkuY29tIit0KX0pLG89KG5ldyBYTUxTZXJpYWxpemVyKS5zZXJpYWxpemVUb1N0cmluZyhpKX1pZihjb25zb2xlLmluZm8oYEV4cG9ydGluZyB0cmFuc2NyaXB0IGFzICR7dC50b1VwcGVyQ2FzZSgpfS4uLmApLCJwZGYiPT10KXtvPW8ucmVwbGFjZSgvPHN2Zy4qPzxcL3N2Zz4vZyxlPT57cmV0dXJuYDxpbWcgc3JjPSIkeyJkYXRhOmltYWdlL3N2Zyt4bWwsIitlbmNvZGVVUklDb21wb25lbnQoZSl9Ij5gfSk7Y29uc3QgZD13aW5kb3cub3BlbigiIiwiIiwidG9vbGJhcj0wLCBsb2NhdGlvbj0wLCBtZW51YmFyPTAsIGhlaWdodD02MDAsIHdpZHRoPTgwMCIpO2QuZG9jdW1lbnQud3JpdGUobyksc2V0VGltZW91dCgoKT0+e2QucHJpbnQoe3RvUERGOiEwfSl9LDEwMCl9ZWxzZXsibWQiPT10JiYoYz0vPC4qKD86PGgxKC58XG4pKj9ocmVmPSIuKj9jb250aW51ZVteIl0qIi4qP1wvYT4uKj8pPFteL10vLmV4ZWMobylbMV0sbz1jfHxvLG49bi5yZXBsYWNlKCIuaHRtbCIsIi5tZCIpKTtyPW5ldyBCbG9iKFtvXSx7dHlwZToidGV4dC8iKygiaHRtbCI9PXQ/Imh0bWwiOiJtZCI9PXQ/Im1hcmtkb3duIjoicGxhaW4iKX0pLHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiYSIpLGU9VVJMLmNyZWF0ZU9iamVjdFVSTChyKTtzLmhyZWY9ZSxzLmRvd25sb2FkPW4sZG9jdW1lbnQuYm9keS5hcHBlbmQocykscy5jbGljaygpLGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQocyksVVJMLnJldm9rZU9iamVjdFVSTChlKX19LGV4dHJhY3RDb2RlOmZ1bmN0aW9uKCl7Qy5jb2RlLmV4dHJhY3QoKX0sZ2VuZXJhdGVSYW5kb21JUDpmdW5jdGlvbigpe3ZhciBlPUFycmF5LmZyb20oe2xlbmd0aDo0fSwoKT0+TWF0aC5mbG9vcigyNTYqQy5yYW5kb21GbG9hdCgpKSkuam9pbigiLiIpO3JldHVybiBjb25zb2xlLmluZm8oIklQIGdlbmVyYXRlZDogIitlKSxlfSxnZXQ6ZnVuY3Rpb24oZSx0PSIiKXtpZigic3RyaW5nIiE9dHlwZW9mIGV8fCJzdHJpbmciIT10eXBlb2YgdCl0aHJvdyBuZXcgVHlwZUVycm9yKCJJbnZhbGlkIGFyZ3VtZW50cy4gQm90aCBhcmd1bWVudHMgbXVzdCBiZSBzdHJpbmdzLiIpO2lmKCFhLmluY2x1ZGVzKGUudG9Mb3dlckNhc2UoKSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHRhcmdldFR5cGU6ICIrZSsiLiBWYWxpZCB2YWx1ZXMgYXJlOiAiK0pTT04uc3RyaW5naWZ5KGEpKTt2YXIgbj1bXSxvPW5ldyBSZWdFeHAoIl5nZXQoLiopIitlKyIkIiwiaSIpO2Zvcihjb25zdCBzIGluIEMpImZ1bmN0aW9uIj09dHlwZW9mIENbc10mJm8udGVzdChzKSYmbi5wdXNoKHMucmVwbGFjZShvLCIkMSIpLnRvTG93ZXJDYXNlKCkpO2lmKCFuLmluY2x1ZGVzKHQudG9Mb3dlckNhc2UoKSkpdGhyb3cgbmV3IEVycm9yKCJJbnZhbGlkIHRhcmdldE5hbWU6ICIrdCsiLiAiKygwPG4ubGVuZ3RoPyJWYWxpZCB2YWx1ZXMgYXJlOiAiK0pTT04uc3RyaW5naWZ5KG4pOiJ0YXJnZXRUeXBlICIrZS50b0xvd2VyQ2FzZSgpKyIgZG9lcyBub3QgcmVxdWlyZSBhZGRpdGlvbmFsIG9wdGlvbnMuIikpO2NvbnN0IHI9KCJnZXQiK3QrZSkudG9Mb3dlckNhc2UoKTtyZXR1cm4gdGhpc1tPYmplY3Qua2V5cyh0aGlzKS5maW5kKGU9PmUudG9Mb3dlckNhc2UoKT09cildKCl9LGdldEFjY2Vzc1Rva2VuOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQcm9taXNlKChlLHQpPT57aWYoMDxPYmplY3Qua2V5cyhDLm9wZW5BSWFjY2Vzc1Rva2VuKS5sZW5ndGgmJjA8PURhdGUucGFyc2UoQy5vcGVuQUlhY2Nlc3NUb2tlbi5leHBpcmVEYXRlKS1EYXRlLnBhcnNlKG5ldyBEYXRlKSlyZXR1cm4gZShDLm9wZW5BSWFjY2Vzc1Rva2VuLnRva2VuKTtjb25zdCBuPW5ldyBYTUxIdHRwUmVxdWVzdDtuLm9wZW4oIkdFVCIsaC5vcGVuQUkuc2Vzc2lvbiwhMCksbi5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCJhcHBsaWNhdGlvbi9qc29uIiksbi5vbmxvYWQ9KCk9PjIwMCE9PW4uc3RhdHVzP3QoIvCfpJYgY2hhdGdwdC5qcyA+PiBSZXF1ZXN0IGZhaWxlZC4gQ2Fubm90IHJldHJpZXZlIGFjY2VzcyB0b2tlbi4iKTooY29uc29sZS5pbmZvKCJUb2tlbiBleHBpcmF0aW9uOiAiK25ldyBEYXRlKEpTT04ucGFyc2Uobi5yZXNwb25zZVRleHQpLmV4cGlyZXMpLnRvTG9jYWxlU3RyaW5nKCkucmVwbGFjZSgiLCIsIiBhdCIpKSxDLm9wZW5BSWFjY2Vzc1Rva2VuPXt0b2tlbjpKU09OLnBhcnNlKG4ucmVzcG9uc2VUZXh0KS5hY2Nlc3NUb2tlbixleHBpcmVEYXRlOkpTT04ucGFyc2Uobi5yZXNwb25zZVRleHQpLmV4cGlyZXN9LGUoQy5vcGVuQUlhY2Nlc3NUb2tlbi50b2tlbikpLG4uc2VuZCgpfSl9LGdldEFjY291bnREZXRhaWxzOmZ1bmN0aW9uKC4uLmEpe3ZhciBlPVsiZW1haWwiLCJpZCIsImltYWdlIiwibmFtZSIsInBpY3R1cmUiXTtmb3IoY29uc3QgdCBvZiBhPWFyZ3VtZW50c1swXT9BcnJheS5pc0FycmF5KGFyZ3VtZW50c1swXSk/YXJndW1lbnRzWzBdOkFycmF5LmZyb20oYXJndW1lbnRzKTplKWlmKCFlLmluY2x1ZGVzKHQpKXJldHVybiBjb25zb2xlLmVycm9yKCJJbnZhbGlkIGRldGFpbCBhcmcgJyIrdCsiJyBzdXBwbGllZC4gVmFsaWQgZGV0YWlscyBhcmU6XG4gICAgICAgICAgICAgICAgICAgIFsiK2UrIl0iKTtyZXR1cm4gbmV3IFByb21pc2UoKG8scik9Pntjb25zdCBzPW5ldyBYTUxIdHRwUmVxdWVzdDtzLm9wZW4oIkdFVCIsaC5vcGVuQUkuc2Vzc2lvbiwhMCkscy5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCJhcHBsaWNhdGlvbi9qc29uIikscy5vbmxvYWQ9KCk9PntpZigyMDAhPT1zLnN0YXR1cylyZXR1cm4gcigi8J+kliBjaGF0Z3B0LmpzID4+IFJlcXVlc3QgZmFpbGVkLiBDYW5ub3QgcmV0cmlldmUgYWNjb3VudCBkZXRhaWxzLiIpO3ZhciBlPUpTT04ucGFyc2Uocy5yZXNwb25zZVRleHQpLnVzZXIsdD17fTtmb3IoY29uc3QgbiBvZiBhKXRbbl09ZVtuXTtyZXR1cm4gbyh0KX0scy5zZW5kKCl9KX0sZ2V0Q2hhdEJveDpmdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicHJvbXB0LXRleHRhcmVhIil9LGdldENoYXREYXRhOmZ1bmN0aW9uKHU9MSxvPSJhbGwiLGc9ImFsbCIscD0iYWxsIil7dmFyIGU9WyJhbGwiLCJpZCIsInRpdGxlIiwiY3JlYXRlX3RpbWUiLCJ1cGRhdGVfdGltZSIsIm1zZyJdLHQ9WyJhbGwiLCJib3RoIiwidXNlciIsImNoYXRncHQiXTt1PXU/TnVtYmVyLmlzSW50ZWdlcih1KXx8L15cZCskLy50ZXN0KHUpPzA9PT1wYXJzZUludCh1LDEwKT8wOnBhcnNlSW50KHUsMTApLTE6dToiYWN0aXZlIixvPVsiYWxsIiwiIl0uaW5jbHVkZXMobyk/ZS5maWx0ZXIoZT0+L14oPyFhbGwkfG1zZyQpLiovLnRlc3QoZSkpOkFycmF5LmlzQXJyYXkobyk/bzpbb10sZz1nP3QuaW5jbHVkZXMoZyk/ZzoiaW52YWxpZCI6ImFsbCIscD1OdW1iZXIuaXNJbnRlZ2VyKHApfHwvXlxkKyQvLnRlc3QocCk/MD09PXBhcnNlSW50KHAsMTApPzA6cGFyc2VJbnQocCwxMCktMTpbImFsbCIsImxhdGVzdCJdLmluY2x1ZGVzKHAudG9Mb3dlckNhc2UoKSk/cC50b0xvd2VyQ2FzZSgpOnA/ImludmFsaWQiOiJhbGwiO2Zvcihjb25zdCBuIG9mIG8paWYoIWUuaW5jbHVkZXMobikpcmV0dXJuIGNvbnNvbGUuZXJyb3IoIkludmFsaWQgZGV0YWlsIGFyZyAnIituKyInIHBhc3NlZC4gVmFsaWQgZGV0YWlscyBhcmU6XG4gICAgICAgICAgICAgICAgICAgIFsiK2UrIl0iKTtpZigiaW52YWxpZCI9PWcpcmV0dXJuIGNvbnNvbGUuZXJyb3IoIkludmFsaWQgc2VuZGVyIGFyZyBwYXNzZWQuIFZhbGlkIHNlbmRlcnMgYXJlOlxuICAgICAgICAgICAgICAgICAgICBbIit0KyJdIik7aWYoImludmFsaWQiPT1wKXJldHVybiBjb25zb2xlLmVycm9yKCJJbnZhbGlkIG1zZ1RvR2V0IGFyZyBwYXNzZWQuIFZhbGlkIG1zZydzIHRvIGdldCBhcmU6XG4gICAgICAgICAgICAgICAgICAgIFsgJ2FsbCcgfCAnbGF0ZXN0JyB8IGluZGV4IG9mIG1zZyB0byBnZXQgXSIpO2NvbnN0IHI9KGUsYyk9Pntjb25zdCBsPS9cd3s4fS1cd3s0fS1cd3s0fS1cd3s0fS1cd3sxMn0vO3JldHVybiBuZXcgUHJvbWlzZSgodCxhKT0+e2NvbnN0IGk9bmV3IFhNTEh0dHBSZXF1ZXN0O2kub3BlbigiR0VUIixoLm9wZW5BSS5jaGF0cywhMCksaS5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCJhcHBsaWNhdGlvbi9qc29uIiksaS5zZXRSZXF1ZXN0SGVhZGVyKCJBdXRob3JpemF0aW9uIiwiQmVhcmVyICIrZSksaS5vbmxvYWQ9KCk9PntpZigyMDAhPT1pLnN0YXR1cylyZXR1cm4gYSgi8J+kliBjaGF0Z3B0LmpzID4+IFJlcXVlc3QgZmFpbGVkLiBDYW5ub3QgcmV0cmlldmUgY2hhdCBkZXRhaWxzLiIpO3ZhciBuPUpTT04ucGFyc2UoaS5yZXNwb25zZVRleHQpLml0ZW1zO2lmKG4ubGVuZ3RoPD0wKXJldHVybiBhKCLwn6SWIGNoYXRncHQuanMgPj4gQ2hhdCBsaXN0IGlzIGVtcHR5LiIpO3ZhciBvPXt9O2lmKE51bWJlci5pc0ludGVnZXIodSl8fCJsYXRlc3QiPT11fHwiYWN0aXZlIj09dSYmIW5ldyBSZWdFeHAoIi8iK2wuc291cmNlKyIkIikudGVzdCh3aW5kb3cubG9jYXRpb24uaHJlZikpe2lmKCh1PU51bWJlci5pc0ludGVnZXIodSk/dTowKT5uLmxlbmd0aClyZXR1cm4gYSgi8J+kliBjaGF0Z3B0LmpzID4+IENoYXQgd2l0aCBpbmRleCAiKyh1KzEpKyIgaXMgb3V0IG9mIGJvdW5kcy4gT25seSAiK24ubGVuZ3RoKyIgY2hhdHMgZXhpc3QhIik7Zm9yKGNvbnN0IGUgb2YgYylvW2VdPW5bdV1bZV19ZWxzZXt2YXIgcj0iYWN0aXZlIj09dXx8bmV3IFJlZ0V4cCgiXiIrbC5zb3VyY2UrIiQiKS50ZXN0KHUpPyJpZCI6InRpdGxlIjsiYWN0aXZlIj09dSYmKHU9bC5leGVjKHdpbmRvdy5sb2NhdGlvbi5ocmVmKVswXSk7bGV0IGUsdDtmb3IoZT0wO2U8bi5sZW5ndGg7ZSsrKWlmKG5bZV1bcl09PXUpe3Q9ITA7YnJlYWt9aWYoIXQpcmV0dXJuIGEoIvCfpJYgY2hhdGdwdC5qcyA+PiBObyBjaGF0IHdpdGggIityKyIgPSAiK3UrIiBmb3VuZC4iKTtmb3IoY29uc3QgcyBvZiBjKW9bc109bltlXVtzXX1yZXR1cm4gdChvKX0saS5zZW5kKCl9KX07cmV0dXJuIG5ldyBQcm9taXNlKG49PntDLmdldEFjY2Vzc1Rva2VuKCkudGhlbihlPT57dmFyIHQ7by5pbmNsdWRlcygibXNnIik/KHQ9ZSxuZXcgUHJvbWlzZSgodSxkKT0+e2NvbnN0IGY9bmV3IFhNTEh0dHBSZXF1ZXN0O3IodCxbImlkIl0pLnRoZW4oZT0+e2Yub3BlbigiR0VUIixoLm9wZW5BSS5jaGF0KyIvIitlLmlkLCEwKSxmLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsImFwcGxpY2F0aW9uL2pzb24iKSxmLnNldFJlcXVlc3RIZWFkZXIoIkF1dGhvcml6YXRpb24iLCJCZWFyZXIgIit0KSxmLm9ubG9hZD0oKT0+e2lmKDIwMCE9PWYuc3RhdHVzKXJldHVybiBkKCLwn6SWIGNoYXRncHQuanMgPj4gUmVxdWVzdCBmYWlsZWQuIENhbm5vdCByZXRyaWV2ZSBjaGF0IG1lc3NhZ2VzLiIpO3ZhciB0PUpTT04ucGFyc2UoZi5yZXNwb25zZVRleHQpLm1hcHBpbmcsbj1bXSxvPVtdLHI9W107Zm9yKGNvbnN0IGUgaW4gdCkibWVzc2FnZSJpbiB0W2VdJiYidXNlciI9PXRbZV0ubWVzc2FnZS5hdXRob3Iucm9sZSYmbi5wdXNoKHtpZDp0W2VdLmlkLG1zZzp0W2VdLm1lc3NhZ2V9KTtpZihuLnNvcnQoKGUsdCk9PmUubXNnLmNyZWF0ZV90aW1lLXQubXNnLmNyZWF0ZV90aW1lKSxwYXJzZUludChwLDEwKSsxPm4ubGVuZ3RoKXJldHVybiBkKCLwn6SWIGNoYXRncHQuanMgPj4gTWVzc2FnZS9yZXNwb25zZSB3aXRoIGluZGV4ICIrKHArMSkrIiBpcyBvdXQgb2YgYm91bmRzLiBPbmx5ICIrbi5sZW5ndGgrIiBtZXNzYWdlcy9yZXNwb25zZXMgZXhpc3QhIik7Zm9yKGNvbnN0IHMgb2Ygbil7bGV0IGU9W107Zm9yKGNvbnN0IGEgaW4gdCkibWVzc2FnZSJpbiB0W2FdJiYiYXNzaXN0YW50Ij09dFthXS5tZXNzYWdlLmF1dGhvci5yb2xlJiZ0W2FdLnBhcmVudD09cy5pZCYmZS5wdXNoKHRbYV0ubWVzc2FnZSk7ZS5zb3J0KChlLHQpPT5lLmNyZWF0ZV90aW1lLXQuY3JlYXRlX3RpbWUpLGU9MT09PShlPWUubWFwKGU9Pntzd2l0Y2goZS5jb250ZW50LmNvbnRlbnRfdHlwZSl7Y2FzZSJjb2RlIjpyZXR1cm4gZS5jb250ZW50LnRleHQ7Y2FzZSJ0ZXh0IjpyZXR1cm4gZS5jb250ZW50LnBhcnRzWzBdO2RlZmF1bHQ6cmV0dXJufX0pKS5sZW5ndGg/ZVswXTplLG8ucHVzaChlKX1pZigidXNlciI9PWcpZm9yKGNvbnN0IGkgaW4gbilyLnB1c2gobltpXS5tc2cuY29udGVudC5wYXJ0c1swXSk7ZWxzZSBpZigiY2hhdGdwdCI9PWcpZm9yKGNvbnN0IGMgb2YgbylyLnB1c2goImxhdGVzdCI9PXA/b1tvLmxlbmd0aC0xXTpjKTtlbHNle2xldCBlPTA7Zm9yKGNvbnN0IGwgaW4gbilyLnB1c2goe3VzZXI6bltsXS5tc2cuY29udGVudC5wYXJ0c1swXSxjaGF0Z3B0OiJsYXRlc3QiPT1wP29bZV1bb1tlXS5sZW5ndGgtMV06b1tlXX0pLGUrK31yZXR1cm4gdSgiYWxsIj09cD9yOiJsYXRlc3QiPT1wP3Jbci5sZW5ndGgtMV06cltwXSl9LGYuc2VuZCgpfSl9KS50aGVuKGU9Pm4oZSkpKTpyKGUsbykudGhlbihlPT5uKGUpKX0pfSl9LGdldENoYXRJbnB1dDpmdW5jdGlvbigpe3JldHVybiBDLmdldENoYXRCb3goKS52YWx1ZX0sZ2V0Q29udGludWVHZW5lcmF0aW5nQnV0dG9uOmZ1bmN0aW9uKCl7Zm9yKGNvbnN0IGUgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiZm9ybSBidXR0b24gc3ZnIikpaWYoZS5xdWVyeVNlbGVjdG9yKCdwb2x5Z29uW3BvaW50cyo9IjExIDE5IDIgMTIgMTEgNSAxMSAxOSJdJykpcmV0dXJuIGUucGFyZW50Tm9kZS5wYXJlbnROb2RlfSxnZXRMYXN0UHJvbXB0OmZ1bmN0aW9uKCl7cmV0dXJuIEMuZ2V0Q2hhdERhdGEoImFjdGl2ZSIsIm1zZyIsInVzZXIiLCJsYXRlc3QiKX0sZ2V0TGFzdFJlc3BvbnNlOmZ1bmN0aW9uKCl7cmV0dXJuIEMuZ2V0Q2hhdERhdGEoImFjdGl2ZSIsIm1zZyIsImNoYXRncHQiLCJsYXRlc3QiKX0sZ2V0TmV3Q2hhdExpbms6ZnVuY3Rpb24oKXtmb3IoY29uc3QgZSBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJuYXYgYSIpKWlmKC8obmV3fGNsZWFyKSBjaGF0L2kudGVzdChlLnRleHQpKXJldHVybiBlfSxnZXRSZWdlbmVyYXRlQnV0dG9uOmZ1bmN0aW9uKCl7Zm9yKGNvbnN0IGUgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgibWFpbiBzdmciKSlpZihlLnF1ZXJ5U2VsZWN0b3IoJ3BhdGhbZCo9Ik00LjUgMi41QzUuMDUyMjgiXScpKXJldHVybiBlLnBhcmVudE5vZGUucGFyZW50Tm9kZX0sZ2V0UmVzcG9uc2U6ZnVuY3Rpb24oKXtyZXR1cm4od2luZG93LmxvY2F0aW9uLmhyZWYuc3RhcnRzV2l0aCgiaHR0cHM6Ly9jaGF0Lm9wZW5haS5jb20vYy8iKT9DLmdldFJlc3BvbnNlRnJvbURPTTpDLmdldFJlc3BvbnNlRnJvbUFQSSkuYXBwbHkobnVsbCxhcmd1bWVudHMpfSxnZXRSZXNwb25zZUZyb21BUEk6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gQy5yZXNwb25zZS5nZXRGcm9tQVBJKGUsdCl9LGdldFJlc3BvbnNlRnJvbURPTTpmdW5jdGlvbihlKXtyZXR1cm4gQy5yZXNwb25zZS5nZXRGcm9tRE9NKGUpfSxnZXRTZW5kQnV0dG9uOmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0gYnV0dG9uW2NsYXNzKj0iYm90dG9tIl0nKX0sZ2V0U3RvcEdlbmVyYXRpbmdCdXR0b246ZnVuY3Rpb24oKXtmb3IoY29uc3QgZSBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJmb3JtIGJ1dHRvbiBzdmciKSlpZihlLnF1ZXJ5U2VsZWN0b3IoJ3BhdGhbZCo9IjIgMCAwIDEgMiJdJykpcmV0dXJuIGUucGFyZW50Tm9kZX0sZ2V0VXNlckxhbmd1YWdlOmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci5sYW5ndWFnZXNbMF18fG5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLmJyb3dzZXJMYW5ndWFnZXx8bmF2aWdhdG9yLnN5c3RlbUxhbmd1YWdlfHxuYXZpZ2F0b3IudXNlckxhbmd1YWdlfHwiIn0saGlzdG9yeTp7YWN0aXZhdGU6ZnVuY3Rpb24oKXt0aGlzLmlzT2ZmKCk/dGhpcy50b2dnbGUoKTpjb25zb2xlLmluZm8oIkNoYXQgaGlzdG9yeSBpcyBhbHJlYWR5IGVuYWJsZWQhIil9LGRlYWN0aXZhdGU6ZnVuY3Rpb24oKXt0aGlzLmlzT24oKT90aGlzLnRvZ2dsZSgpOmNvbnNvbGUuaW5mbygiQ2hhdCBoaXN0b3J5IGlzIGFscmVhZHkgZGlzYWJsZWQhIil9LGlzT246ZnVuY3Rpb24oKXtyZXR1cm4oWy4uLmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIm5hdiBkaXYiKV0uZmluZChlPT5lLnRleHRDb250ZW50LmluY2x1ZGVzKCJDaGF0IEhpc3RvcnkgaXMgb2ZmIikpfHx7fSkuY2xhc3NMaXN0LnRvU3RyaW5nKCkuaW5jbHVkZXMoImludmlzaWJsZSIpfSxpc09mZjpmdW5jdGlvbigpe3JldHVybiF0aGlzLmlzT24oKX0saXNMb2FkZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoZT0+e2NvbnN0IHQ9KCk9Pntkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJuYXYiKT9lKCEwKTpzZXRUaW1lb3V0KHQsMTAwKX07dCgpfSl9LHRvZ2dsZTpmdW5jdGlvbigpe2Zvcihjb25zdCBlIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIm5hdiBidXR0b24iKSlpZigvY2hhdCBoaXN0b3J5L2kudGVzdChlLnRleHRDb250ZW50KSlyZXR1cm4gdm9pZCBlLmNsaWNrKCl9fSxpbnN0cnVjdGlvbnM6e2FkZDpmdW5jdGlvbihvLHIpe3ZhciBlO3JldHVybiBvPyJzdHJpbmciIT10eXBlb2Ygbz9jb25zb2xlLmVycm9yKCJJbnN0cnVjdGlvbiBtdXN0IGJlIGEgc3RyaW5nIik6KGU9WyJ1c2VyIiwiY2hhdGdwdCJdLHI/InN0cmluZyIhPXR5cGVvZiByP2NvbnNvbGUuZXJyb3IoIlRhcmdldCBtdXN0IGJlIGEgc3RyaW5nIik6KHI9ci50b0xvd2VyQ2FzZSgpLGUuaW5jbHVkZXMocik/KG89YAoKYCtvLG5ldyBQcm9taXNlKG49PntDLmdldEFjY2Vzc1Rva2VuKCkudGhlbihhc3luYyBlPT57dmFyIHQ9YXdhaXQgdGhpcy5mZXRjaERhdGEoKTtyZXR1cm4idXNlciI9PXI/dC5hYm91dF91c2VyX21lc3NhZ2UrPW86ImNoYXRncHQiPT1yJiYodC5hYm91dF9tb2RlbF9tZXNzYWdlKz1vKSxhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCJQT1NUIixlLHQpLG4oKX0pfSkpOmNvbnNvbGUuZXJyb3IoYEludmFsaWQgdGFyZ2V0ICR7cn0uIFZhbGlkIHRhcmdldHMgYXJlIFske2V9XWApKTpjb25zb2xlLmVycm9yKCJQbGVhc2UgcHJvdmlkZSBhIHZhbGlkIHRhcmdldCEiKSk6Y29uc29sZS5lcnJvcigiUGxlYXNlIHByb3ZpZGUgYW4gaW5zdHJ1Y3Rpb24iKX0sY2xlYXI6ZnVuY3Rpb24obyl7dmFyIGU9WyJ1c2VyIiwiY2hhdGdwdCJdO3JldHVybiBvPyJzdHJpbmciIT10eXBlb2Ygbz9jb25zb2xlLmVycm9yKCJUYXJnZXQgbXVzdCBiZSBhIHN0cmluZyIpOihvPW8udG9Mb3dlckNhc2UoKSxlLmluY2x1ZGVzKG8pP25ldyBQcm9taXNlKG49PntDLmdldEFjY2Vzc1Rva2VuKCkudGhlbihhc3luYyBlPT57dmFyIHQ9YXdhaXQgdGhpcy5mZXRjaERhdGEoKTtyZXR1cm4idXNlciI9PW8/dC5hYm91dF91c2VyX21lc3NhZ2U9IiI6ImNoYXRncHQiPT1vJiYodC5hYm91dF9tb2RlbF9tZXNzYWdlPSIiKSxhd2FpdCB0aGlzLnNlbmRSZXF1ZXN0KCJQT1NUIixlLHQpLG4oKX0pfSk6Y29uc29sZS5lcnJvcihgSW52YWxpZCB0YXJnZXQgJHtvfS4gVmFsaWQgdGFyZ2V0cyBhcmUgWyR7ZX1dYCkpOmNvbnNvbGUuZXJyb3IoIlBsZWFzZSBwcm92aWRlIGEgdmFsaWQgdGFyZ2V0ISIpfSxmZXRjaERhdGE6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e0MuZ2V0QWNjZXNzVG9rZW4oKS50aGVuKGFzeW5jIGU9PnQoYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgiR0VUIixlKSkpfSl9LHNlbmRSZXF1ZXN0OmZ1bmN0aW9uKHIsZSxzKXtmb3IobGV0IGU9MDtlPGFyZ3VtZW50cy5sZW5ndGgtMTtlKyspaWYoInN0cmluZyIhPXR5cGVvZiBhcmd1bWVudHNbZV0pcmV0dXJuIGNvbnNvbGUuZXJyb3IoYEFyZ3VtZW50ICR7ZSsxfSBtdXN0IGJlIGEgc3RyaW5nYCk7dmFyIHQ9WyJQT1NUIiwiR0VUIl07cmV0dXJuKHI9KHJ8fCIiKS50cmltKCkudG9VcHBlckNhc2UoKSkmJnQuaW5jbHVkZXMocik/ZT9zJiYib2JqZWN0IiE9dHlwZW9mIHM/Y29uc29sZS5lcnJvcihgSW52YWxpZCBib2R5IGRhdGEgdHlwZS4gR290ICR7dHlwZW9mIHN9LCBleHBlY3RlZCBvYmplY3RgKTpuZXcgUHJvbWlzZSgodCxuKT0+e2NvbnN0IG89bmV3IFhNTEh0dHBSZXF1ZXN0O28ub3BlbihyLGgub3BlbkFJLmluc3RydWN0aW9ucywhMCksby5zZXRSZXF1ZXN0SGVhZGVyKCJBY2NlcHQtTGFuZ3VhZ2UiLCJlbi1VUyIpLG8uc2V0UmVxdWVzdEhlYWRlcigiQXV0aG9yaXphdGlvbiIsIkJlYXJlciAiK2UpLCJQT1NUIj09ciYmby5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCJhcHBsaWNhdGlvbi9qc29uIiksby5vbmxvYWQ9KCk9Pnt2YXIgZT1KU09OLnBhcnNlKG8ucmVzcG9uc2VUZXh0KTtyZXR1cm4gNDIyPT09by5zdGF0dXM/bigi8J+kliBjaGF0Z3B0LmpzID4+IENoYXJhY3RlciBsaW1pdCBleGNlZWRlZC4gQ3VzdG9tIGluc3RydWN0aW9ucyBjYW4gaGF2ZSBhIG1heGltdW0gbGVuZ3RoIG9mIDE1MDAgY2hhcmFjdGVycy4iKTo0MDM9PT1vLnN0YXR1cyYmImNvbnRlbnRfcG9saWN5Ij09ZS5kZXRhaWwucmVhc29uP24oIvCfpJYgY2hhdGdwdC5qcyA+PiAiK2UuZGV0YWlsLmRlc2NyaXB0aW9uKToyMDAhPT1vLnN0YXR1cz9uKCLwn6SWIGNoYXRncHQuanMgPj4gUmVxdWVzdCBmYWlsZWQuIENhbm5vdCBjb250YWN0IGN1c3RvbSBpbnN0cnVjdGlvbnMgZW5kcG9pbnQuIik6KGNvbnNvbGUuaW5mbygiQ3VzdG9tIGluc3RydWN0aW9ucyBzdWNjZXNzZnVsbHkgY29udGFjdGVkIHdpdGggbWV0aG9kICIrciksdChlfHx7fSkpfSxvLnNlbmQoSlNPTi5zdHJpbmdpZnkocyl8fCIiKX0pOmNvbnNvbGUuZXJyb3IoIlBsZWFzZSBwcm92aWRlIGEgdmFsaWQgYWNjZXNzIHRva2VuISIpOmNvbnNvbGUuZXJyb3IoIlZhbGlkIG1ldGhvZHMgYXJlICIrdCl9LHR1cm5PZmY6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2Uobj0+e0MuZ2V0QWNjZXNzVG9rZW4oKS50aGVuKGFzeW5jIGU9Pnt2YXIgdD1hd2FpdCB0aGlzLmZldGNoRGF0YSgpO3JldHVybiB0LmVuYWJsZWQ9ITEsYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgiUE9TVCIsZSx0KSxuKCl9KX0pfSx0dXJuT246ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2Uobj0+e0MuZ2V0QWNjZXNzVG9rZW4oKS50aGVuKGFzeW5jIGU9Pnt2YXIgdD1hd2FpdCB0aGlzLmZldGNoRGF0YSgpO3JldHVybiB0LmVuYWJsZWQ9ITAsYXdhaXQgdGhpcy5zZW5kUmVxdWVzdCgiUE9TVCIsZSx0KSxuKCl9KX0pfSx0b2dnbGU6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UodD0+e3RoaXMuZmV0Y2hEYXRhKCkudGhlbihhc3luYyBlPT4oYXdhaXQoZS5lbmFibGVkP3RoaXMudHVybk9mZigpOnRoaXMudHVybk9uKCkpLHQoKSkpfSl9fSxpc0Nocm9taXVtOmZ1bmN0aW9uKCl7cmV0dXJuIEMuYnJvd3Nlci5pc0Nocm9taXVtKCl9LGlzRGFya01vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC50b1N0cmluZygpLmluY2x1ZGVzKCJkYXJrIil9LGlzRmlyZWZveDpmdW5jdGlvbigpe3JldHVybiBDLmJyb3dzZXIuaXNGaXJlZm94KCl9LGlzRnVsbFNjcmVlbjpmdW5jdGlvbigpe3JldHVybiBDLmJyb3dzZXIuaXNGdWxsU2NyZWVuKCl9LGlzSWRsZTpmdW5jdGlvbigpe3JldHVybiBuZXcgUHJvbWlzZShlPT57Y29uc3QgdD1zZXRJbnRlcnZhbCgoKT0+e0MuZ2V0UmVnZW5lcmF0ZUJ1dHRvbigpJiYoY2xlYXJJbnRlcnZhbCh0KSxlKCEwKSl9LDEwMCl9KX0saXNMb2FkZWQ6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFByb21pc2UoZT0+e2NvbnN0IHQ9c2V0SW50ZXJ2YWwoKCk9Pntkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCduYXYgYnV0dG9uW2lkKj0ibWVudSJdJykmJihjbGVhckludGVydmFsKHQpLHNldFRpbWVvdXQoKCk9PntlKCEwKX0sNTAwKSl9LDEwMCl9KX0saXNMaWdodE1vZGU6ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC50b1N0cmluZygpLmluY2x1ZGVzKCJsaWdodCIpfSxpc01vYmlsZURldmljZTpmdW5jdGlvbigpe3JldHVybiBDLmJyb3dzZXIuaXNNb2JpbGUoKX0sbG9nb3V0OmZ1bmN0aW9uKCl7d2luZG93LmxvY2F0aW9uLmhyZWY9Imh0dHBzOi8vY2hhdC5vcGVuYWkuY29tL2F1dGgvbG9nb3V0In0sbWVudTp7ZWxlbWVudHM6W10sYWRkZWRFdmVudDohMSxhcHBlbmQ6ZnVuY3Rpb24oZSx0PXt9KXt2YXIgbj1bImJ1dHRvbiIsImRyb3Bkb3duIl07aWYoIWV8fCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gY29uc29sZS5lcnJvcigi8J+kliBjaGF0Z3B0LmpzID4+IFBsZWFzZSBzdXBwbHkgYSB2YWxpZCBzdHJpbmcgZWxlbWVudCBuYW1lISIpO2lmKGU9ZS50b0xvd2VyQ2FzZSgpLCFuLmluY2x1ZGVzKGUpKXJldHVybiBjb25zb2xlLmVycm9yKGDwn6SWIGNoYXRncHQuanMgPj4gSW52YWxpZCBlbGVtZW50ISBWYWxpZCBlbGVtZW50cyBhcmUgWyR7bn1dYCk7Y29uc3Qgbz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkcm9wZG93biI9PWU/InNlbGVjdCI6ImJ1dHRvbiI9PWU/ImEiOmUpO2lmKG8uaWQ9TWF0aC5mbG9vcigxZTYqQy5yYW5kb21GbG9hdCgpKStEYXRlLm5vdygpLCJidXR0b24iPT1lKXtvLnRleHRDb250ZW50PXQ/LmxhYmVsJiYic3RyaW5nIj09dHlwZW9mIHQubGFiZWw/dC5sYWJlbDoiY2hhdGdwdC5qcyBidXR0b24iO249ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiaW1nIik7bi5zcmM9dD8uaWNvbiYmInN0cmluZyI9PXR5cGVvZiB0Lmljb24/dC5pY29uOmguYXNzZXRzKyIvc3RhcnRlcnMvY2hyb21lL2V4dGVuc2lvbi9pY29ucy9pY29uMTI4LnBuZyIsbi53aWR0aD0xOCxvLmluc2VydEJlZm9yZShuLG8uZmlyc3RDaGlsZCksby5vbmNsaWNrPXQ/Lm9uY2xpY2smJiJmdW5jdGlvbiI9PXR5cGVvZiB0Lm9uY2xpY2s/dC5vbmNsaWNrOmZ1bmN0aW9uKCl7fX1lbHNlIGlmKCJkcm9wZG93biI9PWUpe2lmKHQ/Lml0ZW1zJiZBcnJheS5pc0FycmF5KHQuaXRlbXMpJiZ0Lml0ZW1zLmxlbmd0aHx8KHQuaXRlbXM9W3t0ZXh0OiLwn6SWIGNoYXRncHQuanMgb3B0aW9uIix2YWx1ZToiY2hhdGdwdC5qcyBvcHRpb24gdmFsdWUifV0pLCF0Lml0ZW1zLmV2ZXJ5KGU9PiJvYmplY3QiPT10eXBlb2YgZSkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoIidpdGVtcycgbXVzdCBiZSBhbiBhcnJheSBvZiBvYmplY3RzISIpO28uc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICMwMDA7IHdpZHRoOiAxMDAlOyBib3JkZXI6IG5vbmU7Iix0Lml0ZW1zLmZvckVhY2goZT0+e3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpO3QudGV4dENvbnRlbnQ9ZT8udGV4dCx0LnZhbHVlPWU/LnZhbHVlLG8uYWRkKHQpfSl9Y29uc3Qgcj0oKT0+e3ZhciBlLHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYVtyb2xlPSJtZW51aXRlbSJdJyk7bGV0IG47Zm9yKGUgb2YgdClpZigiU2V0dGluZ3MiPT1lLnRleHRDb250ZW50KXtuPWUuY2xhc3NMaXN0O2JyZWFrfWNvbnN0IG89dFswXS5wYXJlbnROb2RlO0MubWVudS5lbGVtZW50cy5mb3JFYWNoKGU9PntpZihlLnNldEF0dHJpYnV0ZSgiY2xhc3MiLG4pLCFvLmNvbnRhaW5zKGUpKXRyeXtvLmluc2VydEJlZm9yZShlLG8uZmlyc3RDaGlsZCl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcihlKX19KX07dGhpcy5lbGVtZW50cy5wdXNoKG8pO249ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbmF2IGJ1dHRvbltpZCo9ImhlYWRsZXNzIl0nKTtyZXR1cm4gdGhpcy5hZGRlZEV2ZW50fHwobi5hZGRFdmVudExpc3RlbmVyKCJjbGljayIsKCk9PntzZXRUaW1lb3V0KHIsMjUpfSksdGhpcy5hZGRlZEV2ZW50PSEwKSxvLmlkfSxjbG9zZTpmdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ25hdiBbaWQqPSJtZW51LWJ1dHRvbiJdW2FyaWEtZXhwYW5kZWQ9InRydWUiXScpO2lmKCFlKXRocm93IGNvbnNvbGUuZXJyb3IoIk1lbnUgYWxyZWFkeSBoaWRkZW4hIiksbmV3IEVycm9yO3RyeXtlLmNsaWNrKCl9Y2F0Y2goZSl7dGhyb3cgY29uc29sZS5lcnJvcigiRXJyb3Igd2hpbGUgY2xvc2luZyB0aGUgbWVudSIpLG5ldyBFcnJvcihlKX19LG9wZW46ZnVuY3Rpb24oKXt2YXIgZT1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCduYXYgW2lkKj0ibWVudS1idXR0b24iXVthcmlhLWV4cGFuZGVkPSJmYWxzZSJdJyk7aWYoIWUpdGhyb3cgY29uc29sZS5lcnJvcigiTWVudSBhbHJlYWR5IGhpZGRlbiEiKSxuZXcgRXJyb3I7dHJ5e2UuY2xpY2soKX1jYXRjaChlKXt0aHJvdyBjb25zb2xlLmVycm9yKCJFcnJvciB3aGlsZSBjbG9zaW5nIHRoZSBtZW51IiksbmV3IEVycm9yKGUpfX19LG1pbmlmeTpmdW5jdGlvbigpe0MuY29kZS5taW5pZnkoKX0sbm90aWZ5OmFzeW5jIGZ1bmN0aW9uKHQsZSxuLG8pe249bj8rbjoxLjc1O2NvbnN0IHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2Iik7ci5pZD1NYXRoLmZsb29yKDFlNipDLnJhbmRvbUZsb2F0KCkpK0RhdGUubm93KCksci5jbGFzc0xpc3QuYWRkKCJjaGF0Z3B0LW5vdGlmIiksci5pbm5lclRleHQ9dCxkb2N1bWVudC5ib2R5LmFwcGVuZChyKTt2YXIgdD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSxzPSh0LnRpdGxlPXg/LnRvb2x0aXBfZGlzbWlzc3x8IkRpc21pc3MiLHQuY2xhc3NMaXN0LmFkZCgibm90aWYtY2xvc2UtYnRuIiksZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsInN2ZyIpKSxhPShzLnNldEF0dHJpYnV0ZSgiaGVpZ2h0IiwiOHB4Iikscy5zZXRBdHRyaWJ1dGUoInZpZXdCb3giLCIwIDAgMTQgMTQiKSxzLnNldEF0dHJpYnV0ZSgiZmlsbCIsIm5vbmUiKSxzLnN0eWxlLmhlaWdodD1zLnN0eWxlLndpZHRoPSI4cHgiLGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciLCJwYXRoIikpO2Euc2V0QXR0cmlidXRlKCJmaWxsLXJ1bGUiLCJldmVub2RkIiksYS5zZXRBdHRyaWJ1dGUoImNsaXAtcnVsZSIsImV2ZW5vZGQiKSxhLnNldEF0dHJpYnV0ZSgiZmlsbCIsIndoaXRlIiksYS5zZXRBdHRyaWJ1dGUoImQiLCJNMTMuNzA3MSAxLjcwNzExQzE0LjA5NzYgMS4zMTY1OCAxNC4wOTc2IDAuNjgzNDE3IDEzLjcwNzEgMC4yOTI4OTNDMTMuMzE2NiAtMC4wOTc2MzEyIDEyLjY4MzQgLTAuMDk3NjMxMiAxMi4yOTI5IDAuMjkyODkzTDcgNS41ODU3OUwxLjcwNzExIDAuMjkyODkzQzEuMzE2NTggLTAuMDk3NjMxMiAwLjY4MzQxNyAtMC4wOTc2MzEyIDAuMjkyODkzIDAuMjkyODkzQy0wLjA5NzYzMTIgMC42ODM0MTcgLTAuMDk3NjMxMiAxLjMxNjU4IDAuMjkyODkzIDEuNzA3MTFMNS41ODU3OSA3TDAuMjkyODkzIDEyLjI5MjlDLTAuMDk3NjMxMiAxMi42ODM0IC0wLjA5NzYzMTIgMTMuMzE2NiAwLjI5Mjg5MyAxMy43MDcxQzAuNjgzNDE3IDE0LjA5NzYgMS4zMTY1OCAxNC4wOTc2IDEuNzA3MTEgMTMuNzA3MUw3IDguNDE0MjFMMTIuMjkyOSAxMy43MDcxQzEyLjY4MzQgMTQuMDk3NiAxMy4zMTY2IDE0LjA5NzYgMTMuNzA3MSAxMy43MDcxQzE0LjA5NzYgMTMuMzE2NiAxNC4wOTc2IDEyLjY4MzQgMTMuNzA3MSAxMi4yOTI5TDguNDE0MjEgN0wxMy43MDcxIDEuNzA3MTFaIikscy5hcHBlbmQoYSksdC5hcHBlbmQocyksci5hcHBlbmQodCksci5pc1RvcD0hZXx8IS9sb3d8Ym90dG9tL2kudGVzdChlKSxyLmlzUmlnaHQ9IWV8fCEvbGVmdC9pLnRlc3QoZSksci5xdWFkcmFudD0oci5pc1RvcD8idG9wIjoiYm90dG9tIikrKHIuaXNSaWdodD8iUmlnaHQiOiJMZWZ0Iik7bGV0IGk9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigiI2NoYXRncHQtbm90aWYtc3R5bGUiKSxjPSgoIWl8fHBhcnNlSW50KGkuZ2V0QXR0cmlidXRlKCJsYXN0LXVwZGF0ZWQiKSwxMCk8MjAyMzExMTApJiYoaXx8KChpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInN0eWxlIikpLmlkPSJjaGF0Z3B0LW5vdGlmLXN0eWxlIixpLnNldEF0dHJpYnV0ZSgibGFzdC11cGRhdGVkIiwyMDIzMTExMC4udG9TdHJpbmcoKSksZG9jdW1lbnQuaGVhZC5hcHBlbmQoaSkpLGkuaW5uZXJUZXh0PSIuY2hhdGdwdC1ub3RpZiB7YmFja2dyb3VuZC1jb2xvcjogYmxhY2sgOyBwYWRkaW5nOiAxMHB4IDEzcHggMTBweCAxOHB4IDsgYm9yZGVyLXJhZGl1czogMTFweCA7IGJvcmRlcjogMXB4IHNvbGlkICNmNWY1ZjcgO29wYWNpdHk6IDAgOyBwb3NpdGlvbjogZml4ZWQgOyB6LWluZGV4OiA5OTk5IDsgZm9udC1zaXplOiAxLjhyZW0gOyBjb2xvcjogd2hpdGUgOy13ZWJraXQtdXNlci1zZWxlY3Q6IG5vbmUgOyAtbW96LXVzZXItc2VsZWN0OiBub25lIDsgLW1zLXVzZXItc2VsZWN0OiBub25lIDsgdXNlci1zZWxlY3Q6IG5vbmUgOyIrYHRyYW5zZm9ybTogdHJhbnNsYXRlWCgke3IuaXNSaWdodD8iIjoiLSJ9MzVweCkgO2ArKG8/ImJveC1zaGFkb3c6IC04cHggMTNweCAyNXB4IDAgIisoL1xiKHNoYWRvd3xvbilcYi9naS50ZXN0KG8pPyJncmF5IjpvKToiIikrIn0ubm90aWYtY2xvc2UtYnRuIHsgY3Vyc29yOiBwb2ludGVyIDsgZmxvYXQ6IHJpZ2h0IDsgcG9zaXRpb246IHJlbGF0aXZlIDsgcmlnaHQ6IC00cHggOyBtYXJnaW4tbGVmdDogLTNweCA7ZGlzcGxheTogZ3JpZCB9QGtleWZyYW1lcyBub3RpZi16b29tLWZhZGUtb3V0IHsgMCUgeyBvcGFjaXR5OiAxIDsgdHJhbnNmb3JtOiBzY2FsZSgxKSB9MTUlIHsgb3BhY2l0eTogMC4zNSA7IHRyYW5zZm9ybTogcm90YXRlWCgtMjdkZWcpIHNjYWxlKDEuMDUpIH00NSUgeyBvcGFjaXR5OiAwLjA1IDsgdHJhbnNmb3JtOiByb3RhdGVYKC04MWRlZykgfTEwMCUgeyBvcGFjaXR5OiAwIDsgdHJhbnNmb3JtOiByb3RhdGVYKC0xODBkZWcpIHNjYWxlKDEuMTUpIH19IiksSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2Uubm90aWZ5UHJvcHMpKTtjLnF1ZXVlW3IucXVhZHJhbnRdLnB1c2goci5pZCksbG9jYWxTdG9yYWdlLm5vdGlmeVByb3BzPUpTT04uc3RyaW5naWZ5KGMpLHIuc3R5bGUudG9wPXIuaXNUb3A/MjMuLnRvU3RyaW5nKCkrInB4IjoiIixyLnN0eWxlLmJvdHRvbT1yLmlzVG9wPyIiOjIzLi50b1N0cmluZygpKyJweCIsci5zdHlsZS5yaWdodD1yLmlzUmlnaHQ/MjcuLnRvU3RyaW5nKCkrInB4IjoiIixyLnN0eWxlLmxlZnQ9ci5pc1JpZ2h0PyIiOjI3Li50b1N0cmluZygpKyJweCI7YT1jLnF1ZXVlW3IucXVhZHJhbnRdO2lmKDE8YS5sZW5ndGgpdHJ5e2Zvcihjb25zdCBtIG9mIGEuc2xpY2UoMCwtMSkpe3ZhciBsPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG0pLHU9bC5zdHlsZS50b3A/InRvcCI6ImJvdHRvbSIsZD0rL1xkKy8uZXhlYyhsLnN0eWxlW3VdKVswXSs1K2wuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0O2wuc3R5bGVbdV09ZCsicHgifX1jYXRjaChlKXt9c2V0VGltZW91dCgoKT0+e3Iuc3R5bGUub3BhY2l0eT1DLmlzRGFya01vZGUoKT8uODouNjcsci5zdHlsZS50cmFuc2Zvcm09InRyYW5zbGF0ZVgoMCkiLHIuc3R5bGUudHJhbnNpdGlvbj0idHJhbnNmb3JtIDAuMTVzIGVhc2UsIG9wYWNpdHkgMC4xNXMgZWFzZSJ9LDEwKTt0PW48LjM/MDpuLS4zO2xldCBmLGc7aWYoeSl7bGV0IGU7Zm9yKDsoZT1NYXRoLmZsb29yKDMqTWF0aC5yYW5kb20oKSkrMSk9PT1jLmxhc3ROdGhBdWRpbzspO2MubGFzdE50aEF1ZGlvPWUsbG9jYWxTdG9yYWdlLm5vdGlmeVByb3BzPUpTT04uc3RyaW5naWZ5KGMpLChmPW5ldyBBdWRpbykuc3JjPWguYXNzZXRzKyIvbWVkaWEvYXVkaW8vbm90aWZpY2F0aW9ucy9idWJibGUtcG9wLyIrYCR7ZX0tJHtyLmlzUmlnaHQ/InJpZ2h0IjoibGVmdCJ9Lm1wM2AsZz1zZXRUaW1lb3V0KCgpPT5mLnBsYXkoKS5jYXRjaCgoKT0+e30pLDFlMyp0KX1lPSgpPT57ci5zdHlsZS5hbmltYXRpb249Im5vdGlmLXpvb20tZmFkZS1vdXQgMC4zcyBlYXNlLW91dCIseSYmZj8ucGxheSgpLmNhdGNoKCgpPT57fSksY2xlYXJUaW1lb3V0KHApLGNsZWFyVGltZW91dChnKX07Y29uc3QgcD1zZXRUaW1lb3V0KGUsMWUzKnQpO3MuYWRkRXZlbnRMaXN0ZW5lcigiY2xpY2siLGUse29uY2U6ITB9KSxyLmFkZEV2ZW50TGlzdGVuZXIoImFuaW1hdGlvbmVuZCIsKCk9PntyLnJlbW92ZSgpLChjPUpTT04ucGFyc2UobG9jYWxTdG9yYWdlLm5vdGlmeVByb3BzKSkucXVldWVbci5xdWFkcmFudF0uc2hpZnQoKSxsb2NhbFN0b3JhZ2Uubm90aWZ5UHJvcHM9SlNPTi5zdHJpbmdpZnkoYyl9LHtvbmNlOiEwfSl9LG9iZnVzY2F0ZTpmdW5jdGlvbigpe0MuY29kZS5vYmZ1c2NhdGUoKX0scHJpbnRBbGxGdW5jdGlvbnM6ZnVuY3Rpb24oKXtjb25zdCB0PXtjbWRQcm9tcHQ6WyIjZmYwMGZmIiwiIzAwZmYwMCJdLG9iak5hbWU6WyIjMDYxMWU5IiwiI2Y5ZWUxNiJdLG1ldGhvZE5hbWU6WyIjMDA1YWZmIiwiI2ZmYTUwMCJdLGVudHJ5VHlwZTpbIiM0NjdlMDYiLCIjYjk4MWY5Il0sc3JjTWV0aG9kOlsiI2ZmMDAwMCIsIiMwMGZmZmYiXX07T2JqZWN0LmtleXModCkuZm9yRWFjaChlPT57dFtlXVsxXT10W2VdWzFdfHwiIyIrKDE2Nzc3MjE1Xk51bWJlcigiMHgxIit0W2VdWzBdLnJlcGxhY2UoL14jLywiIikpKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpLnRvVXBwZXJDYXNlKCl9KTt2YXIgZT1bXTtmb3IoY29uc3QgYyBpbiB0aGlzKWlmKCJmdW5jdGlvbiI9PXR5cGVvZiB0aGlzW2NdKXt2YXIgbj0hT2JqZWN0LmtleXModGhpcykuZmluZChlPT5PYmplY3Qua2V5cyh0aGlzW2VdKS5pbmNsdWRlcyh0aGlzW2NdLm5hbWUpKTtlLnB1c2goW24/ImNoYXRncHQiOiJvdGhlciIsY10pfWVsc2UgaWYoIm9iamVjdCI9PXR5cGVvZiB0aGlzW2NdKWZvcihjb25zdCBsIGluIHRoaXNbY10pImZ1bmN0aW9uIj09dHlwZW9mIHRoaXNbY11bbF0mJmUucHVzaChbYyxsXSk7ZS5zb3J0KChlLHQpPT5lWzBdLmxvY2FsZUNvbXBhcmUodFswXSl8fGVbMV0ubG9jYWxlQ29tcGFyZSh0WzFdKSk7dmFyIG89d2luZG93Lm1hdGNoTWVkaWEoIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaykiKS5tYXRjaGVzLHI9ImZvbnQtZmFtaWx5OiBtb25vc3BhY2UgOyBmb250LXNpemU6IGxhcmdlciA7ICI7Y29uc29sZS5sb2coIlxuJWPwn6SWIGNoYXRncHQuanMgbWV0aG9kc1xuIiwiZm9udC1mYW1pbHk6IHNhbnMtc2VyaWYgOyBmb250LXNpemU6IHh4eC1sYXJnZSA7IGZvbnQtd2VpZ2h0OiBib2xkIik7Zm9yKGNvbnN0IHUgb2YgZSl7dmFyIHM9L2NoYXRncHR8b3RoZXIvLnRlc3QodVswXSksYT0iY2hhdGdwdCI9PXVbMF0/dGhpc1t1WzFdXS5uYW1lOiJvdGhlciIhPT11WzBdP3VbMF0rIi4iK3VbMV06T2JqZWN0LmtleXModGhpcykuZmluZChlPT5PYmplY3Qua2V5cyh0aGlzW2VdKS5pbmNsdWRlcyh0aGlzW3VbMV1dLm5hbWUpKSsiLiIrdGhpc1t1WzFdXS5uYW1lLGk9IkFzeW5jRnVuY3Rpb24iPT10aGlzW3VbMV1dPy5jb25zdHJ1Y3Rvci5uYW1lO2NvbnNvbGUubG9nKCIlYz4+ICVjIisocz8iIjp1WzBdKyIuJWMiKSt1WzFdKyIgLSBodHRwczovL2NoYXRncHRqcy5vcmcvdXNlcmd1aWRlLyIrLyg/Oi4qXC4pPyguKikvLmV4ZWMoYSlbMV0udG9Mb3dlckNhc2UoKSsoaT8iLWFzeW5jIjoiIikrIlxuJWNbJWMiKygiY2hhdGdwdCI9PXVbMF0mJnVbMV09PXRoaXNbdVsxXV0ubmFtZXx8IXM/IkZ1bmN0aW9uIjoiQWxpYXMgb2YiKSsiJWM6ICVjIithKyIlY10iLHIrImZvbnQtd2VpZ2h0OiBib2xkIDsgY29sb3I6Iit0LmNtZFByb21wdFsrb10scisiZm9udC13ZWlnaHQ6IGJvbGQgO2NvbG9yOiIrdFtzPyJtZXRob2ROYW1lIjoib2JqTmFtZSJdWytvXSxyKyJmb250LXdlaWdodDogIisocz8iaW5pdGlhbCI6ImJvbGQiKSsiO2NvbG9yOiIrKHM/ImluaXRpYWwiOnQubWV0aG9kTmFtZVsrb10pLHIrImZvbnQtd2VpZ2h0OiAiKyhzPyJib2xkIjoiaW5pdGlhbCIpKyI7Y29sb3I6Iisocz90LmVudHJ5VHlwZVsrb106ImluaXRpYWwiKSxyKyJmb250LXdlaWdodDogIisocz8iaW5pdGlhbCI6ImJvbGQiKSsiO2NvbG9yOiIrKHM/ImluaXRpYWwiOnQuZW50cnlUeXBlWytvXSkscisocz8iZm9udC1zdHlsZTogaXRhbGljIjoiZm9udC13ZWlnaHQ6IGluaXRpYWwiKSsiO2NvbG9yOiIrKHM/dC5zcmNNZXRob2RbK29dOiJpbml0aWFsIikscisocz8iZm9udC13ZWlnaHQ6IGluaXRpYWwiOiJmb250LXN0eWxlOiBpdGFsaWMiKSsiO2NvbG9yOiIrKHM/ImluaXRpYWwiOnQuc3JjTWV0aG9kWytvXSkscz8iIjpyKyJjb2xvcjogaW5pdGlhbCA7IGZvbnQtd2VpZ2h0OiBpbml0aWFsIil9fSxyYW5kb21GbG9hdDpmdW5jdGlvbigpe3JldHVybih3aW5kb3cuY3J5cHRvfHx3aW5kb3cubXNDcnlwdG8pLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDMyQXJyYXkoMSkpWzBdLzQyOTQ5NjcyOTV9LHJlZmFjdG9yOmZ1bmN0aW9uKCl7Qy5jb2RlLnJlZmFjdG9yKCl9LHJlZ2VuZXJhdGU6ZnVuY3Rpb24oKXtmb3IoY29uc3QgZSBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJmb3JtIGJ1dHRvbiIpKWlmKGUudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcygicmVnZW5lcmF0ZSIpKXJldHVybiB2b2lkIGUuY2xpY2soKX0scmVuZGVySFRNTDpmdW5jdGlvbihlKXt2YXIgdD0vPChbYS16XGRdKylcYihbXj5dKik+KFtcc1xTXSo/KTxcL1wxPi9nLG49LyhcUyspPVsnIl0/KCg/Oi4oPyFbJyJdP1xzK1xTKz18Wz4nXSkpKy4pWyciXT8vZyxvPWUuY2hpbGROb2Rlczt0aGlzLnJlbmRlckhUTUwucHJlV3JhcFNldHx8KGUuc3R5bGUud2hpdGVTcGFjZT0icHJlLXdyYXAiLHRoaXMucmVuZGVySFRNTC5wcmVXcmFwU2V0PSEwLHNldFRpbWVvdXQoKCk9Pnt0aGlzLnJlbmRlckhUTUwucHJlV3JhcFNldD0hMX0sMTAwKSk7Zm9yKGNvbnN0IGkgb2YgbylpZihpLm5vZGVUeXBlPT1Ob2RlLlRFWFRfTk9ERSl7dmFyIHI9aS5ub2RlVmFsdWUscz1BcnJheS5mcm9tKHIubWF0Y2hBbGwodCkpO2lmKDA8cy5sZW5ndGgpe2NvbnN0IGM9c1swXSxbbCx1LGQsZl09Yy5zbGljZSgwLDQpLGc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh1KTtnLnRleHRDb250ZW50PWY7QXJyYXkuZnJvbShkLm1hdGNoQWxsKG4pKS5mb3JFYWNoKGU9Pnt2YXIgdD1lWzFdLGU9ZVsyXS5yZXBsYWNlKC9bJyJdL2csIiIpO2cuc2V0QXR0cmlidXRlKHQsZSl9KTt2YXIgcz10aGlzLnJlbmRlckhUTUwoZyksYT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShyLnN1YnN0cmluZygwLGMuaW5kZXgpKSxyPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHIuc3Vic3RyaW5nKGMuaW5kZXgrbC5sZW5ndGgpKTtlLnJlcGxhY2VDaGlsZChhLGkpLGUuaW5zZXJ0QmVmb3JlKHMsYS5uZXh0U2libGluZyksZS5pbnNlcnRCZWZvcmUocixzLm5leHRTaWJsaW5nKX19ZWxzZSBpLm5vZGVUeXBlPT1Ob2RlLkVMRU1FTlRfTk9ERSYmdGhpcy5yZW5kZXJIVE1MKGkpO3JldHVybiBlfSxyZXNlbmQ6YXN5bmMgZnVuY3Rpb24oKXtDLnNlbmQoYXdhaXQgQy5nZXRDaGF0RGF0YSgibGF0ZXN0IiwibXNnIiwidXNlciIsImxhdGVzdCIpKX0scmVzcG9uc2U6e2dldDpmdW5jdGlvbigpe3JldHVybih3aW5kb3cubG9jYXRpb24uaHJlZi5zdGFydHNXaXRoKCJodHRwczovL2NoYXQub3BlbmFpLmNvbS9jLyIpP3RoaXMuZ2V0RnJvbURPTTp0aGlzLmdldEZyb21BUEkpLmFwcGx5KG51bGwsYXJndW1lbnRzKX0sZ2V0RnJvbUFQSTpmdW5jdGlvbihlLHQpe3JldHVybiBlPWV8fCJsYXRlc3QiLHQ9dHx8ImxhdGVzdCIsQy5nZXRDaGF0RGF0YShlLCJtc2ciLCJjaGF0Z3B0Iix0KX0sZ2V0RnJvbURPTTpmdW5jdGlvbihlKXt2YXIgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdkaXZbZGF0YS10ZXN0aWQqPSJjb252ZXJzYXRpb24tdHVybiJdOm50aC1jaGlsZChvZGQpJyksbj1lLnRvU3RyaW5nKCkudG9Mb3dlckNhc2UoKTtsZXQgbz0iIjtyZXR1cm4gbz10Lmxlbmd0aD8obz0oL2xhc3R8ZmluYWwvLnRlc3Qobik/dFt0Lmxlbmd0aC0xXTp0WyhOdW1iZXIuaXNJbnRlZ2VyKGUpP2U6L15cZCsvLnRlc3Qobik/L15cZCsvLmV4ZWMobilbMF06KC9eKD86MXxvbmV8ZmlyKSg/OnN0KT8kLy50ZXN0KG4pPzE6L14oPzoyfHR3KD86b3xlbnxlbCg/OnZlfGYpKXxzZWNvKSg/Om5kfHRbeWldKT8oPzplP3RoKT8kLy50ZXN0KG4pPzI6L14oPzozfHRoKD86cmVlfGlyPykpKD86cmR8dGVlbnx0W3lpXSk/KD86ZT90aCk/JC8udGVzdChuKT8zOi9eKD86NHxmb3U/cikoPzp0ZWVufHRbeWldKT8oPzplP3RoKT8kLy50ZXN0KG4pPzQ6L14oPzo1fGZpKD86dmV8ZikpKD86dGVlbnx0W3lpXSk/KD86ZT90aCk/JC8udGVzdChuKT81Oi9eKD86NnxzaXgpKD86dGVlbnx0W3lpXSk/KD86ZT90aCk/JC8udGVzdChuKT82Oi9eKD86N3xzZXZlbikoPzp0ZWVufHRbeWldKT8oPzplP3RoKT8kLy50ZXN0KG4pPzc6L14oPzo4fGVpZ2h0PykoPzp0ZWVufHRbeWldKT8oPzplP3RoKT8kLy50ZXN0KG4pPzg6L14oPzo5fG5pbmU/KSg/OnRlZW58dFt5aV0pPyg/OmU/dGgpPyQvLnRlc3Qobik/OTovXig/OjEwfHRlbikoPzp0aCk/JC8udGVzdChuKT8xMDoxKSooLyh0eXxpZXRoKSQvLnRlc3Qobik/MTA6MSkrKC90ZWVuKHRoKT8kLy50ZXN0KG4pPzEwOjApKS0xXSkudGV4dENvbnRlbnQpLnJlcGxhY2UoL15DaGF0R1BUQ2hhdEdQVC8sIiIpOm99LGdldExhc3Q6ZnVuY3Rpb24oKXtyZXR1cm4gQy5nZXRDaGF0RGF0YSgiYWN0aXZlIiwibXNnIiwiY2hhdGdwdCIsImxhdGVzdCIpfSxyZWdlbmVyYXRlOmZ1bmN0aW9uKCl7Zm9yKGNvbnN0IGUgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiZm9ybSBidXR0b24iKSlpZihlLnRleHRDb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoInJlZ2VuZXJhdGUiKSlyZXR1cm4gdm9pZCBlLmNsaWNrKCl9LHN0b3BHZW5lcmF0aW5nOmZ1bmN0aW9uKCl7Zm9yKGNvbnN0IGUgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiZm9ybSBidXR0b24gc3ZnIikpaWYoZS5xdWVyeVNlbGVjdG9yKCdwYXRoW2QqPSIyIDAgMCAxIDIiXScpKXJldHVybiB2b2lkIGUucGFyZW50Tm9kZS5jbGljaygpfX0scmV2aWV3Q29kZTpmdW5jdGlvbigpe0MuY29kZS5yZXZpZXcoKX0sc2Nyb2xsVG9Cb3R0b206ZnVuY3Rpb24oKXt0cnl7ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW2NsYXNzKj0iY3Vyc29yIl1bY2xhc3MqPSJib3R0b20iXScpLmNsaWNrKCl9Y2F0Y2goZSl7Y29uc29sZS5lcnJvcigiIixlKX19LHNlbmQ6ZnVuY3Rpb24oZSx0PSIiKXtmb3IobGV0IGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKWlmKCJzdHJpbmciIT10eXBlb2YgYXJndW1lbnRzW2VdKXJldHVybiBjb25zb2xlLmVycm9yKGBBcmd1bWVudCAke2UrMX0gbXVzdCBiZSBhIHN0cmluZyFgKTtjb25zdCBuPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoImZvcm0gdGV4dGFyZWEiKSxvPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2Zvcm0gYnV0dG9uW2NsYXNzKj0iYm90dG9tIl0nKSxyPShuLnZhbHVlPWUsbi5kaXNwYXRjaEV2ZW50KG5ldyBFdmVudCgiaW5wdXQiLHtidWJibGVzOiEwfSkpLHNldEludGVydmFsKCgpPT57bz8uaGFzQXR0cmlidXRlKCJkaXNhYmxlZCIpfHwoImNsaWNrIj09dC50b0xvd2VyQ2FzZSgpfHxDLmJyb3dzZXIuaXNNb2JpbGUoKT9vLmNsaWNrKCk6bi5kaXNwYXRjaEV2ZW50KG5ldyBLZXlib2FyZEV2ZW50KCJrZXlkb3duIix7a2V5Q29kZToxMyxidWJibGVzOiEwfSkpLGNsZWFySW50ZXJ2YWwocikpfSwyNSkpfSxzZW5kSW5OZXdDaGF0OmZ1bmN0aW9uKGUpe2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gY29uc29sZS5lcnJvcigiTWVzc2FnZSBtdXN0IGJlIGEgc3RyaW5nISIpO2Zvcihjb25zdCB0IG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIm5hdiBhIikpaWYoLyhuZXd8Y2xlYXIpIGNoYXQvaS50ZXN0KHQudGV4dCkpe3QuY2xpY2soKTticmVha31zZXRUaW1lb3V0KCgpPT57Qy5zZW5kKGUpfSw1MDApfSxzZXR0aW5nczp7c2NoZW1lOntpc0Rhcms6ZnVuY3Rpb24oKXtyZXR1cm4gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygiZGFyayIpfSxpc0xpZ2h0OmZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoImxpZ2h0Iil9LHNldDpmdW5jdGlvbihlKXt2YXIgdD1bImRhcmsiLCJsaWdodCIsInN5c3RlbSJdO2lmKCFlKXJldHVybiBjb25zb2xlLmVycm9yKCJQbGVhc2Ugc3BlY2lmeSBhIHNjaGVtZSB2YWx1ZSEiKTtpZighdC5pbmNsdWRlcyhlKSlyZXR1cm4gY29uc29sZS5lcnJvcihgSW52YWxpZCBzY2hlbWUgdmFsdWUuIFZhbGlkIHZhbHVlcyBhcmUgWyR7dH1dYCk7bGV0IG49ZTsic3lzdGVtIj09ZSYmKG49d2luZG93Lm1hdGNoTWVkaWEoIihwcmVmZXJzLWNvbG9yLXNjaGVtZTogZGFyaykiKS5tYXRjaGVzPyJkYXJrIjoibGlnaHQiKSxsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidGhlbWUiLGUpLGNvbnNvbGUuaW5mbyhgU2NoZW1lIHNldCB0byAke2UudG9VcHBlckNhc2UoKX0uYCksZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucyhuKXx8dGhpcy50b2dnbGUoKX0sdG9nZ2xlOmZ1bmN0aW9uKCl7dmFyW2UsdF09dGhpcy5pc0RhcmsoKT9bImRhcmsiLCJsaWdodCJdOlsibGlnaHQiLCJkYXJrIl07ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsYXNzTGlzdC5yZXBsYWNlKGUsdCksZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLmNvbG9yU2NoZW1lPXQsbG9jYWxTdG9yYWdlLnNldEl0ZW0oInRoZW1lIix0KX19fSxzZW50aW1lbnQ6YXN5bmMgZnVuY3Rpb24oZSx0KXtmb3IobGV0IGU9MDtlPGFyZ3VtZW50cy5sZW5ndGg7ZSsrKWlmKCJzdHJpbmciIT10eXBlb2YgYXJndW1lbnRzW2VdKXJldHVybiBjb25zb2xlLmVycm9yKGBBcmd1bWVudCAke2UrMX0gbXVzdCBiZSBhIHN0cmluZy5gKTtyZXR1cm4gQy5zZW5kKCJXaGF0IGlzIHRoZSBzZW50aW1lbnQgb2YgdGhlIGZvbGxvd2luZyB0ZXh0IisodD9gIHRvd2FyZHMgdGhlIGVudGl0eSAke3R9LGA6IiIpKyIgZnJvbSBzdHJvbmdseSBuZWdhdGl2ZSB0byBzdHJvbmdseSBwb3NpdGl2ZT9cblxuIitlKSxjb25zb2xlLmluZm8oIkFuYWx5emluZyBzZW50aW1lbnQuLi4iKSxhd2FpdCBDLmlzSWRsZSgpLEMuZ2V0Q2hhdERhdGEoImFjdGl2ZSIsIm1zZyIsImNoYXRncHQiLCJsYXRlc3QiKX0sc2V0U2NoZW1lOmZ1bmN0aW9uKGUpe0Muc2V0dGluZ3Muc2NoZW1lLnNldChlKX0sc2hhcmVDaGF0OmZ1bmN0aW9uKGEsaT0iY2xpcGJvYXJkIil7dmFyIGU9WyJhbGVydCIsIm5vdGlmeSIsIm5vdGlmaWNhdGlvbiIsImNsaXBib2FyZCIsImNvcHkiXTtpZighZS5pbmNsdWRlcyhpKSlyZXR1cm4gY29uc29sZS5lcnJvcigiSW52YWxpZCBtZXRob2QgJyIraSsiJyBwYXNzZWQuIFZhbGlkIG1ldGhvZHMgYXJlIFsiK2UrIl0uIik7cmV0dXJuIG5ldyBQcm9taXNlKG49PntDLmdldEFjY2Vzc1Rva2VuKCkudGhlbih0PT57dmFyIHI7cj10LG5ldyBQcm9taXNlKCh0LG4pPT57Y29uc3Qgbz1uZXcgWE1MSHR0cFJlcXVlc3Q7Qy5nZXRDaGF0RGF0YShhKS50aGVuKGU9PntvLm9wZW4oIkdFVCIsaC5vcGVuQUkuY2hhdCsiLyIrZS5pZCwhMCksby5zZXRSZXF1ZXN0SGVhZGVyKCJDb250ZW50LVR5cGUiLCJhcHBsaWNhdGlvbi9qc29uIiksby5zZXRSZXF1ZXN0SGVhZGVyKCJBdXRob3JpemF0aW9uIiwiQmVhcmVyICIrciksby5vbmxvYWQ9KCk9PjIwMCE9PW8uc3RhdHVzP24oIvCfpJYgY2hhdGdwdC5qcyA+PiBSZXF1ZXN0IGZhaWxlZC4gQ2Fubm90IHJldHJpZXZlIGNoYXQgbm9kZS4iKTp0KEpTT04ucGFyc2Uoby5yZXNwb25zZVRleHQpLmN1cnJlbnRfbm9kZSksby5zZW5kKCl9KX0pLnRoZW4oZT0+e3ZhciByLHM7cj10LHM9ZSxuZXcgUHJvbWlzZSgodCxuKT0+e2NvbnN0IG89bmV3IFhNTEh0dHBSZXF1ZXN0O0MuZ2V0Q2hhdERhdGEoYSkudGhlbihlPT57by5vcGVuKCJQT1NUIixoLm9wZW5BSS5zaGFyZV9jcmVhdGUsITApLG8uc2V0UmVxdWVzdEhlYWRlcigiQ29udGVudC1UeXBlIiwiYXBwbGljYXRpb24vanNvbiIpLG8uc2V0UmVxdWVzdEhlYWRlcigiQXV0aG9yaXphdGlvbiIsIkJlYXJlciAiK3IpLG8ub25sb2FkPSgpPT4yMDAhPT1vLnN0YXR1cz9uKCLwn6SWIGNoYXRncHQuanMgPj4gUmVxdWVzdCBmYWlsZWQuIENhbm5vdCBpbml0aWFsaXplIHNoYXJlIGNoYXQuIik6dChKU09OLnBhcnNlKG8ucmVzcG9uc2VUZXh0KSksby5zZW5kKEpTT04uc3RyaW5naWZ5KHtjdXJyZW50X25vZGVfaWQ6cyxjb252ZXJzYXRpb25faWQ6ZS5pZCxpc19hbm9ueW1vdXM6ITB9KSl9KX0pLnRoZW4oZT0+e3ZhciBvLHI7bz10LHI9ZSxuZXcgUHJvbWlzZSgoZSx0KT0+e2NvbnN0IG49bmV3IFhNTEh0dHBSZXF1ZXN0O24ub3BlbigiUEFUQ0giLGgub3BlbkFJLnNoYXJlKyIvIityLnNoYXJlX2lkLCEwKSxuLnNldFJlcXVlc3RIZWFkZXIoIkNvbnRlbnQtVHlwZSIsImFwcGxpY2F0aW9uL2pzb24iKSxuLnNldFJlcXVlc3RIZWFkZXIoIkF1dGhvcml6YXRpb24iLCJCZWFyZXIgIitvKSxuLm9ubG9hZD0oKT0+MjAwIT09bi5zdGF0dXM/dCgi8J+kliBjaGF0Z3B0LmpzID4+IFJlcXVlc3QgZmFpbGVkLiBDYW5ub3Qgc2hhcmUgY2hhdC4iKTooY29uc29sZS5pbmZvKGBDaGF0IHNoYXJlZCBhdCAnJHtyLnNoYXJlX3VybH0nYCksZSgpKSxuLnNlbmQoSlNPTi5zdHJpbmdpZnkoe3NoYXJlX2lkOnIuc2hhcmVfaWQsaGlnaGxpZ2h0ZWRfbWVzc2FnZV9pZDpyLmhpZ2hsaWdodGVkX21lc3NhZ2VfaWQsdGl0bGU6ci50aXRsZSxpc19wdWJsaWM6ITAsaXNfdmlzaWJsZTpyLmlzX3Zpc2libGUsaXNfYW5vbnltb3VzOnIuaXNfYW5vbnltb3VzfSkpfSkudGhlbigoKT0+e1siY29weSIsImNsaXBib2FyZCJdLmluY2x1ZGVzKGkpP25hdmlnYXRvci5jbGlwYm9hcmQud3JpdGVUZXh0KGUuc2hhcmVfdXJsKTpDLmFsZXJ0KCLwn5qAIFNoYXJlIGxpbmsgY3JlYXRlZCEiLCciJytlLnRpdGxlKyciIGlzIGF2YWlsYWJsZSBhdDogPGEgdGFyZ2V0PSJibGFuayIgcmVsPSJub29wZW5lciIgaHJlZj0iJytlLnNoYXJlX3VybCsnIiA+JytlLnNoYXJlX3VybCsiPC9hPiIsW2Z1bmN0aW9uKCl7d2luZG93Lm9wZW4oZS5zaGFyZV91cmwsIl9ibGFuayIsIm5vb3BlbmVyIil9LGZ1bmN0aW9uKCl7bmF2aWdhdG9yLmNsaXBib2FyZC53cml0ZVRleHQoZS5zaGFyZV91cmwpfV0pLG4oZS5zaGFyZV91cmwpfSl9KX0pfSl9KX0sc2lkZWJhcjp7ZWxlbWVudHM6W10sb2JzZXJ2ZXI6e30sYWN0aXZhdGVPYnNlcnZlcjpmdW5jdGlvbigpe3ZhciBlLHQ9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibmF2IikucXVlcnlTZWxlY3RvcigiYSIpO2lmKEMuaGlzdG9yeS5pc09mZigpKXRyeXt0LnBhcmVudE5vZGUubmV4dEVsZW1lbnRTaWJsaW5nLnN0eWxlLmRpc3BsYXk9Im5vbmUifWNhdGNoKGUpe31pZih0aGlzLm9ic2VydmVyIGluc3RhbmNlb2YgTXV0YXRpb25PYnNlcnZlcil0cnl7dGhpcy5vYnNlcnZlci5kaXNjb25uZWN0KCl9Y2F0Y2goZSl7fWlmKCF0aGlzLmVsZW1lbnRzLmxlbmd0aClyZXR1cm4gY29uc29sZS5lcnJvcigi8J+kliBjaGF0Z3B0LmpzID4+IE5vIGVsZW1lbnRzIHRvIGFwcGVuZCEiKTtsZXQgbjtmb3IoZSBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJuYXYgYSIpKWlmKC8uKmNoYXQvLmV4ZWMoZS50ZXh0KVswXSl7bj1lLmNsYXNzTGlzdCxlLnBhcmVudE5vZGUuc3R5bGUubWFyZ2luPSIycHggMCI7YnJlYWt9dGhpcy5lbGVtZW50cy5mb3JFYWNoKGU9PntlLnNldEF0dHJpYnV0ZSgiY2xhc3MiLG4pLGUuc3R5bGUubWF4SGVpZ2h0PWUuc3R5bGUubWluSGVpZ2h0PSI0NHB4IixlLnN0eWxlLm1hcmdpbj0iMnB4IDAifSk7Y29uc3Qgbz1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCJuYXYiKTt0aGlzLm9ic2VydmVyPW5ldyBNdXRhdGlvbk9ic2VydmVyKGU9PntlLmZvckVhY2goZT0+eygiY2hpbGRMaXN0Ij09ZS50eXBlJiZlLmFkZGVkTm9kZXMubGVuZ3RofHwiYXR0cmlidXRlcyI9PWUudHlwZSYmImRhdGEtY2hhdGdwdGpzIj09ZS5hdHRyaWJ1dGVOYW1lKSYmdGhpcy5lbGVtZW50cy5mb3JFYWNoKGU9PntpZighby5jb250YWlucyhlKSl0cnl7by5pbnNlcnRCZWZvcmUoZSxvLnF1ZXJ5U2VsZWN0b3IoImEiKS5wYXJlbnROb2RlKX1jYXRjaChlKXtjb25zb2xlLmVycm9yKGUpfX0pfSl9KSx0aGlzLm9ic2VydmVyLm9ic2VydmUoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LHtjaGlsZExpc3Q6ITAsc3VidHJlZTohMCxhdHRyaWJ1dGVzOiEwfSl9LGFwcGVuZDpmdW5jdGlvbihlLHQ9e30pe3ZhciBuPVsiYnV0dG9uIiwiZHJvcGRvd24iXTtpZighZXx8InN0cmluZyIhPXR5cGVvZiBlKXJldHVybiBjb25zb2xlLmVycm9yKCLwn6SWIGNoYXRncHQuanMgPj4gUGxlYXNlIHN1cHBseSBhIHZhbGlkIHN0cmluZyBlbGVtZW50IG5hbWUhIik7aWYoZT1lLnRvTG93ZXJDYXNlKCksIW4uaW5jbHVkZXMoZSkpcmV0dXJuIGNvbnNvbGUuZXJyb3IoYPCfpJYgY2hhdGdwdC5qcyA+PiBJbnZhbGlkIGVsZW1lbnQhIFZhbGlkIGVsZW1lbnRzIGFyZSBbJHtufV1gKTtjb25zdCBvPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRyb3Bkb3duIj09ZT8ic2VsZWN0IjplKTtpZihvLmlkPU1hdGguZmxvb3IoMWU2KkMucmFuZG9tRmxvYXQoKSkrRGF0ZS5ub3coKSwiYnV0dG9uIj09ZSl7by50ZXh0Q29udGVudD10Py5sYWJlbCYmInN0cmluZyI9PXR5cGVvZiB0LmxhYmVsP3QubGFiZWw6ImNoYXRncHQuanMgYnV0dG9uIjtuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImltZyIpO24uc3JjPXQ/Lmljb24mJiJzdHJpbmciPT10eXBlb2YgdC5pY29uP3QuaWNvbjpoLmFzc2V0cysiL3N0YXJ0ZXJzL2Nocm9tZS9leHRlbnNpb24vaWNvbnMvaWNvbjEyOC5wbmciLG4ud2lkdGg9MTgsby5pbnNlcnRCZWZvcmUobixvLmZpcnN0Q2hpbGQpLG8ub25jbGljaz10Py5vbmNsaWNrJiYiZnVuY3Rpb24iPT10eXBlb2YgdC5vbmNsaWNrP3Qub25jbGljazpmdW5jdGlvbigpe319ZWxzZSBpZigiZHJvcGRvd24iPT1lKXtpZih0Py5pdGVtcyYmQXJyYXkuaXNBcnJheSh0Lml0ZW1zKSYmdC5pdGVtcy5sZW5ndGh8fCh0Lml0ZW1zPVt7dGV4dDoi8J+kliBjaGF0Z3B0LmpzIG9wdGlvbiIsdmFsdWU6ImNoYXRncHQuanMgb3B0aW9uIHZhbHVlIn1dKSwhdC5pdGVtcy5ldmVyeShlPT4ib2JqZWN0Ij09dHlwZW9mIGUpKXJldHVybiBjb25zb2xlLmVycm9yKCInaXRlbXMnIG11c3QgYmUgYW4gYXJyYXkgb2Ygb2JqZWN0cyEiKTt0Lml0ZW1zLmZvckVhY2goZT0+e3ZhciB0PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIm9wdGlvbiIpO3QudGV4dENvbnRlbnQ9ZT8udGV4dCx0LnZhbHVlPWU/LnZhbHVlLG8uYWRkKHQpfSl9cmV0dXJuImRyb3Bkb3duIj09ZSYmKG8uc3R5bGUuYmFja2dyb3VuZENvbG9yPSJ2YXIoLS1ncmF5LTkwMCwgcmdiKDMyLCAzMywgMzUpKSIpLHRoaXMuZWxlbWVudHMucHVzaChvKSx0aGlzLmFjdGl2YXRlT2JzZXJ2ZXIoKSxkb2N1bWVudC5ib2R5LnNldEF0dHJpYnV0ZSgiZGF0YS1jaGF0Z3B0anMiLCJvYnNlcnZlci10cmlnZ2VyIiksby5pZH0saGlkZTpmdW5jdGlvbigpe3RoaXMuaXNPbigpP3RoaXMudG9nZ2xlKCk6Y29uc29sZS5pbmZvKCJTaWRlYmFyIGFscmVhZHkgaGlkZGVuISIpfSxzaG93OmZ1bmN0aW9uKCl7dGhpcy5pc09mZigpP3RoaXMudG9nZ2xlKCk6Y29uc29sZS5pbmZvKCJTaWRlYmFyIGFscmVhZHkgc2hvd24hIil9LGlzT2ZmOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNPbigpfSxpc09uOmZ1bmN0aW9uKCl7cmV0dXJuIEMuYnJvd3Nlci5pc01vYmlsZSgpPyJoaWRkZW4iPT1kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUub3ZlcmZsb3c6ImhpZGRlbiIhPWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoIiNfX25leHQgPiBkaXYgPiBkaXYiKS5zdHlsZS52aXNpYmlsaXR5fSx0b2dnbGU6ZnVuY3Rpb24oKXt2YXIgZT1DLmJyb3dzZXIuaXNNb2JpbGUoKSx0PWU/KCk9PiEwOmU9PkFycmF5LmZyb20oZS5xdWVyeVNlbGVjdG9yQWxsKCIqIikpLnNvbWUoZT0+ZS5zdHlsZS50cmFuc2Zvcm0uaW5jbHVkZXMoInRyYW5zbGF0ZVkiKSk7Zm9yKGNvbnN0IG4gb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChlPyIjX19uZXh0IGJ1dHRvbiI6Im1haW4gYnV0dG9uIikpaWYodChuKSlyZXR1cm4gdm9pZCBuLmNsaWNrKCl9fSxzdGFydE5ld0NoYXQ6ZnVuY3Rpb24oKXtmb3IoY29uc3QgZSBvZiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCJuYXYgYSIpKWlmKC8obmV3fGNsZWFyKSBjaGF0L2kudGVzdChlLnRleHQpKXJldHVybiB2b2lkIGUuY2xpY2soKX0sc3RvcDpmdW5jdGlvbigpe3RoaXMucmVzcG9uc2Uuc3RvcEdlbmVyYXRpbmcoKX0sc3VnZ2VzdDphc3luYyBmdW5jdGlvbihlLHQpe2lmKCFlKXJldHVybiBjb25zb2xlLmVycm9yKCJpZGVhVHlwZSAoMXN0IGFyZ3VtZW50KSBub3Qgc3VwcGxpZWQoZS5nLiAnZ2lmdHMnLCAnbmFtZXMnLCAncmVjaXBlcycsIGV0Yy4pIik7Zm9yKGxldCBlPTA7ZTxhcmd1bWVudHMubGVuZ3RoO2UrKylpZigic3RyaW5nIiE9dHlwZW9mIGFyZ3VtZW50c1tlXSlyZXR1cm4gY29uc29sZS5lcnJvcihgQXJndW1lbnQgJHtlKzF9IG11c3QgYmUgYSBzdHJpbmcuYCk7cmV0dXJuIEMuc2VuZCgiU3VnZ2VzdCBzb21lIG5hbWVzLiAiKyh0fHwiIikpLGNvbnNvbGUuaW5mbyhgQ3JlYXRpbmcgJHtlfS4uLmApLGF3YWl0IEMuaXNJZGxlKCksQy5nZXRDaGF0RGF0YSgiYWN0aXZlIiwibXNnIiwiY2hhdGdwdCIsImxhdGVzdCIpfSxzcGVhazpmdW5jdGlvbihlLHQ9e30pe3ZhciBuLHt2b2ljZTpvPTIscGl0Y2g6cj0yLHNwZWVkOnM9MS4xfT10O2lmKCJzdHJpbmciIT10eXBlb2YgZSlyZXR1cm4gY29uc29sZS5lcnJvcigiTWVzc2FnZSBtdXN0IGJlIGEgc3RyaW5nISIpO2ZvcihuIGluIHQpe3ZhciBhPXRbbl07aWYoIm51bWJlciIhPXR5cGVvZiBhJiYhL15cZCskLy50ZXN0KGEpKXJldHVybiBjb25zb2xlLmVycm9yKGBJbnZhbGlkICR7bn0gaW5kZXggJyR7YX0nLiBNdXN0IGJlIGEgbnVtYmVyIWApfXRyeXt2YXIgaT1zcGVlY2hTeW50aGVzaXMuZ2V0Vm9pY2VzKCksYz1uZXcgU3BlZWNoU3ludGhlc2lzVXR0ZXJhbmNlO2MudGV4dD1lLGMudm9pY2U9aVtvXSxjLnBpdGNoPXIsYy5yYXRlPXMsc3BlZWNoU3ludGhlc2lzLnNwZWFrKGMpfWNhdGNoKGUpe2NvbnNvbGUuZXJyb3IoZSl9fSxzdW1tYXJpemU6YXN5bmMgZnVuY3Rpb24oZSl7cmV0dXJuIGU/InN0cmluZyIhPXR5cGVvZiBlP2NvbnNvbGUuZXJyb3IoIlRleHQgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZyEiKTooQy5zZW5kKCJTdW1tYXJpemUgdGhlIGZvbGxvd2luZyB0ZXh0OlxuXG4iK2UpLGNvbnNvbGUuaW5mbygiU3VtbWFyaXppbmcgdGV4dC4uLiIpLGF3YWl0IEMuaXNJZGxlKCksQy5nZXRDaGF0RGF0YSgiYWN0aXZlIiwibXNnIiwiY2hhdGdwdCIsImxhdGVzdCIpKTpjb25zb2xlLmVycm9yKCJUZXh0ICgxc3QpIGFyZ3VtZW50IG5vdCBzdXBwbGllZC4gUGFzcyBzb21lIHRleHQhIil9LHRvZ2dsZVNjaGVtZTpmdW5jdGlvbigpe0Muc2V0dGluZ3Muc2NoZW1lLnRvZ2dsZSgpfSx0cmFuc2xhdGU6YXN5bmMgZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4gY29uc29sZS5lcnJvcigiVGV4dCAoMXN0KSBhcmd1bWVudCBub3Qgc3VwcGxpZWQuIFBhc3Mgc29tZSB0ZXh0ISIpO2lmKCF0KXJldHVybiBjb25zb2xlLmVycm9yKCJvdXRwdXRMYW5nICgybmQpIGFyZ3VtZW50IG5vdCBzdXBwbGllZC4gUGFzcyBhIGxhbmd1YWdlISIpO2ZvcihsZXQgZT0wO2U8YXJndW1lbnRzLmxlbmd0aDtlKyspaWYoInN0cmluZyIhPXR5cGVvZiBhcmd1bWVudHNbZV0pcmV0dXJuIGNvbnNvbGUuZXJyb3IoYEFyZ3VtZW50ICR7ZSsxfSBtdXN0IGJlIGEgc3RyaW5nIWApO3JldHVybiBDLnNlbmQoIlRyYW5zbGF0ZSB0aGUgZm9sbG93aW5nIHRleHQgdG8gIit0KyIuIE9ubHkgcmVwbHkgd2l0aCB0aGUgdHJhbnNsYXRpb24uXG5cbiIrZSksY29uc29sZS5pbmZvKCJUcmFuc2xhdGluZyB0ZXh0Li4uIiksYXdhaXQgQy5pc0lkbGUoKSxDLmdldENoYXREYXRhKCJhY3RpdmUiLCJtc2ciLCJjaGF0Z3B0IiwibGF0ZXN0Iil9LHVubWluaWZ5OmZ1bmN0aW9uKCl7Qy5jb2RlLnVubWluaWZ5KCl9LHV1aWR2NDpmdW5jdGlvbigpe2xldCBuPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3JldHVybiJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHgiLnJlcGxhY2UoL1t4eV0vZyxlPT57dmFyIHQ9KG4rd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQzMkFycmF5KDEpKVswXS8oTWF0aC5wb3coMiwzMiktMSkqMTYpJTE2fDA7cmV0dXJuIG49TWF0aC5mbG9vcihuLzE2KSwoIngiPT1lP3Q6MyZ0fDgpLnRvU3RyaW5nKDE2KX0pfSx3cml0ZUNvZGU6ZnVuY3Rpb24oKXtDLmNvZGUud3JpdGUoKX19LG49KEMuc2NoZW1lPXsuLi5DLnNldHRpbmdzLnNjaGVtZX0sWyJjbGljayIsImdldCJdKSxhPVsiYnV0dG9uIiwibGluayIsImRpdiIsInJlc3BvbnNlIl07Zm9yKGNvbnN0IGQgb2YgbilDW2QrIkJ1dHRvbiJdPWZ1bmN0aW9uKG4pe3ZhciBlPS9eWy4jXS8udGVzdChuKT9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKG4pOi9zZW5kL2kudGVzdChuKT9kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdmb3JtIGJ1dHRvbltjbGFzcyo9ImJvdHRvbSJdJyk6L3Njcm9sbC9pLnRlc3Qobik/ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYnV0dG9uW2NsYXNzKj0iY3Vyc29yIl0nKTpmdW5jdGlvbigpe2Zvcihjb25zdCBlIG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImJ1dHRvbiIpKWlmKGUudGV4dENvbnRlbnQudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhuLnRvTG93ZXJDYXNlKCkpKXJldHVybiBlO2Zvcihjb25zdCB0IG9mIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoIm5hdiBhIikpaWYodC50ZXh0Q29udGVudC50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKG4udG9Mb3dlckNhc2UoKSkpcmV0dXJuIHR9KCk7aWYoImNsaWNrIiE9ZClyZXR1cm4gZTtlLmNsaWNrKCl9O2NvbnN0IG89W1siYWN0QXMiLCJhY3RhcyIsImFjdCIsImJlY29tZSIsInBlcnNvbmEiLCJwcmVtYWRlUHJvbXB0IiwicHJlTWFkZVByb21wdCIsInByZVByb21wdCIsInByZXByb21wdCIsInJvbGVwbGF5Iiwicm9sZVBsYXkiLCJycCJdLFsiYWN0aXZhdGVBdXRvUmVmcmVzaCIsImFjdGl2YXRlQXV0b1JlZnJlc2hlciIsImFjdGl2YXRlUmVmcmVzaGVyIiwiYWN0aXZhdGVTZXNzaW9uUmVmcmVzaGVyIiwiYXV0b1JlZnJlc2giLCJhdXRvUmVmcmVzaGVyIiwiYXV0b1JlZnJlc2hTZXNzaW9uIiwicmVmcmVzaGVyIiwic2Vzc2lvblJlZnJlc2hlciJdLFsiZGVhY3RpdmF0ZUF1dG9SZWZyZXNoIiwiZGVhY3RpdmF0ZUF1dG9SZWZyZXNoZXIiLCJkZWFjdGl2YXRlUmVmcmVzaGVyIiwiZGVhY3RpdmF0ZVNlc3Npb25SZWZyZXNoZXIiXSxbImRldGVjdExhbmd1YWdlIiwiZ2V0TGFuZ3VhZ2UiXSxbImV4ZWN1dGVDb2RlIiwiY29kZUV4ZWN1dGUiXSxbImV4cG9ydENoYXQiLCJjaGF0RXhwb3J0IiwiZXhwb3J0Il0sWyJnZXRMYXN0UHJvbXB0IiwiZ2V0TGFzdFF1ZXJ5IiwiZ2V0TXlMYXN0TXNnIiwiZ2V0TXlMYXN0UXVlcnkiXSxbImdldFRleHRhcmVhIiwiZ2V0VGV4dEFyZWEiLCJnZXRDaGF0Ym94IiwiZ2V0Q2hhdEJveCJdLFsiaXNGdWxsU2NyZWVuIiwiaXNGdWxsc2NyZWVuIl0sWyJsb2dPdXQiLCJsb2dvdXQiLCJsb2dPZmYiLCJsb2dvZmYiLCJzaWduT3V0Iiwic2lnbm91dCIsInNpZ25PZmYiLCJzaWdub2ZmIl0sWyJtaW5pZnkiLCJjb2RlTWluaWZ5IiwibWluaWZ5Q29kZSJdLFsibmV3IiwibmV3Q2hhdCIsInN0YXJ0TmV3Q2hhdCJdLFsib2JmdXNjYXRlIiwiY29kZU9iZnVzY2F0ZSIsIm9iZnVzY2F0ZUNvZGUiXSxbInByaW50QWxsRnVuY3Rpb25zIiwic2hvd0FsbEZ1bmN0aW9ucyJdLFsicmVmYWN0b3IiLCJjb2RlUmVmYWN0b3IiLCJyZWZhY3RvckNvZGUiXSxbInJlZnJlc2hSZXBseSIsInJlZ2VuZXJhdGUiLCJyZWdlbmVyYXRlUmVwbHkiXSxbInJlZnJlc2hTZXNzaW9uIiwic2Vzc2lvblJlZnJlc2giXSxbInJlbmRlckhUTUwiLCJyZW5kZXJIdG1sIiwicmVuZGVyTGlua3MiLCJyZW5kZXJUYWdzIl0sWyJyZXZpZXdDb2RlIiwiY29kZVJldmlldyJdLFsic2VuZCIsInNlbmRDaGF0Iiwic2VuZE1zZyJdLFsic2VuZEluTmV3Q2hhdCIsInNlbmROZXdDaGF0Il0sWyJzZW50aW1lbnQiLCJhbmFseXplU2VudGltZW50Iiwic2VudGltZW50QW5hbHlzaXMiXSxbInN0b3AiLCJzdG9wR2VuZXJhdGluZyJdLFsic3VnZ2VzdCIsInN1Z2dlc3Rpb24iLCJyZWNvbW1lbmQiXSxbInRvZ2dsZUF1dG9SZWZyZXNoIiwidG9nZ2xlQXV0b1JlZnJlc2hlciIsInRvZ2dsZVJlZnJlc2hlciIsInRvZ2dsZVNlc3Npb25SZWZyZXNoZXIiXSxbInRvZ2dsZVNjaGVtZSIsInRvZ2dsZU1vZGUiXSxbInRyYW5zbGF0ZSIsInRyYW5zbGF0aW9uIiwidHJhbnNsYXRvciJdLFsidW5taW5pZnkiLCJ1bm1pbmlmeUNvZGUiLCJjb2RlVW5taW5pZnkiXSxbIndyaXRlQ29kZSIsImNvZGVXcml0ZSJdXSxyPVtbImFjY291bnQiLCJhY2N0Il0sWyJhY3RpdmF0ZSIsInR1cm5PbiJdLFsiYW5hbHl6ZSIsImNoZWNrIiwiZXZhbHVhdGUiLCJyZXZpZXciXSxbImFzayIsInNlbmQiLCJzdWJtaXQiXSxbImNoYXQiLCJjb252ZXJzYXRpb24iLCJjb252byJdLFsiZGF0YSIsImRldGFpbHMiXSxbImRlYWN0aXZhdGUiLCJkZUFjdGl2YXRlIiwidHVybk9mZiJdLFsiZXhlY3V0ZSIsImludGVycHJldCIsImludGVycHJldGVyIiwicnVuIl0sWyJnZW5lcmF0aW5nIiwiZ2VuZXJhdGlvbiJdLFsibWluaWZ5IiwidWdsaWZ5Il0sWyJyZWZhY3RvciIsInJld3JpdGUiXSxbInJlZ2VuZXJhdGUiLCJyZWdlbiJdLFsicmVuZGVyIiwicGFyc2UiXSxbInJlcGx5IiwicmVzcG9uc2UiXSxbInNlbnRpbWVudCIsImF0dGl0dWRlIiwiZW1vdGlvbiIsImZlZWxpbmciLCJvcGluaW9uIiwicGVyY2VwdGlvbiJdLFsic3BlYWsiLCJzYXkiLCJzcGVlY2giLCJ0YWxrIiwidHRzIl0sWyJzdW1tYXJpemUiLCJ0bGRyIl0sWyJ1bm1pbmlmeSIsImJlYXV0aWZ5IiwicHJldHRpZnkiLCJwcmV0dHlQcmludCJdXSxzPWU9PmUubWFwKChlLHQpPT4wPT09dHx8InMiPT1lP2U6ZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpKS5qb2luKCIiKTtmb3IoY29uc3QgZiBpbiBDKXtmb3IoY29uc3QgZyBvZiBvKWlmKGcuaW5jbHVkZXMoZikpaWYoZy5zb21lKGU9PmUuaW5jbHVkZXMoIi4iKSkpe2NvbnN0IHA9Zy5maW5kKGU9PmUuaW5jbHVkZXMoIi4iKSkuc3BsaXQoIi4iKVsxXTtmb3IoY29uc3QgbSBvZiBnKS9eKFx3KykvLmV4ZWMobSlbMV0hPT1mJiYoQ1ttXT1DW2ZdW3BdKX1lbHNlIGZvcihjb25zdCB2IG9mIGcpdiE9PWYmJihDW3ZdPUNbZl0pO2Rve3ZhciBpPSExO2Zvcihjb25zdCBiIGluIEMpaWYoImZ1bmN0aW9uIj09dHlwZW9mIENbYl0pe2NvbnN0IHc9Yi5zcGxpdCgvKD89W0EtWnNdKS8pO2Zvcihjb25zdCBTIG9mIHcpe2NvbnN0IGs9W10uY29uY2F0KC4uLnIuZmlsdGVyKGU9PmUuaW5jbHVkZXMoUy50b0xvd2VyQ2FzZSgpKSkubWFwKGU9PmUuZmlsdGVyKGU9PmUhPT1TLnRvTG93ZXJDYXNlKCkpKSk7Zm9yKGNvbnN0IEEgb2Ygayl7Y29uc3QgVD1zKHcubWFwKGU9PmU9PVM/QTplKSk7Q1tUXXx8KENbVF09Q1tiXSxpPSEwKX19fX13aGlsZShpKX1jb25zdCBjPSLwn6SWIGNoYXRncHQuanMgPj4gIixsPWNvbnNvbGUuZXJyb3IsdT1jb25zb2xlLmluZm87Y29uc29sZS5lcnJvcj0oLi4uZSk9PntlWzBdLnN0YXJ0c1dpdGgoYyk/bCguLi5lKTpsKGMrZVswXSwuLi5lLnNsaWNlKDEpKX0sY29uc29sZS5pbmZvPWU9PntlLnN0YXJ0c1dpdGgoYyk/dShlKTp1KGMrZSl9O3RyeXt3aW5kb3cuY2hhdGdwdD1DfWNhdGNoKGUpe310cnl7bW9kdWxlLmV4cG9ydHM9Q31jYXRjaChlKXt9"}]},{"name":"ChatGPT Model Switcher (Supports GPT-4 Mobile and All Available Models)","options":{"check_for_updates":true,"user_modified":null,"comment":null,"compatopts_for_requires":true,"compat_wrappedjsobject":false,"compat_metadata":false,"compat_foreach":false,"compat_powerful_this":null,"sandbox":null,"noframes":null,"unwrap":null,"run_at":null,"tab_types":null,"override":{"use_includes":[],"orig_includes":[],"merge_includes":true,"use_matches":[],"orig_matches":["http*://chat.openai.com/*"],"merge_matches":true,"use_excludes":[],"orig_excludes":[],"merge_excludes":true,"use_connects":[],"orig_connects":[],"merge_connects":true,"use_blockers":[],"orig_run_at":"document-idle","orig_noframes":null}},"storage":{"ts":1713950301445,"data":{}},"enabled":true,"position":2,"file_url":"https://update.greasyfork.org/scripts/468905/ChatGPT%20Model%20Switcher%20%28Supports%20GPT-4%20Mobile%20and%20All%20Available%20Models%29.user.js","uuid":"1aa8a5f5-7b2d-48e1-b881-756457866ea6","source":"Ly8gPT1Vc2VyU2NyaXB0PT0KLy8gQG5hbWUgICAgICAgICAgICAgICBDaGF0R1BUIE1vZGVsIFN3aXRjaGVyIChTdXBwb3J0cyBHUFQtNCBNb2JpbGUgYW5kIEFsbCBBdmFpbGFibGUgTW9kZWxzKQovLyBAbmFtZTp6aC1DTiAgICAgICAgIENoYXRHUFQg5qih5Z6L5YiH5o2i5Zmo77yI5pSv5oyBIEdQVC00IE1vYmlsZSDlj4rmiYDmnInlj6/nlKjmqKHlnovvvIkKLy8gQG5hbWU6emgtVFcgICAgICAgICBDaGF0R1BUIOaooeWei+WIh+aNouWZqO+8iOaUr+aMgSBHUFQtNCBNb2JpbGUg5Y+K5omA5pyJ5Y+v55So5qih5Z6L77yJCi8vIEBuYW1lc3BhY2UgICAgICAgICAgaHR0cHM6Ly9naXRodWIuY29tL2h5ZHJvdGhvL0NoYXRHUFRfTW9kZWxfU3dpdGNoZXIKLy8gQHZlcnNpb24gICAgICAgICAgICAyLjIuMAovLyBAYXV0aG9yICAgICAgICAgICAgIEh5ZHJvdGhvCi8vIEBkZXNjcmlwdGlvbiAgICAgICAgVXNlIHRoZSBHUFQtNCBNb2JpbGUgbW9kZWwgb24gdGhlIENoYXRHUFQgd2ViIGludGVyZmFjZS4gSXQgYWxzbyBwcm92aWRlcyB0aGUgYWJpbGl0eSB0byBzd2l0Y2ggdG8gb3RoZXIgbW9kZWxzIGZvciBhZGRlZCBmbGV4aWJpbGl0eS4gR2VuZXJhbGx5LCB0aGlzIHNjcmlwdCBkb2VzIG5vdCBjb25mbGljdCB3aXRoIG90aGVyIHBvcHVsYXIgQ2hhdEdQVCBzY3JpcHRzLgovLyBAZGVzY3JpcHRpb246emgtQ04gIOWcqCBDaGF0R1BUIOe9kemhteerr+S9v+eUqCBHUFQtNCBNb2JpbGUg5qih5Z6L44CC5ZCM5pe277yM5a6D6L+Y5o+Q5L6b5LqG5YiH5o2i5Yiw5YW25LuW5qih5Z6L55qE5Yqf6IO977yM5Lul5o+Q5L6b5pu05aSn55qE54G15rS75oCn44CC5LiA6Iis5p2l6K+077yM6K+l6ISa5pys5LiN5Lya5LiO5YW25LuW5rWB6KGM55qEIENoYXRHUFQg6ISa5pys5Lqn55Sf5Yay56qB44CCCi8vIEBkZXNjcmlwdGlvbjp6aC1UVyAg5ZyoIENoYXRHUFQg572R6aG156uv5L2/55SoIEdQVC00IE1vYmlsZSDmqKHlnovjgILlkIzml7bvvIzlroPov5jmj5DkvpvkuobliIfmjaLliLDlhbbku5bmqKHlnovnmoTlip/og73vvIzku6Xmj5Dkvpvmm7TlpKfnmoTngbXmtLvmgKfjgILkuIDoiKzmnaXor7TvvIzor6XohJrmnKzkuI3kvJrkuI7lhbbku5bmtYHooYznmoQgQ2hhdEdQVCDohJrmnKzkuqfnlJ/lhrLnqoHjgIIKLy8gQGxpY2Vuc2UgICAgICAgICAgICBNSVQKLy8gQGNvcHlyaWdodCAgICAgICAgICAyMDIzLCBIeWRyb3RobyAoaHR0cHM6Ly9naXRodWIuY29tL2h5ZHJvdGhvKQovLyBAaWNvbiAgICAgICAgICAgICAgIGRhdGE6aW1hZ2UvcG5nO2Jhc2U2NCxpVkJPUncwS0dnb0FBQUFOU1VoRVVnQUFBQ0FBQUFBZ0NBTUFBQUJFcElyR0FBQUFCR2RCVFVFQUFMR1BDL3hoQlFBQUFBRnpVa2RDQUs3T0hPa0FBQUgxVUV4VVJVeHBjWGVxbjNXcW5IV29uSFNwbkhXb25IV3BuRzIya25XcG5IV3BuSFNtbTNhcG0zU3BuSFdvbkhXcG5IU29uSFdwbkhXcG0zYXBuWFdwbkhXcG0zV3BuUC8vLzhmYzE5Zm00M21ybjY3TnhmNy8vL3I4KzZIRnZOUGs0SlM4c3NYYjFYaXJuc0RZMHNQYTFQajcrcWJIdjVpL3RYZXFudno5L1g2dW9vNjVyb3EycStUdTdQMysvcXJLd3FERXU5Ym00dlAzOXFmSXdQdjkvTlhsNGV6ejhYcXNuK254NzNtc241L0R1c25kMk43cTU5enA1cEM2cjRDd3BLTEZ2SU94cHN6ZjJvU3lwc1RhMWZuNysvUDQ5dC9yNkpyQXQ4TFoxTC9YMGQzcTUzYXFuY3pmMjg3aDNJZTBxYzdnM1ByOC9MVFF5YkRPeHB2QnVPYnY3Yy9oM1BYNStPcnk4T0RyNk9QdDY1RzdzTG5UellXenAvbjcrb2kxcXY3Ky90VGs0SjdDdWN2ZTJaM0N1YjdYMEgrdm84TFowNTNDdUtuSndmZjYrdG5uNC8zKy9mRDI5WHl0b1lXenFKZSt0SmErdEhhcG5IZXFuYUhFdTh2ZjJvR3hwYXpMdzN1dG9NcmUyWlc5czdYUnl1LzE5SDJ1b3UvMTg2WEh2NmpKd05EaTNzamQyT0x0NnUzMDh1Znc3dGZtNHJqVHpLM014T2p3N3R2cDVkSGkzc2pkMTVtL3R2TDM5cS9OeHZiNStPUHU2NHkzcklPeXB0bm41TGJTeStEczZlSHM2dGJsNGNIWjAvdjgvSDZ2bzRHd3BaN0R1cy9oM2ZiNitaSzdzZlQ0OS9mNithTEZ2YXZMdzZ6THhNM2cyOGJjMXBRTGYyUUFBQUFWZEZKT1V3QXR2NWJ6MVBRSC9kVXVqNVdRL0N5WXdKSHlrcUtFR1A4QUFBQUpjRWhaY3dBQUFIWUFBQUIyQVU1N0pnZ0FBQUljU1VSQlZEakxoZE5sZTlzd0VBQmdGZEswS3c3dUhNZnA2aVRlQWtzYVRocG9VbVp1VjF4NXpNeGJ4OHdNN1hqN25aTmp4L0wyck5sOWtYUjZINTFzbndtaHNXRlRXUW44RlNXR3lnS2loTEdtRlA0WnBVWEc3UDVHV0RjS1pWRURlYUtDMW1mbkh4VXZvU1YxOVlRT1ZGV1RMZHBpVWZKMlBPeC9qT0V6QXk0dFdVN0tjdFBHOTVGcE9qVDBJQTJQVDgwYVNIRU9wS1E1bVNVeElBN2JEMk96STV2ZFROVHQxUVhCRHZBeE1ULzdxa0UraDhQZHlvWUMrRFgwWWdZeVg0VytGd0J1bnFZT2hwcDBZQWwvMWVOMjJPcjVEUEQ4SmQ2c0JUaU9aZ1lhOFNmVXlzQU1IK3dXVy9BSzNuZGJVV1JBREtVVk1HSWV4MVlyUkdjczN1dll4Y0N6S1ZDQUpUYjY2RlpzRkdEWFRnSFBNakQyV2dXY0ZlQ2tIZC91b09zaGowTUQxNlFvTE9JMitRNDA2aWZwUFhoNGdpc2FPSVhENEppWlhVb3F3QVJ4L0FiODB6QjdUSk16bUsxN25yNEJLMmVDT25vY0pHTU1CQkg5dE82RnFZaHZlVUpTd1pzeEJycFJERGx0bDZHM0c3LzgrSzZBdExPWkFSdTY1aFl3Y0xmTDhzNGwzMEVHQ1R6R3dINk1BM1Rldzl1MFRwMUhCbVlPVCt1K3haNjJubDRBQjkxdUdSUStaV0FaNTNIUXFnTXdnbjNuNkJDOTArYmwwbkxKQjUxcUgrUWFwaFVEM0VXdUhWTnV1aGlRd2xyUGFTM242emhFVysyRzNJM1RrU0UzQTVYYWxHODYwby9qL3NTa2NHQWY2MnRTOE1kdkZmZTNPeWYydHVneWhCUkIzcUMvWHVGL0FERldWT1VIaEZTWEc0clhBNzhCWWJpTEpEVVhxc01BQUFCWGVsUllkRkpoZHlCd2NtOW1hV3hsSUhSNWNHVWdhWEIwWXdBQWVKemo4Z3dJY1ZZb0tNcFB5OHhKNVZJQUF5TUxMbU1MRXlNVFM1TVVBeE1nUklBMHcyUURJN05VSU12WTFNakV6TVFjeEFmTGdFaWdTaTRBNmhjUmRQSkNOWlVBQUFBQVNVVk9SSzVDWUlJPQovLyBAc3VwcG9ydFVSTCAgICAgICAgIGh0dHBzOi8vZ2l0aHViLmNvbS9oeWRyb3Roby9DaGF0R1BUX01vZGVsX1N3aXRjaGVyL2lzc3VlcwovLyBAbWF0Y2ggICAgICAgICAgICAgIGh0dHAqOi8vY2hhdC5vcGVuYWkuY29tLyoKLy8gQHJlcXVpcmUgICAgICAgICAgICBodHRwczovL2Nkbi5qc2RlbGl2ci5uZXQvbnBtL3Z1ZUAzLjQuMjEvZGlzdC92dWUuZ2xvYmFsLnByb2QuanMjc2hhMjU2LVNXTVFGRUhlMStRZ3dGWmw1OFlXc3ZMamhSeVo0YytLK0UwcDF2RU9kOW89Ci8vIEBncmFudCAgICAgICAgICAgICAgbm9uZQovLyBAZG93bmxvYWRVUkwgaHR0cHM6Ly91cGRhdGUuZ3JlYXN5Zm9yay5vcmcvc2NyaXB0cy80Njg5MDUvQ2hhdEdQVCUyME1vZGVsJTIwU3dpdGNoZXIlMjAlMjhTdXBwb3J0cyUyMEdQVC00JTIwTW9iaWxlJTIwYW5kJTIwQWxsJTIwQXZhaWxhYmxlJTIwTW9kZWxzJTI5LnVzZXIuanMKLy8gQHVwZGF0ZVVSTCBodHRwczovL3VwZGF0ZS5ncmVhc3lmb3JrLm9yZy9zY3JpcHRzLzQ2ODkwNS9DaGF0R1BUJTIwTW9kZWwlMjBTd2l0Y2hlciUyMCUyOFN1cHBvcnRzJTIwR1BULTQlMjBNb2JpbGUlMjBhbmQlMjBBbGwlMjBBdmFpbGFibGUlMjBNb2RlbHMlMjkubWV0YS5qcwovLyA9PS9Vc2VyU2NyaXB0PT0KCihmdW5jdGlvbiAodnVlKSB7CiAgJ3VzZSBzdHJpY3QnOwoKICBmdW5jdGlvbiB1c2VDb250cm9sbGFibGUoY29udHJvbGxlZFZhbHVlLCBvbkNoYW5nZSwgZGVmYXVsdFZhbHVlKSB7CiAgICBsZXQgaW50ZXJuYWxWYWx1ZSA9IHZ1ZS5yZWYoZGVmYXVsdFZhbHVlID09IG51bGwgPyB2b2lkIDAgOiBkZWZhdWx0VmFsdWUudmFsdWUpOwogICAgbGV0IGlzQ29udHJvbGxlZCA9IHZ1ZS5jb21wdXRlZCgoKSA9PiBjb250cm9sbGVkVmFsdWUudmFsdWUgIT09IHZvaWQgMCk7CiAgICByZXR1cm4gWwogICAgICB2dWUuY29tcHV0ZWQoKCkgPT4gaXNDb250cm9sbGVkLnZhbHVlID8gY29udHJvbGxlZFZhbHVlLnZhbHVlIDogaW50ZXJuYWxWYWx1ZS52YWx1ZSksCiAgICAgIGZ1bmN0aW9uKHZhbHVlKSB7CiAgICAgICAgaWYgKGlzQ29udHJvbGxlZC52YWx1ZSkgewogICAgICAgICAgcmV0dXJuIG9uQ2hhbmdlID09IG51bGwgPyB2b2lkIDAgOiBvbkNoYW5nZSh2YWx1ZSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGludGVybmFsVmFsdWUudmFsdWUgPSB2YWx1ZTsKICAgICAgICAgIHJldHVybiBvbkNoYW5nZSA9PSBudWxsID8gdm9pZCAwIDogb25DaGFuZ2UodmFsdWUpOwogICAgICAgIH0KICAgICAgfQogICAgXTsKICB9CiAgbGV0IEdFTkVSQVRFX0lEID0gU3ltYm9sKCJoZWFkbGVzc3VpLnVzZWlkIik7CiAgbGV0IGdsb2JhbElkID0gMDsKICBmdW5jdGlvbiB1c2VJZCgpIHsKICAgIGxldCBnZW5lcmF0ZUlkID0gdnVlLmluamVjdChHRU5FUkFURV9JRCwgKCkgPT4gewogICAgICByZXR1cm4gYCR7KytnbG9iYWxJZH1gOwogICAgfSk7CiAgICByZXR1cm4gZ2VuZXJhdGVJZCgpOwogIH0KICBmdW5jdGlvbiBkb20ocmVmMikgewogICAgdmFyIF9hOwogICAgaWYgKHJlZjIgPT0gbnVsbCkKICAgICAgcmV0dXJuIG51bGw7CiAgICBpZiAocmVmMi52YWx1ZSA9PSBudWxsKQogICAgICByZXR1cm4gbnVsbDsKICAgIGxldCBlbCA9IChfYSA9IHJlZjIudmFsdWUuJGVsKSAhPSBudWxsID8gX2EgOiByZWYyLnZhbHVlOwogICAgaWYgKGVsIGluc3RhbmNlb2YgTm9kZSkgewogICAgICByZXR1cm4gZWw7CiAgICB9CiAgICByZXR1cm4gbnVsbDsKICB9CiAgZnVuY3Rpb24gbWF0Y2godmFsdWUsIGxvb2t1cCwgLi4uYXJncykgewogICAgaWYgKHZhbHVlIGluIGxvb2t1cCkgewogICAgICBsZXQgcmV0dXJuVmFsdWUgPSBsb29rdXBbdmFsdWVdOwogICAgICByZXR1cm4gdHlwZW9mIHJldHVyblZhbHVlID09PSAiZnVuY3Rpb24iID8gcmV0dXJuVmFsdWUoLi4uYXJncykgOiByZXR1cm5WYWx1ZTsKICAgIH0KICAgIGxldCBlcnJvciA9IG5ldyBFcnJvcigKICAgICAgYFRyaWVkIHRvIGhhbmRsZSAiJHt2YWx1ZX0iIGJ1dCB0aGVyZSBpcyBubyBoYW5kbGVyIGRlZmluZWQuIE9ubHkgZGVmaW5lZCBoYW5kbGVycyBhcmU6ICR7T2JqZWN0LmtleXMoCiAgICAgIGxvb2t1cAogICAgKS5tYXAoKGtleSkgPT4gYCIke2tleX0iYCkuam9pbigiLCAiKX0uYAogICAgKTsKICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkKICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyb3IsIG1hdGNoKTsKICAgIHRocm93IGVycm9yOwogIH0KICB2YXIgX19kZWZQcm9wID0gT2JqZWN0LmRlZmluZVByb3BlcnR5OwogIHZhciBfX2RlZk5vcm1hbFByb3AgPSAob2JqLCBrZXksIHZhbHVlKSA9PiBrZXkgaW4gb2JqID8gX19kZWZQcm9wKG9iaiwga2V5LCB7IGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUsIHZhbHVlIH0pIDogb2JqW2tleV0gPSB2YWx1ZTsKICB2YXIgX19wdWJsaWNGaWVsZCA9IChvYmosIGtleSwgdmFsdWUpID0+IHsKICAgIF9fZGVmTm9ybWFsUHJvcChvYmosIHR5cGVvZiBrZXkgIT09ICJzeW1ib2wiID8ga2V5ICsgIiIgOiBrZXksIHZhbHVlKTsKICAgIHJldHVybiB2YWx1ZTsKICB9OwogIGNsYXNzIEVudiB7CiAgICBjb25zdHJ1Y3RvcigpIHsKICAgICAgX19wdWJsaWNGaWVsZCh0aGlzLCAiY3VycmVudCIsIHRoaXMuZGV0ZWN0KCkpOwogICAgICBfX3B1YmxpY0ZpZWxkKHRoaXMsICJjdXJyZW50SWQiLCAwKTsKICAgIH0KICAgIHNldChlbnYyKSB7CiAgICAgIGlmICh0aGlzLmN1cnJlbnQgPT09IGVudjIpCiAgICAgICAgcmV0dXJuOwogICAgICB0aGlzLmN1cnJlbnRJZCA9IDA7CiAgICAgIHRoaXMuY3VycmVudCA9IGVudjI7CiAgICB9CiAgICByZXNldCgpIHsKICAgICAgdGhpcy5zZXQodGhpcy5kZXRlY3QoKSk7CiAgICB9CiAgICBuZXh0SWQoKSB7CiAgICAgIHJldHVybiArK3RoaXMuY3VycmVudElkOwogICAgfQogICAgZ2V0IGlzU2VydmVyKCkgewogICAgICByZXR1cm4gdGhpcy5jdXJyZW50ID09PSAic2VydmVyIjsKICAgIH0KICAgIGdldCBpc0NsaWVudCgpIHsKICAgICAgcmV0dXJuIHRoaXMuY3VycmVudCA9PT0gImNsaWVudCI7CiAgICB9CiAgICBkZXRlY3QoKSB7CiAgICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSAidW5kZWZpbmVkIiB8fCB0eXBlb2YgZG9jdW1lbnQgPT09ICJ1bmRlZmluZWQiKSB7CiAgICAgICAgcmV0dXJuICJzZXJ2ZXIiOwogICAgICB9CiAgICAgIHJldHVybiAiY2xpZW50IjsKICAgIH0KICB9CiAgbGV0IGVudiA9IG5ldyBFbnYoKTsKICBmdW5jdGlvbiBnZXRPd25lckRvY3VtZW50KGVsZW1lbnQpIHsKICAgIGlmIChlbnYuaXNTZXJ2ZXIpCiAgICAgIHJldHVybiBudWxsOwogICAgaWYgKGVsZW1lbnQgaW5zdGFuY2VvZiBOb2RlKQogICAgICByZXR1cm4gZWxlbWVudC5vd25lckRvY3VtZW50OwogICAgaWYgKGVsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IGVsZW1lbnQuaGFzT3duUHJvcGVydHkoInZhbHVlIikpIHsKICAgICAgbGV0IGRvbUVsZW1lbnQgPSBkb20oZWxlbWVudCk7CiAgICAgIGlmIChkb21FbGVtZW50KQogICAgICAgIHJldHVybiBkb21FbGVtZW50Lm93bmVyRG9jdW1lbnQ7CiAgICB9CiAgICByZXR1cm4gZG9jdW1lbnQ7CiAgfQogIGxldCBmb2N1c2FibGVTZWxlY3RvciA9IFsKICAgICJbY29udGVudEVkaXRhYmxlPXRydWVdIiwKICAgICJbdGFiaW5kZXhdIiwKICAgICJhW2hyZWZdIiwKICAgICJhcmVhW2hyZWZdIiwKICAgICJidXR0b246bm90KFtkaXNhYmxlZF0pIiwKICAgICJpZnJhbWUiLAogICAgImlucHV0Om5vdChbZGlzYWJsZWRdKSIsCiAgICAic2VsZWN0Om5vdChbZGlzYWJsZWRdKSIsCiAgICAidGV4dGFyZWE6bm90KFtkaXNhYmxlZF0pIgogIF0ubWFwKAogICAgKHNlbGVjdG9yKSA9PiBgJHtzZWxlY3Rvcn06bm90KFt0YWJpbmRleD0nLTEnXSlgCiAgKS5qb2luKCIsIik7CiAgdmFyIEZvY3VzID0gLyogQF9fUFVSRV9fICovICgoRm9jdXMyKSA9PiB7CiAgICBGb2N1czJbRm9jdXMyWyJGaXJzdCJdID0gMV0gPSAiRmlyc3QiOwogICAgRm9jdXMyW0ZvY3VzMlsiUHJldmlvdXMiXSA9IDJdID0gIlByZXZpb3VzIjsKICAgIEZvY3VzMltGb2N1czJbIk5leHQiXSA9IDRdID0gIk5leHQiOwogICAgRm9jdXMyW0ZvY3VzMlsiTGFzdCJdID0gOF0gPSAiTGFzdCI7CiAgICBGb2N1czJbRm9jdXMyWyJXcmFwQXJvdW5kIl0gPSAxNl0gPSAiV3JhcEFyb3VuZCI7CiAgICBGb2N1czJbRm9jdXMyWyJOb1Njcm9sbCJdID0gMzJdID0gIk5vU2Nyb2xsIjsKICAgIHJldHVybiBGb2N1czI7CiAgfSkoRm9jdXMgfHwge30pOwogIHZhciBGb2N1c1Jlc3VsdCA9IC8qIEBfX1BVUkVfXyAqLyAoKEZvY3VzUmVzdWx0MikgPT4gewogICAgRm9jdXNSZXN1bHQyW0ZvY3VzUmVzdWx0MlsiRXJyb3IiXSA9IDBdID0gIkVycm9yIjsKICAgIEZvY3VzUmVzdWx0MltGb2N1c1Jlc3VsdDJbIk92ZXJmbG93Il0gPSAxXSA9ICJPdmVyZmxvdyI7CiAgICBGb2N1c1Jlc3VsdDJbRm9jdXNSZXN1bHQyWyJTdWNjZXNzIl0gPSAyXSA9ICJTdWNjZXNzIjsKICAgIEZvY3VzUmVzdWx0MltGb2N1c1Jlc3VsdDJbIlVuZGVyZmxvdyJdID0gM10gPSAiVW5kZXJmbG93IjsKICAgIHJldHVybiBGb2N1c1Jlc3VsdDI7CiAgfSkoRm9jdXNSZXN1bHQgfHwge30pOwogIGZ1bmN0aW9uIGdldEZvY3VzYWJsZUVsZW1lbnRzKGNvbnRhaW5lciA9IGRvY3VtZW50LmJvZHkpIHsKICAgIGlmIChjb250YWluZXIgPT0gbnVsbCkKICAgICAgcmV0dXJuIFtdOwogICAgcmV0dXJuIEFycmF5LmZyb20oY29udGFpbmVyLnF1ZXJ5U2VsZWN0b3JBbGwoZm9jdXNhYmxlU2VsZWN0b3IpKS5zb3J0KAogICAgICAvLyBXZSB3YW50IHRvIG1vdmUgYDp0YWJpbmRleD0iMCJgIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3QsIHRoaXMgaXMgd2hhdCB0aGUgYnJvd3NlciBkb2VzIGFzIHdlbGwuCiAgICAgIChhLCB6KSA9PiBNYXRoLnNpZ24oKGEudGFiSW5kZXggfHwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpIC0gKHoudGFiSW5kZXggfHwgTnVtYmVyLk1BWF9TQUZFX0lOVEVHRVIpKQogICAgKTsKICB9CiAgdmFyIEZvY3VzYWJsZU1vZGUgPSAvKiBAX19QVVJFX18gKi8gKChGb2N1c2FibGVNb2RlMikgPT4gewogICAgRm9jdXNhYmxlTW9kZTJbRm9jdXNhYmxlTW9kZTJbIlN0cmljdCJdID0gMF0gPSAiU3RyaWN0IjsKICAgIEZvY3VzYWJsZU1vZGUyW0ZvY3VzYWJsZU1vZGUyWyJMb29zZSJdID0gMV0gPSAiTG9vc2UiOwogICAgcmV0dXJuIEZvY3VzYWJsZU1vZGUyOwogIH0pKEZvY3VzYWJsZU1vZGUgfHwge30pOwogIGZ1bmN0aW9uIGlzRm9jdXNhYmxlRWxlbWVudChlbGVtZW50LCBtb2RlID0gMCkgewogICAgdmFyIF9hOwogICAgaWYgKGVsZW1lbnQgPT09ICgoX2EgPSBnZXRPd25lckRvY3VtZW50KGVsZW1lbnQpKSA9PSBudWxsID8gdm9pZCAwIDogX2EuYm9keSkpCiAgICAgIHJldHVybiBmYWxzZTsKICAgIHJldHVybiBtYXRjaChtb2RlLCB7CiAgICAgIFsKICAgICAgICAwCiAgICAgICAgLyogU3RyaWN0ICovCiAgICAgIF0oKSB7CiAgICAgICAgcmV0dXJuIGVsZW1lbnQubWF0Y2hlcyhmb2N1c2FibGVTZWxlY3Rvcik7CiAgICAgIH0sCiAgICAgIFsKICAgICAgICAxCiAgICAgICAgLyogTG9vc2UgKi8KICAgICAgXSgpIHsKICAgICAgICBsZXQgbmV4dCA9IGVsZW1lbnQ7CiAgICAgICAgd2hpbGUgKG5leHQgIT09IG51bGwpIHsKICAgICAgICAgIGlmIChuZXh0Lm1hdGNoZXMoZm9jdXNhYmxlU2VsZWN0b3IpKQogICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgIG5leHQgPSBuZXh0LnBhcmVudEVsZW1lbnQ7CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgfQogICAgfSk7CiAgfQogIGlmICh0eXBlb2Ygd2luZG93ICE9PSAidW5kZWZpbmVkIiAmJiB0eXBlb2YgZG9jdW1lbnQgIT09ICJ1bmRlZmluZWQiKSB7CiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKAogICAgICAia2V5ZG93biIsCiAgICAgIChldmVudCkgPT4gewogICAgICAgIGlmIChldmVudC5tZXRhS2V5IHx8IGV2ZW50LmFsdEtleSB8fCBldmVudC5jdHJsS2V5KSB7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5kYXRhc2V0LmhlYWRsZXNzdWlGb2N1c1Zpc2libGUgPSAiIjsKICAgICAgfSwKICAgICAgdHJ1ZQogICAgKTsKICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoCiAgICAgICJjbGljayIsCiAgICAgIChldmVudCkgPT4gewogICAgICAgIGlmIChldmVudC5kZXRhaWwgPT09IDEpIHsKICAgICAgICAgIGRlbGV0ZSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGF0YXNldC5oZWFkbGVzc3VpRm9jdXNWaXNpYmxlOwogICAgICAgIH0gZWxzZSBpZiAoZXZlbnQuZGV0YWlsID09PSAwKSB7CiAgICAgICAgICBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuZGF0YXNldC5oZWFkbGVzc3VpRm9jdXNWaXNpYmxlID0gIiI7CiAgICAgICAgfQogICAgICB9LAogICAgICB0cnVlCiAgICApOwogIH0KICBsZXQgc2VsZWN0YWJsZVNlbGVjdG9yID0gWyJ0ZXh0YXJlYSIsICJpbnB1dCJdLmpvaW4oIiwiKTsKICBmdW5jdGlvbiBpc1NlbGVjdGFibGVFbGVtZW50KGVsZW1lbnQpIHsKICAgIHZhciBfYSwgX2I7CiAgICByZXR1cm4gKF9iID0gKF9hID0gZWxlbWVudCA9PSBudWxsID8gdm9pZCAwIDogZWxlbWVudC5tYXRjaGVzKSA9PSBudWxsID8gdm9pZCAwIDogX2EuY2FsbChlbGVtZW50LCBzZWxlY3RhYmxlU2VsZWN0b3IpKSAhPSBudWxsID8gX2IgOiBmYWxzZTsKICB9CiAgZnVuY3Rpb24gc29ydEJ5RG9tTm9kZShub2RlcywgcmVzb2x2ZUtleSA9IChpKSA9PiBpKSB7CiAgICByZXR1cm4gbm9kZXMuc2xpY2UoKS5zb3J0KChhSXRlbSwgekl0ZW0pID0+IHsKICAgICAgbGV0IGEgPSByZXNvbHZlS2V5KGFJdGVtKTsKICAgICAgbGV0IHogPSByZXNvbHZlS2V5KHpJdGVtKTsKICAgICAgaWYgKGEgPT09IG51bGwgfHwgeiA9PT0gbnVsbCkKICAgICAgICByZXR1cm4gMDsKICAgICAgbGV0IHBvc2l0aW9uID0gYS5jb21wYXJlRG9jdW1lbnRQb3NpdGlvbih6KTsKICAgICAgaWYgKHBvc2l0aW9uICYgTm9kZS5ET0NVTUVOVF9QT1NJVElPTl9GT0xMT1dJTkcpCiAgICAgICAgcmV0dXJuIC0xOwogICAgICBpZiAocG9zaXRpb24gJiBOb2RlLkRPQ1VNRU5UX1BPU0lUSU9OX1BSRUNFRElORykKICAgICAgICByZXR1cm4gMTsKICAgICAgcmV0dXJuIDA7CiAgICB9KTsKICB9CiAgZnVuY3Rpb24gZm9jdXNJbihjb250YWluZXIsIGZvY3VzLCB7CiAgICBzb3J0ZWQgPSB0cnVlLAogICAgcmVsYXRpdmVUbyA9IG51bGwsCiAgICBza2lwRWxlbWVudHMgPSBbXQogIH0gPSB7fSkgewogICAgdmFyIF9hOwogICAgbGV0IG93bmVyRG9jdW1lbnQgPSAoX2EgPSBBcnJheS5pc0FycmF5KGNvbnRhaW5lcikgPyBjb250YWluZXIubGVuZ3RoID4gMCA/IGNvbnRhaW5lclswXS5vd25lckRvY3VtZW50IDogZG9jdW1lbnQgOiBjb250YWluZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbnRhaW5lci5vd25lckRvY3VtZW50KSAhPSBudWxsID8gX2EgOiBkb2N1bWVudDsKICAgIGxldCBlbGVtZW50cyA9IEFycmF5LmlzQXJyYXkoY29udGFpbmVyKSA/IHNvcnRlZCA/IHNvcnRCeURvbU5vZGUoY29udGFpbmVyKSA6IGNvbnRhaW5lciA6IGdldEZvY3VzYWJsZUVsZW1lbnRzKGNvbnRhaW5lcik7CiAgICBpZiAoc2tpcEVsZW1lbnRzLmxlbmd0aCA+IDAgJiYgZWxlbWVudHMubGVuZ3RoID4gMSkgewogICAgICBlbGVtZW50cyA9IGVsZW1lbnRzLmZpbHRlcigoeCkgPT4gIXNraXBFbGVtZW50cy5pbmNsdWRlcyh4KSk7CiAgICB9CiAgICByZWxhdGl2ZVRvID0gcmVsYXRpdmVUbyAhPSBudWxsID8gcmVsYXRpdmVUbyA6IG93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudDsKICAgIGxldCBkaXJlY3Rpb24gPSAoKCkgPT4gewogICAgICBpZiAoZm9jdXMgJiAoMSB8IDQpKQogICAgICAgIHJldHVybiAxOwogICAgICBpZiAoZm9jdXMgJiAoMiB8IDgpKQogICAgICAgIHJldHVybiAtMTsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nIEZvY3VzLkZpcnN0LCBGb2N1cy5QcmV2aW91cywgRm9jdXMuTmV4dCBvciBGb2N1cy5MYXN0Iik7CiAgICB9KSgpOwogICAgbGV0IHN0YXJ0SW5kZXggPSAoKCkgPT4gewogICAgICBpZiAoZm9jdXMgJiAxKQogICAgICAgIHJldHVybiAwOwogICAgICBpZiAoZm9jdXMgJiAyKQogICAgICAgIHJldHVybiBNYXRoLm1heCgwLCBlbGVtZW50cy5pbmRleE9mKHJlbGF0aXZlVG8pKSAtIDE7CiAgICAgIGlmIChmb2N1cyAmIDQpCiAgICAgICAgcmV0dXJuIE1hdGgubWF4KDAsIGVsZW1lbnRzLmluZGV4T2YocmVsYXRpdmVUbykpICsgMTsKICAgICAgaWYgKGZvY3VzICYgOCkKICAgICAgICByZXR1cm4gZWxlbWVudHMubGVuZ3RoIC0gMTsKICAgICAgdGhyb3cgbmV3IEVycm9yKCJNaXNzaW5nIEZvY3VzLkZpcnN0LCBGb2N1cy5QcmV2aW91cywgRm9jdXMuTmV4dCBvciBGb2N1cy5MYXN0Iik7CiAgICB9KSgpOwogICAgbGV0IGZvY3VzT3B0aW9ucyA9IGZvY3VzICYgMzIgPyB7IHByZXZlbnRTY3JvbGw6IHRydWUgfSA6IHt9OwogICAgbGV0IG9mZnNldCA9IDA7CiAgICBsZXQgdG90YWwgPSBlbGVtZW50cy5sZW5ndGg7CiAgICBsZXQgbmV4dCA9IHZvaWQgMDsKICAgIGRvIHsKICAgICAgaWYgKG9mZnNldCA+PSB0b3RhbCB8fCBvZmZzZXQgKyB0b3RhbCA8PSAwKQogICAgICAgIHJldHVybiAwOwogICAgICBsZXQgbmV4dElkeCA9IHN0YXJ0SW5kZXggKyBvZmZzZXQ7CiAgICAgIGlmIChmb2N1cyAmIDE2KSB7CiAgICAgICAgbmV4dElkeCA9IChuZXh0SWR4ICsgdG90YWwpICUgdG90YWw7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKG5leHRJZHggPCAwKQogICAgICAgICAgcmV0dXJuIDM7CiAgICAgICAgaWYgKG5leHRJZHggPj0gdG90YWwpCiAgICAgICAgICByZXR1cm4gMTsKICAgICAgfQogICAgICBuZXh0ID0gZWxlbWVudHNbbmV4dElkeF07CiAgICAgIG5leHQgPT0gbnVsbCA/IHZvaWQgMCA6IG5leHQuZm9jdXMoZm9jdXNPcHRpb25zKTsKICAgICAgb2Zmc2V0ICs9IGRpcmVjdGlvbjsKICAgIH0gd2hpbGUgKG5leHQgIT09IG93bmVyRG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7CiAgICBpZiAoZm9jdXMgJiAoNCB8IDIpICYmIGlzU2VsZWN0YWJsZUVsZW1lbnQobmV4dCkpIHsKICAgICAgbmV4dC5zZWxlY3QoKTsKICAgIH0KICAgIHJldHVybiAyOwogIH0KICBmdW5jdGlvbiBpc0lPUygpIHsKICAgIHJldHVybiAoCiAgICAgIC8vIENoZWNrIGlmIGl0IGlzIGFuIGlQaG9uZQogICAgICAvaVBob25lL2dpLnRlc3Qod2luZG93Lm5hdmlnYXRvci5wbGF0Zm9ybSkgfHwgLy8gQ2hlY2sgaWYgaXQgaXMgYW4gaVBhZC4gaVBhZCByZXBvcnRzIGl0c2VsZiBhcyAiTWFjSW50ZWwiLCBidXQgd2UgY2FuIGNoZWNrIGlmIGl0IGlzIGEgdG91Y2gKICAgICAgLy8gc2NyZWVuLiBMZXQncyBob3BlIHRoYXQgQXBwbGUgZG9lc24ndCByZWxlYXNlIGEgdG91Y2ggc2NyZWVuIE1hYyAob3IgbWF5YmUgdGhpcyB3b3VsZCB0aGVuCiAgICAgIC8vIHdvcmsgYXMgZXhwZWN0ZWQg8J+klCkuCiAgICAgIC9NYWMvZ2kudGVzdCh3aW5kb3cubmF2aWdhdG9yLnBsYXRmb3JtKSAmJiB3aW5kb3cubmF2aWdhdG9yLm1heFRvdWNoUG9pbnRzID4gMAogICAgKTsKICB9CiAgZnVuY3Rpb24gaXNBbmRyb2lkKCkgewogICAgcmV0dXJuIC9BbmRyb2lkL2dpLnRlc3Qod2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQpOwogIH0KICBmdW5jdGlvbiBpc01vYmlsZSgpIHsKICAgIHJldHVybiBpc0lPUygpIHx8IGlzQW5kcm9pZCgpOwogIH0KICBmdW5jdGlvbiB1c2VEb2N1bWVudEV2ZW50KHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKSB7CiAgICBpZiAoZW52LmlzU2VydmVyKQogICAgICByZXR1cm47CiAgICB2dWUud2F0Y2hFZmZlY3QoKG9uSW52YWxpZGF0ZSkgPT4gewogICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyLCBvcHRpb25zKTsKICAgICAgb25JbnZhbGlkYXRlKCgpID0+IGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiB1c2VXaW5kb3dFdmVudCh0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykgewogICAgaWYgKGVudi5pc1NlcnZlcikKICAgICAgcmV0dXJuOwogICAgdnVlLndhdGNoRWZmZWN0KChvbkludmFsaWRhdGUpID0+IHsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpOwogICAgICBvbkludmFsaWRhdGUoKCkgPT4gd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpKTsKICAgIH0pOwogIH0KICBmdW5jdGlvbiB1c2VPdXRzaWRlQ2xpY2soY29udGFpbmVycywgY2IsIGVuYWJsZWQgPSB2dWUuY29tcHV0ZWQoKCkgPT4gdHJ1ZSkpIHsKICAgIGZ1bmN0aW9uIGhhbmRsZU91dHNpZGVDbGljayhldmVudCwgcmVzb2x2ZVRhcmdldCkgewogICAgICBpZiAoIWVuYWJsZWQudmFsdWUpCiAgICAgICAgcmV0dXJuOwogICAgICBpZiAoZXZlbnQuZGVmYXVsdFByZXZlbnRlZCkKICAgICAgICByZXR1cm47CiAgICAgIGxldCB0YXJnZXQgPSByZXNvbHZlVGFyZ2V0KGV2ZW50KTsKICAgICAgaWYgKHRhcmdldCA9PT0gbnVsbCkgewogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICBpZiAoIXRhcmdldC5nZXRSb290Tm9kZSgpLmNvbnRhaW5zKHRhcmdldCkpCiAgICAgICAgcmV0dXJuOwogICAgICBsZXQgX2NvbnRhaW5lcnMgPSBmdW5jdGlvbiByZXNvbHZlKGNvbnRhaW5lcnMyKSB7CiAgICAgICAgaWYgKHR5cGVvZiBjb250YWluZXJzMiA9PT0gImZ1bmN0aW9uIikgewogICAgICAgICAgcmV0dXJuIHJlc29sdmUoY29udGFpbmVyczIoKSk7CiAgICAgICAgfQogICAgICAgIGlmIChBcnJheS5pc0FycmF5KGNvbnRhaW5lcnMyKSkgewogICAgICAgICAgcmV0dXJuIGNvbnRhaW5lcnMyOwogICAgICAgIH0KICAgICAgICBpZiAoY29udGFpbmVyczIgaW5zdGFuY2VvZiBTZXQpIHsKICAgICAgICAgIHJldHVybiBjb250YWluZXJzMjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIFtjb250YWluZXJzMl07CiAgICAgIH0oY29udGFpbmVycyk7CiAgICAgIGZvciAobGV0IGNvbnRhaW5lciBvZiBfY29udGFpbmVycykgewogICAgICAgIGlmIChjb250YWluZXIgPT09IG51bGwpCiAgICAgICAgICBjb250aW51ZTsKICAgICAgICBsZXQgZG9tTm9kZSA9IGNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50ID8gY29udGFpbmVyIDogZG9tKGNvbnRhaW5lcik7CiAgICAgICAgaWYgKGRvbU5vZGUgPT0gbnVsbCA/IHZvaWQgMCA6IGRvbU5vZGUuY29udGFpbnModGFyZ2V0KSkgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBpZiAoZXZlbnQuY29tcG9zZWQgJiYgZXZlbnQuY29tcG9zZWRQYXRoKCkuaW5jbHVkZXMoZG9tTm9kZSkpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKAogICAgICAgIC8vIFRoaXMgY2hlY2sgYWxsbG93cyB1cyB0byBrbm93IHdoZXRoZXIgb3Igbm90IHdlIGNsaWNrZWQgb24gYSAiZm9jdXNhYmxlIiBlbGVtZW50IGxpa2UgYQogICAgICAgIC8vIGJ1dHRvbiBvciBhbiBpbnB1dC4gVGhpcyBpcyBhIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IGNoZWNrIHNvIHRoYXQgeW91IGNhbiBvcGVuIGEgPE1lbnUKICAgICAgICAvLyAvPiBhbmQgY2xpY2sgb24gYW5vdGhlciA8TWVudSAvPiB3aGljaCBzaG91bGQgY2xvc2UgTWVudSBBIGFuZCBvcGVuIE1lbnUgQi4gV2UgbWlnaHQKICAgICAgICAvLyByZXZpc2l0IHRoYXQgc28gdGhhdCB5b3Ugd2lsbCByZXF1aXJlIDIgY2xpY2tzIGluc3RlYWQuCiAgICAgICAgIWlzRm9jdXNhYmxlRWxlbWVudCh0YXJnZXQsIEZvY3VzYWJsZU1vZGUuTG9vc2UpICYmIC8vIFRoaXMgY291bGQgYmUgaW1wcm92ZWQsIGJ1dCB0aGUgYENvbWJvYm94LkJ1dHRvbmAgYWRkcyB0YWJJbmRleD17LTF9IHRvIG1ha2UgaXQKICAgICAgICAvLyB1bmZvY3VzYWJsZSB2aWEgdGhlIGtleWJvYXJkIHNvIHRoYXQgdGFiYmluZyB0byB0aGUgbmV4dCBpdGVtIGZyb20gdGhlIGlucHV0IGRvZXNuJ3QKICAgICAgICAvLyBmaXJzdCBnbyB0byB0aGUgYnV0dG9uLgogICAgICAgIHRhcmdldC50YWJJbmRleCAhPT0gLTEKICAgICAgKSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgfQogICAgICByZXR1cm4gY2IoZXZlbnQsIHRhcmdldCk7CiAgICB9CiAgICBsZXQgaW5pdGlhbENsaWNrVGFyZ2V0ID0gdnVlLnJlZihudWxsKTsKICAgIHVzZURvY3VtZW50RXZlbnQoCiAgICAgICJwb2ludGVyZG93biIsCiAgICAgIChldmVudCkgPT4gewogICAgICAgIHZhciBfYSwgX2I7CiAgICAgICAgaWYgKGVuYWJsZWQudmFsdWUpIHsKICAgICAgICAgIGluaXRpYWxDbGlja1RhcmdldC52YWx1ZSA9ICgoX2IgPSAoX2EgPSBldmVudC5jb21wb3NlZFBhdGgpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGV2ZW50KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iWzBdKSB8fCBldmVudC50YXJnZXQ7CiAgICAgICAgfQogICAgICB9LAogICAgICB0cnVlCiAgICApOwogICAgdXNlRG9jdW1lbnRFdmVudCgKICAgICAgIm1vdXNlZG93biIsCiAgICAgIChldmVudCkgPT4gewogICAgICAgIHZhciBfYSwgX2I7CiAgICAgICAgaWYgKGVuYWJsZWQudmFsdWUpIHsKICAgICAgICAgIGluaXRpYWxDbGlja1RhcmdldC52YWx1ZSA9ICgoX2IgPSAoX2EgPSBldmVudC5jb21wb3NlZFBhdGgpID09IG51bGwgPyB2b2lkIDAgOiBfYS5jYWxsKGV2ZW50KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iWzBdKSB8fCBldmVudC50YXJnZXQ7CiAgICAgICAgfQogICAgICB9LAogICAgICB0cnVlCiAgICApOwogICAgdXNlRG9jdW1lbnRFdmVudCgKICAgICAgImNsaWNrIiwKICAgICAgKGV2ZW50KSA9PiB7CiAgICAgICAgaWYgKGlzTW9iaWxlKCkpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaWYgKCFpbml0aWFsQ2xpY2tUYXJnZXQudmFsdWUpIHsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgaGFuZGxlT3V0c2lkZUNsaWNrKGV2ZW50LCAoKSA9PiB7CiAgICAgICAgICByZXR1cm4gaW5pdGlhbENsaWNrVGFyZ2V0LnZhbHVlOwogICAgICAgIH0pOwogICAgICAgIGluaXRpYWxDbGlja1RhcmdldC52YWx1ZSA9IG51bGw7CiAgICAgIH0sCiAgICAgIC8vIFdlIHdpbGwgdXNlIHRoZSBgY2FwdHVyZWAgcGhhc2Ugc28gdGhhdCBsYXllcnMgaW4gYmV0d2VlbiB3aXRoIGBldmVudC5zdG9wUHJvcGFnYXRpb24oKWAKICAgICAgLy8gZG9uJ3QgImNhbmNlbCIgdGhpcyBvdXRzaWRlIGNsaWNrIGNoZWNrLiBFLmcuOiBBIGBNZW51YCBpbnNpZGUgYSBgRGlhbG9nUGFuZWxgIGlmIHRoZSBgTWVudWAKICAgICAgLy8gaXMgb3BlbiwgYW5kIHlvdSBjbGljayBvdXRzaWRlIG9mIGl0IGluIHRoZSBgRGlhbG9nUGFuZWxgIHRoZSBgTWVudWAgc2hvdWxkIGNsb3NlLiBIb3dldmVyLAogICAgICAvLyB0aGUgYERpYWxvZ1BhbmVsYCBoYXMgYSBgb25DbGljayhlKSB7IGUuc3RvcFByb3BhZ2F0aW9uKCkgfWAgd2hpY2ggd291bGQgY2FuY2VsIHRoaXMuCiAgICAgIHRydWUKICAgICk7CiAgICB1c2VEb2N1bWVudEV2ZW50KAogICAgICAidG91Y2hlbmQiLAogICAgICAoZXZlbnQpID0+IHsKICAgICAgICByZXR1cm4gaGFuZGxlT3V0c2lkZUNsaWNrKGV2ZW50LCAoKSA9PiB7CiAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0IGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpIHsKICAgICAgICAgICAgcmV0dXJuIGV2ZW50LnRhcmdldDsKICAgICAgICAgIH0KICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0pOwogICAgICB9LAogICAgICAvLyBXZSB3aWxsIHVzZSB0aGUgYGNhcHR1cmVgIHBoYXNlIHNvIHRoYXQgbGF5ZXJzIGluIGJldHdlZW4gd2l0aCBgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClgCiAgICAgIC8vIGRvbid0ICJjYW5jZWwiIHRoaXMgb3V0c2lkZSBjbGljayBjaGVjay4gRS5nLjogQSBgTWVudWAgaW5zaWRlIGEgYERpYWxvZ1BhbmVsYCBpZiB0aGUgYE1lbnVgCiAgICAgIC8vIGlzIG9wZW4sIGFuZCB5b3UgY2xpY2sgb3V0c2lkZSBvZiBpdCBpbiB0aGUgYERpYWxvZ1BhbmVsYCB0aGUgYE1lbnVgIHNob3VsZCBjbG9zZS4gSG93ZXZlciwKICAgICAgLy8gdGhlIGBEaWFsb2dQYW5lbGAgaGFzIGEgYG9uQ2xpY2soZSkgeyBlLnN0b3BQcm9wYWdhdGlvbigpIH1gIHdoaWNoIHdvdWxkIGNhbmNlbCB0aGlzLgogICAgICB0cnVlCiAgICApOwogICAgdXNlV2luZG93RXZlbnQoCiAgICAgICJibHVyIiwKICAgICAgKGV2ZW50KSA9PiB7CiAgICAgICAgcmV0dXJuIGhhbmRsZU91dHNpZGVDbGljayhldmVudCwgKCkgPT4gewogICAgICAgICAgcmV0dXJuIHdpbmRvdy5kb2N1bWVudC5hY3RpdmVFbGVtZW50IGluc3RhbmNlb2YgSFRNTElGcmFtZUVsZW1lbnQgPyB3aW5kb3cuZG9jdW1lbnQuYWN0aXZlRWxlbWVudCA6IG51bGw7CiAgICAgICAgfSk7CiAgICAgIH0sCiAgICAgIHRydWUKICAgICk7CiAgfQogIGZ1bmN0aW9uIHJlc29sdmVUeXBlKHR5cGUsIGFzKSB7CiAgICBpZiAodHlwZSkKICAgICAgcmV0dXJuIHR5cGU7CiAgICBsZXQgdGFnID0gYXMgIT0gbnVsbCA/IGFzIDogImJ1dHRvbiI7CiAgICBpZiAodHlwZW9mIHRhZyA9PT0gInN0cmluZyIgJiYgdGFnLnRvTG93ZXJDYXNlKCkgPT09ICJidXR0b24iKQogICAgICByZXR1cm4gImJ1dHRvbiI7CiAgICByZXR1cm4gdm9pZCAwOwogIH0KICBmdW5jdGlvbiB1c2VSZXNvbHZlQnV0dG9uVHlwZShkYXRhLCByZWZFbGVtZW50KSB7CiAgICBsZXQgdHlwZSA9IHZ1ZS5yZWYocmVzb2x2ZVR5cGUoZGF0YS52YWx1ZS50eXBlLCBkYXRhLnZhbHVlLmFzKSk7CiAgICB2dWUub25Nb3VudGVkKCgpID0+IHsKICAgICAgdHlwZS52YWx1ZSA9IHJlc29sdmVUeXBlKGRhdGEudmFsdWUudHlwZSwgZGF0YS52YWx1ZS5hcyk7CiAgICB9KTsKICAgIHZ1ZS53YXRjaEVmZmVjdCgoKSA9PiB7CiAgICAgIHZhciBfYTsKICAgICAgaWYgKHR5cGUudmFsdWUpCiAgICAgICAgcmV0dXJuOwogICAgICBpZiAoIWRvbShyZWZFbGVtZW50KSkKICAgICAgICByZXR1cm47CiAgICAgIGlmIChkb20ocmVmRWxlbWVudCkgaW5zdGFuY2VvZiBIVE1MQnV0dG9uRWxlbWVudCAmJiAhKChfYSA9IGRvbShyZWZFbGVtZW50KSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmhhc0F0dHJpYnV0ZSgidHlwZSIpKSkgewogICAgICAgIHR5cGUudmFsdWUgPSAiYnV0dG9uIjsKICAgICAgfQogICAgfSk7CiAgICByZXR1cm4gdHlwZTsKICB9CiAgdmFyIEZlYXR1cmVzJDEgPSAvKiBAX19QVVJFX18gKi8gKChGZWF0dXJlczIpID0+IHsKICAgIEZlYXR1cmVzMltGZWF0dXJlczJbIk5vbmUiXSA9IDBdID0gIk5vbmUiOwogICAgRmVhdHVyZXMyW0ZlYXR1cmVzMlsiUmVuZGVyU3RyYXRlZ3kiXSA9IDFdID0gIlJlbmRlclN0cmF0ZWd5IjsKICAgIEZlYXR1cmVzMltGZWF0dXJlczJbIlN0YXRpYyJdID0gMl0gPSAiU3RhdGljIjsKICAgIHJldHVybiBGZWF0dXJlczI7CiAgfSkoRmVhdHVyZXMkMSB8fCB7fSk7CiAgZnVuY3Rpb24gcmVuZGVyKHsKICAgIHZpc2libGUgPSB0cnVlLAogICAgZmVhdHVyZXMgPSAwLAogICAgb3VyUHJvcHMsCiAgICB0aGVpclByb3BzLAogICAgLi4ubWFpbgogIH0pIHsKICAgIHZhciBfYTsKICAgIGxldCBwcm9wcyA9IG1lcmdlUHJvcHModGhlaXJQcm9wcywgb3VyUHJvcHMpOwogICAgbGV0IG1haW5XaXRoUHJvcHMgPSBPYmplY3QuYXNzaWduKG1haW4sIHsgcHJvcHMgfSk7CiAgICBpZiAodmlzaWJsZSkKICAgICAgcmV0dXJuIF9yZW5kZXIobWFpbldpdGhQcm9wcyk7CiAgICBpZiAoZmVhdHVyZXMgJiAyKSB7CiAgICAgIGlmIChwcm9wcy5zdGF0aWMpCiAgICAgICAgcmV0dXJuIF9yZW5kZXIobWFpbldpdGhQcm9wcyk7CiAgICB9CiAgICBpZiAoZmVhdHVyZXMgJiAxKSB7CiAgICAgIGxldCBzdHJhdGVneSA9ICgoX2EgPSBwcm9wcy51bm1vdW50KSAhPSBudWxsID8gX2EgOiB0cnVlKSA/IDAgOiAxOwogICAgICByZXR1cm4gbWF0Y2goc3RyYXRlZ3ksIHsKICAgICAgICBbCiAgICAgICAgICAwCiAgICAgICAgICAvKiBVbm1vdW50ICovCiAgICAgICAgXSgpIHsKICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgIH0sCiAgICAgICAgWwogICAgICAgICAgMQogICAgICAgICAgLyogSGlkZGVuICovCiAgICAgICAgXSgpIHsKICAgICAgICAgIHJldHVybiBfcmVuZGVyKHsKICAgICAgICAgICAgLi4ubWFpbiwKICAgICAgICAgICAgcHJvcHM6IHsgLi4ucHJvcHMsIGhpZGRlbjogdHJ1ZSwgc3R5bGU6IHsgZGlzcGxheTogIm5vbmUiIH0gfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICAgIHJldHVybiBfcmVuZGVyKG1haW5XaXRoUHJvcHMpOwogIH0KICBmdW5jdGlvbiBfcmVuZGVyKHsKICAgIHByb3BzLAogICAgYXR0cnMsCiAgICBzbG90cywKICAgIHNsb3QsCiAgICBuYW1lCiAgfSkgewogICAgdmFyIF9hLCBfYjsKICAgIGxldCB7IGFzLCAuLi5pbmNvbWluZ1Byb3BzIH0gPSBvbWl0KHByb3BzLCBbInVubW91bnQiLCAic3RhdGljIl0pOwogICAgbGV0IGNoaWxkcmVuID0gKF9hID0gc2xvdHMuZGVmYXVsdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwoc2xvdHMsIHNsb3QpOwogICAgbGV0IGRhdGFBdHRyaWJ1dGVzID0ge307CiAgICBpZiAoc2xvdCkgewogICAgICBsZXQgZXhwb3NlU3RhdGUgPSBmYWxzZTsKICAgICAgbGV0IHN0YXRlcyA9IFtdOwogICAgICBmb3IgKGxldCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMoc2xvdCkpIHsKICAgICAgICBpZiAodHlwZW9mIHYgPT09ICJib29sZWFuIikgewogICAgICAgICAgZXhwb3NlU3RhdGUgPSB0cnVlOwogICAgICAgIH0KICAgICAgICBpZiAodiA9PT0gdHJ1ZSkgewogICAgICAgICAgc3RhdGVzLnB1c2goayk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGlmIChleHBvc2VTdGF0ZSkKICAgICAgICBkYXRhQXR0cmlidXRlc1tgZGF0YS1oZWFkbGVzc3VpLXN0YXRlYF0gPSBzdGF0ZXMuam9pbigiICIpOwogICAgfQogICAgaWYgKGFzID09PSAidGVtcGxhdGUiKSB7CiAgICAgIGNoaWxkcmVuID0gZmxhdHRlbkZyYWdtZW50cyhjaGlsZHJlbiAhPSBudWxsID8gY2hpbGRyZW4gOiBbXSk7CiAgICAgIGlmIChPYmplY3Qua2V5cyhpbmNvbWluZ1Byb3BzKS5sZW5ndGggPiAwIHx8IE9iamVjdC5rZXlzKGF0dHJzKS5sZW5ndGggPiAwKSB7CiAgICAgICAgbGV0IFtmaXJzdENoaWxkLCAuLi5vdGhlcl0gPSBjaGlsZHJlbiAhPSBudWxsID8gY2hpbGRyZW4gOiBbXTsKICAgICAgICBpZiAoIWlzVmFsaWRFbGVtZW50KGZpcnN0Q2hpbGQpIHx8IG90aGVyLmxlbmd0aCA+IDApIHsKICAgICAgICAgIHRocm93IG5ldyBFcnJvcigKICAgICAgICAgICAgWwogICAgICAgICAgICAgICdQYXNzaW5nIHByb3BzIG9uICJ0ZW1wbGF0ZSIhJywKICAgICAgICAgICAgICAiIiwKICAgICAgICAgICAgICBgVGhlIGN1cnJlbnQgY29tcG9uZW50IDwke25hbWV9IC8+IGlzIHJlbmRlcmluZyBhICJ0ZW1wbGF0ZSIuYCwKICAgICAgICAgICAgICBgSG93ZXZlciB3ZSBuZWVkIHRvIHBhc3N0aHJvdWdoIHRoZSBmb2xsb3dpbmcgcHJvcHM6YCwKICAgICAgICAgICAgICBPYmplY3Qua2V5cyhpbmNvbWluZ1Byb3BzKS5jb25jYXQoT2JqZWN0LmtleXMoYXR0cnMpKS5tYXAoKG5hbWUyKSA9PiBuYW1lMi50cmltKCkpLmZpbHRlcigoY3VycmVudCwgaWR4LCBhbGwpID0+IGFsbC5pbmRleE9mKGN1cnJlbnQpID09PSBpZHgpLnNvcnQoKGEsIHopID0+IGEubG9jYWxlQ29tcGFyZSh6KSkubWFwKChsaW5lKSA9PiBgICAtICR7bGluZX1gKS5qb2luKCJcbiIpLAogICAgICAgICAgICAgICIiLAogICAgICAgICAgICAgICJZb3UgY2FuIGFwcGx5IGEgZmV3IHNvbHV0aW9uczoiLAogICAgICAgICAgICAgIFsKICAgICAgICAgICAgICAgICdBZGQgYW4gYGFzPSIuLi4iYCBwcm9wLCB0byBlbnN1cmUgdGhhdCB3ZSByZW5kZXIgYW4gYWN0dWFsIGVsZW1lbnQgaW5zdGVhZCBvZiBhICJ0ZW1wbGF0ZSIuJywKICAgICAgICAgICAgICAgICJSZW5kZXIgYSBzaW5nbGUgZWxlbWVudCBhcyB0aGUgY2hpbGQgc28gdGhhdCB3ZSBjYW4gZm9yd2FyZCB0aGUgcHJvcHMgb250byB0aGF0IGVsZW1lbnQuIgogICAgICAgICAgICAgIF0ubWFwKChsaW5lKSA9PiBgICAtICR7bGluZX1gKS5qb2luKCJcbiIpCiAgICAgICAgICAgIF0uam9pbigiXG4iKQogICAgICAgICAgKTsKICAgICAgICB9CiAgICAgICAgbGV0IG1lcmdlZFByb3BzID0gbWVyZ2VQcm9wcygoX2IgPSBmaXJzdENoaWxkLnByb3BzKSAhPSBudWxsID8gX2IgOiB7fSwgaW5jb21pbmdQcm9wcywgZGF0YUF0dHJpYnV0ZXMpOwogICAgICAgIGxldCBjbG9uZWQgPSB2dWUuY2xvbmVWTm9kZShmaXJzdENoaWxkLCBtZXJnZWRQcm9wcywgdHJ1ZSk7CiAgICAgICAgZm9yIChsZXQgcHJvcCBpbiBtZXJnZWRQcm9wcykgewogICAgICAgICAgaWYgKHByb3Auc3RhcnRzV2l0aCgib24iKSkgewogICAgICAgICAgICBjbG9uZWQucHJvcHMgfHwgKGNsb25lZC5wcm9wcyA9IHt9KTsKICAgICAgICAgICAgY2xvbmVkLnByb3BzW3Byb3BdID0gbWVyZ2VkUHJvcHNbcHJvcF07CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBjbG9uZWQ7CiAgICAgIH0KICAgICAgaWYgKEFycmF5LmlzQXJyYXkoY2hpbGRyZW4pICYmIGNoaWxkcmVuLmxlbmd0aCA9PT0gMSkgewogICAgICAgIHJldHVybiBjaGlsZHJlblswXTsKICAgICAgfQogICAgICByZXR1cm4gY2hpbGRyZW47CiAgICB9CiAgICByZXR1cm4gdnVlLmgoYXMsIE9iamVjdC5hc3NpZ24oe30sIGluY29taW5nUHJvcHMsIGRhdGFBdHRyaWJ1dGVzKSwgewogICAgICBkZWZhdWx0OiAoKSA9PiBjaGlsZHJlbgogICAgfSk7CiAgfQogIGZ1bmN0aW9uIGZsYXR0ZW5GcmFnbWVudHMoY2hpbGRyZW4pIHsKICAgIHJldHVybiBjaGlsZHJlbi5mbGF0TWFwKChjaGlsZCkgPT4gewogICAgICBpZiAoY2hpbGQudHlwZSA9PT0gdnVlLkZyYWdtZW50KSB7CiAgICAgICAgcmV0dXJuIGZsYXR0ZW5GcmFnbWVudHMoY2hpbGQuY2hpbGRyZW4pOwogICAgICB9CiAgICAgIHJldHVybiBbY2hpbGRdOwogICAgfSk7CiAgfQogIGZ1bmN0aW9uIG1lcmdlUHJvcHMoLi4ubGlzdE9mUHJvcHMpIHsKICAgIHZhciBfYTsKICAgIGlmIChsaXN0T2ZQcm9wcy5sZW5ndGggPT09IDApCiAgICAgIHJldHVybiB7fTsKICAgIGlmIChsaXN0T2ZQcm9wcy5sZW5ndGggPT09IDEpCiAgICAgIHJldHVybiBsaXN0T2ZQcm9wc1swXTsKICAgIGxldCB0YXJnZXQgPSB7fTsKICAgIGxldCBldmVudEhhbmRsZXJzID0ge307CiAgICBmb3IgKGxldCBwcm9wcyBvZiBsaXN0T2ZQcm9wcykgewogICAgICBmb3IgKGxldCBwcm9wIGluIHByb3BzKSB7CiAgICAgICAgaWYgKHByb3Auc3RhcnRzV2l0aCgib24iKSAmJiB0eXBlb2YgcHJvcHNbcHJvcF0gPT09ICJmdW5jdGlvbiIpIHsKICAgICAgICAgIChfYSA9IGV2ZW50SGFuZGxlcnNbcHJvcF0pICE9IG51bGwgPyBfYSA6IGV2ZW50SGFuZGxlcnNbcHJvcF0gPSBbXTsKICAgICAgICAgIGV2ZW50SGFuZGxlcnNbcHJvcF0ucHVzaChwcm9wc1twcm9wXSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRhcmdldFtwcm9wXSA9IHByb3BzW3Byb3BdOwogICAgICAgIH0KICAgICAgfQogICAgfQogICAgaWYgKHRhcmdldC5kaXNhYmxlZCB8fCB0YXJnZXRbImFyaWEtZGlzYWJsZWQiXSkgewogICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbigKICAgICAgICB0YXJnZXQsCiAgICAgICAgLy8gU2V0IGFsbCBldmVudCBsaXN0ZW5lcnMgdGhhdCB3ZSBjb2xsZWN0ZWQgdG8gYHVuZGVmaW5lZGAuIFRoaXMgaXMKICAgICAgICAvLyBpbXBvcnRhbnQgYmVjYXVzZSBvZiB0aGUgYGNsb25lRWxlbWVudGAgZnJvbSBhYm92ZSwgd2hpY2ggbWVyZ2VzIHRoZQogICAgICAgIC8vIGV4aXN0aW5nIGFuZCBuZXcgcHJvcHMsIHRoZXkgZG9uJ3QganVzdCBvdmVycmlkZSB0aGVyZWZvcmUgd2UgaGF2ZSB0bwogICAgICAgIC8vIGV4cGxpY2l0bHkgbnVsbGlmeSB0aGVtLgogICAgICAgIE9iamVjdC5mcm9tRW50cmllcyhPYmplY3Qua2V5cyhldmVudEhhbmRsZXJzKS5tYXAoKGV2ZW50TmFtZSkgPT4gW2V2ZW50TmFtZSwgdm9pZCAwXSkpCiAgICAgICk7CiAgICB9CiAgICBmb3IgKGxldCBldmVudE5hbWUgaW4gZXZlbnRIYW5kbGVycykgewogICAgICBPYmplY3QuYXNzaWduKHRhcmdldCwgewogICAgICAgIFtldmVudE5hbWVdKGV2ZW50LCAuLi5hcmdzKSB7CiAgICAgICAgICBsZXQgaGFuZGxlcnMgPSBldmVudEhhbmRsZXJzW2V2ZW50TmFtZV07CiAgICAgICAgICBmb3IgKGxldCBoYW5kbGVyIG9mIGhhbmRsZXJzKSB7CiAgICAgICAgICAgIGlmIChldmVudCBpbnN0YW5jZW9mIEV2ZW50ICYmIGV2ZW50LmRlZmF1bHRQcmV2ZW50ZWQpIHsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaGFuZGxlcihldmVudCwgLi4uYXJncyk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICAgIHJldHVybiB0YXJnZXQ7CiAgfQogIGZ1bmN0aW9uIGNvbXBhY3Qob2JqZWN0KSB7CiAgICBsZXQgY2xvbmUgPSBPYmplY3QuYXNzaWduKHt9LCBvYmplY3QpOwogICAgZm9yIChsZXQga2V5IGluIGNsb25lKSB7CiAgICAgIGlmIChjbG9uZVtrZXldID09PSB2b2lkIDApCiAgICAgICAgZGVsZXRlIGNsb25lW2tleV07CiAgICB9CiAgICByZXR1cm4gY2xvbmU7CiAgfQogIGZ1bmN0aW9uIG9taXQob2JqZWN0LCBrZXlzVG9PbWl0ID0gW10pIHsKICAgIGxldCBjbG9uZSA9IE9iamVjdC5hc3NpZ24oe30sIG9iamVjdCk7CiAgICBmb3IgKGxldCBrZXkgb2Yga2V5c1RvT21pdCkgewogICAgICBpZiAoa2V5IGluIGNsb25lKQogICAgICAgIGRlbGV0ZSBjbG9uZVtrZXldOwogICAgfQogICAgcmV0dXJuIGNsb25lOwogIH0KICBmdW5jdGlvbiBpc1ZhbGlkRWxlbWVudChpbnB1dCkgewogICAgaWYgKGlucHV0ID09IG51bGwpCiAgICAgIHJldHVybiBmYWxzZTsKICAgIGlmICh0eXBlb2YgaW5wdXQudHlwZSA9PT0gInN0cmluZyIpCiAgICAgIHJldHVybiB0cnVlOwogICAgaWYgKHR5cGVvZiBpbnB1dC50eXBlID09PSAib2JqZWN0IikKICAgICAgcmV0dXJuIHRydWU7CiAgICBpZiAodHlwZW9mIGlucHV0LnR5cGUgPT09ICJmdW5jdGlvbiIpCiAgICAgIHJldHVybiB0cnVlOwogICAgcmV0dXJuIGZhbHNlOwogIH0KICB2YXIgRmVhdHVyZXMgPSAvKiBAX19QVVJFX18gKi8gKChGZWF0dXJlczIpID0+IHsKICAgIEZlYXR1cmVzMltGZWF0dXJlczJbIk5vbmUiXSA9IDFdID0gIk5vbmUiOwogICAgRmVhdHVyZXMyW0ZlYXR1cmVzMlsiRm9jdXNhYmxlIl0gPSAyXSA9ICJGb2N1c2FibGUiOwogICAgRmVhdHVyZXMyW0ZlYXR1cmVzMlsiSGlkZGVuIl0gPSA0XSA9ICJIaWRkZW4iOwogICAgcmV0dXJuIEZlYXR1cmVzMjsKICB9KShGZWF0dXJlcyB8fCB7fSk7CiAgbGV0IEhpZGRlbiA9IHZ1ZS5kZWZpbmVDb21wb25lbnQoewogICAgbmFtZTogIkhpZGRlbiIsCiAgICBwcm9wczogewogICAgICBhczogeyB0eXBlOiBbT2JqZWN0LCBTdHJpbmddLCBkZWZhdWx0OiAiZGl2IiB9LAogICAgICBmZWF0dXJlczogewogICAgICAgIHR5cGU6IE51bWJlciwKICAgICAgICBkZWZhdWx0OiAxCiAgICAgICAgLyogTm9uZSAqLwogICAgICB9CiAgICB9LAogICAgc2V0dXAocHJvcHMsIHsgc2xvdHMsIGF0dHJzIH0pIHsKICAgICAgcmV0dXJuICgpID0+IHsKICAgICAgICB2YXIgX2E7CiAgICAgICAgbGV0IHsgZmVhdHVyZXMsIC4uLnRoZWlyUHJvcHMgfSA9IHByb3BzOwogICAgICAgIGxldCBvdXJQcm9wcyA9IHsKICAgICAgICAgICJhcmlhLWhpZGRlbiI6IChmZWF0dXJlcyAmIDIpID09PSAyID8gdHJ1ZSA6ICgKICAgICAgICAgICAgLy8gQHRzLWlnbm9yZQogICAgICAgICAgICAoX2EgPSB0aGVpclByb3BzWyJhcmlhLWhpZGRlbiJdKSAhPSBudWxsID8gX2EgOiB2b2lkIDAKICAgICAgICAgICksCiAgICAgICAgICBzdHlsZTogewogICAgICAgICAgICBwb3NpdGlvbjogImZpeGVkIiwKICAgICAgICAgICAgdG9wOiAxLAogICAgICAgICAgICBsZWZ0OiAxLAogICAgICAgICAgICB3aWR0aDogMSwKICAgICAgICAgICAgaGVpZ2h0OiAwLAogICAgICAgICAgICBwYWRkaW5nOiAwLAogICAgICAgICAgICBtYXJnaW46IC0xLAogICAgICAgICAgICBvdmVyZmxvdzogImhpZGRlbiIsCiAgICAgICAgICAgIGNsaXA6ICJyZWN0KDAsIDAsIDAsIDApIiwKICAgICAgICAgICAgd2hpdGVTcGFjZTogIm5vd3JhcCIsCiAgICAgICAgICAgIGJvcmRlcldpZHRoOiAiMCIsCiAgICAgICAgICAgIC4uLihmZWF0dXJlcyAmIDQpID09PSA0ICYmICEoKGZlYXR1cmVzICYgMikgPT09IDIpICYmIHsgZGlzcGxheTogIm5vbmUiIH0KICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIHJldHVybiByZW5kZXIoewogICAgICAgICAgb3VyUHJvcHMsCiAgICAgICAgICB0aGVpclByb3BzLAogICAgICAgICAgc2xvdDoge30sCiAgICAgICAgICBhdHRycywKICAgICAgICAgIHNsb3RzLAogICAgICAgICAgbmFtZTogIkhpZGRlbiIKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0KICB9KTsKICBsZXQgQ29udGV4dCA9IFN5bWJvbCgiQ29udGV4dCIpOwogIHZhciBTdGF0ZSA9IC8qIEBfX1BVUkVfXyAqLyAoKFN0YXRlMikgPT4gewogICAgU3RhdGUyW1N0YXRlMlsiT3BlbiJdID0gMV0gPSAiT3BlbiI7CiAgICBTdGF0ZTJbU3RhdGUyWyJDbG9zZWQiXSA9IDJdID0gIkNsb3NlZCI7CiAgICBTdGF0ZTJbU3RhdGUyWyJDbG9zaW5nIl0gPSA0XSA9ICJDbG9zaW5nIjsKICAgIFN0YXRlMltTdGF0ZTJbIk9wZW5pbmciXSA9IDhdID0gIk9wZW5pbmciOwogICAgcmV0dXJuIFN0YXRlMjsKICB9KShTdGF0ZSB8fCB7fSk7CiAgZnVuY3Rpb24gdXNlT3BlbkNsb3NlZCgpIHsKICAgIHJldHVybiB2dWUuaW5qZWN0KENvbnRleHQsIG51bGwpOwogIH0KICBmdW5jdGlvbiB1c2VPcGVuQ2xvc2VkUHJvdmlkZXIodmFsdWUpIHsKICAgIHZ1ZS5wcm92aWRlKENvbnRleHQsIHZhbHVlKTsKICB9CiAgdmFyIEtleXMgPSAvKiBAX19QVVJFX18gKi8gKChLZXlzMikgPT4gewogICAgS2V5czJbIlNwYWNlIl0gPSAiICI7CiAgICBLZXlzMlsiRW50ZXIiXSA9ICJFbnRlciI7CiAgICBLZXlzMlsiRXNjYXBlIl0gPSAiRXNjYXBlIjsKICAgIEtleXMyWyJCYWNrc3BhY2UiXSA9ICJCYWNrc3BhY2UiOwogICAgS2V5czJbIkRlbGV0ZSJdID0gIkRlbGV0ZSI7CiAgICBLZXlzMlsiQXJyb3dMZWZ0Il0gPSAiQXJyb3dMZWZ0IjsKICAgIEtleXMyWyJBcnJvd1VwIl0gPSAiQXJyb3dVcCI7CiAgICBLZXlzMlsiQXJyb3dSaWdodCJdID0gIkFycm93UmlnaHQiOwogICAgS2V5czJbIkFycm93RG93biJdID0gIkFycm93RG93biI7CiAgICBLZXlzMlsiSG9tZSJdID0gIkhvbWUiOwogICAgS2V5czJbIkVuZCJdID0gIkVuZCI7CiAgICBLZXlzMlsiUGFnZVVwIl0gPSAiUGFnZVVwIjsKICAgIEtleXMyWyJQYWdlRG93biJdID0gIlBhZ2VEb3duIjsKICAgIEtleXMyWyJUYWIiXSA9ICJUYWIiOwogICAgcmV0dXJuIEtleXMyOwogIH0pKEtleXMgfHwge30pOwogIGZ1bmN0aW9uIGF0dGVtcHRTdWJtaXQoZWxlbWVudEluRm9ybSkgewogICAgdmFyIF9hLCBfYjsKICAgIGxldCBmb3JtID0gKF9hID0gZWxlbWVudEluRm9ybSA9PSBudWxsID8gdm9pZCAwIDogZWxlbWVudEluRm9ybS5mb3JtKSAhPSBudWxsID8gX2EgOiBlbGVtZW50SW5Gb3JtLmNsb3Nlc3QoImZvcm0iKTsKICAgIGlmICghZm9ybSkKICAgICAgcmV0dXJuOwogICAgZm9yIChsZXQgZWxlbWVudCBvZiBmb3JtLmVsZW1lbnRzKSB7CiAgICAgIGlmIChlbGVtZW50ID09PSBlbGVtZW50SW5Gb3JtKQogICAgICAgIGNvbnRpbnVlOwogICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAiSU5QVVQiICYmIGVsZW1lbnQudHlwZSA9PT0gInN1Ym1pdCIgfHwgZWxlbWVudC50YWdOYW1lID09PSAiQlVUVE9OIiAmJiBlbGVtZW50LnR5cGUgPT09ICJzdWJtaXQiIHx8IGVsZW1lbnQubm9kZU5hbWUgPT09ICJJTlBVVCIgJiYgZWxlbWVudC50eXBlID09PSAiaW1hZ2UiKSB7CiAgICAgICAgZWxlbWVudC5jbGljaygpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgfQogICAgKF9iID0gZm9ybS5yZXF1ZXN0U3VibWl0KSA9PSBudWxsID8gdm9pZCAwIDogX2IuY2FsbChmb3JtKTsKICB9CiAgZnVuY3Rpb24gdXNlRXZlbnRMaXN0ZW5lcihlbGVtZW50LCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykgewogICAgaWYgKGVudi5pc1NlcnZlcikKICAgICAgcmV0dXJuOwogICAgdnVlLndhdGNoRWZmZWN0KChvbkludmFsaWRhdGUpID0+IHsKICAgICAgZWxlbWVudCA9IGVsZW1lbnQgIT0gbnVsbCA/IGVsZW1lbnQgOiB3aW5kb3c7CiAgICAgIGVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucyk7CiAgICAgIG9uSW52YWxpZGF0ZSgoKSA9PiBlbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpKTsKICAgIH0pOwogIH0KICB2YXIgRGlyZWN0aW9uID0gLyogQF9fUFVSRV9fICovICgoRGlyZWN0aW9uMikgPT4gewogICAgRGlyZWN0aW9uMltEaXJlY3Rpb24yWyJGb3J3YXJkcyJdID0gMF0gPSAiRm9yd2FyZHMiOwogICAgRGlyZWN0aW9uMltEaXJlY3Rpb24yWyJCYWNrd2FyZHMiXSA9IDFdID0gIkJhY2t3YXJkcyI7CiAgICByZXR1cm4gRGlyZWN0aW9uMjsKICB9KShEaXJlY3Rpb24gfHwge30pOwogIGZ1bmN0aW9uIHVzZVRhYkRpcmVjdGlvbigpIHsKICAgIGxldCBkaXJlY3Rpb24gPSB2dWUucmVmKAogICAgICAwCiAgICAgIC8qIEZvcndhcmRzICovCiAgICApOwogICAgdXNlV2luZG93RXZlbnQoImtleWRvd24iLCAoZXZlbnQpID0+IHsKICAgICAgaWYgKGV2ZW50LmtleSA9PT0gIlRhYiIpIHsKICAgICAgICBkaXJlY3Rpb24udmFsdWUgPSBldmVudC5zaGlmdEtleSA/IDEgOiAwOwogICAgICB9CiAgICB9KTsKICAgIHJldHVybiBkaXJlY3Rpb247CiAgfQogIGZ1bmN0aW9uIHVzZVJvb3RDb250YWluZXJzKHsKICAgIGRlZmF1bHRDb250YWluZXJzID0gW10sCiAgICBwb3J0YWxzLAogICAgbWFpblRyZWVOb2RlUmVmOiBfbWFpblRyZWVOb2RlUmVmCiAgfSA9IHt9KSB7CiAgICBsZXQgbWFpblRyZWVOb2RlUmVmID0gdnVlLnJlZihudWxsKTsKICAgIGxldCBvd25lckRvY3VtZW50ID0gZ2V0T3duZXJEb2N1bWVudChtYWluVHJlZU5vZGVSZWYpOwogICAgZnVuY3Rpb24gcmVzb2x2ZUNvbnRhaW5lcnMoKSB7CiAgICAgIHZhciBfYSwgX2IsIF9jOwogICAgICBsZXQgY29udGFpbmVycyA9IFtdOwogICAgICBmb3IgKGxldCBjb250YWluZXIgb2YgZGVmYXVsdENvbnRhaW5lcnMpIHsKICAgICAgICBpZiAoY29udGFpbmVyID09PSBudWxsKQogICAgICAgICAgY29udGludWU7CiAgICAgICAgaWYgKGNvbnRhaW5lciBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7CiAgICAgICAgICBjb250YWluZXJzLnB1c2goY29udGFpbmVyKTsKICAgICAgICB9IGVsc2UgaWYgKCJ2YWx1ZSIgaW4gY29udGFpbmVyICYmIGNvbnRhaW5lci52YWx1ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7CiAgICAgICAgICBjb250YWluZXJzLnB1c2goY29udGFpbmVyLnZhbHVlKTsKICAgICAgICB9CiAgICAgIH0KICAgICAgaWYgKHBvcnRhbHMgPT0gbnVsbCA/IHZvaWQgMCA6IHBvcnRhbHMudmFsdWUpIHsKICAgICAgICBmb3IgKGxldCBwb3J0YWwgb2YgcG9ydGFscy52YWx1ZSkgewogICAgICAgICAgY29udGFpbmVycy5wdXNoKHBvcnRhbCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZvciAobGV0IGNvbnRhaW5lciBvZiAoX2EgPSBvd25lckRvY3VtZW50ID09IG51bGwgPyB2b2lkIDAgOiBvd25lckRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoImh0bWwgPiAqLCBib2R5ID4gKiIpKSAhPSBudWxsID8gX2EgOiBbXSkgewogICAgICAgIGlmIChjb250YWluZXIgPT09IGRvY3VtZW50LmJvZHkpCiAgICAgICAgICBjb250aW51ZTsKICAgICAgICBpZiAoY29udGFpbmVyID09PSBkb2N1bWVudC5oZWFkKQogICAgICAgICAgY29udGludWU7CiAgICAgICAgaWYgKCEoY29udGFpbmVyIGluc3RhbmNlb2YgSFRNTEVsZW1lbnQpKQogICAgICAgICAgY29udGludWU7CiAgICAgICAgaWYgKGNvbnRhaW5lci5pZCA9PT0gImhlYWRsZXNzdWktcG9ydGFsLXJvb3QiKQogICAgICAgICAgY29udGludWU7CiAgICAgICAgaWYgKGNvbnRhaW5lci5jb250YWlucyhkb20obWFpblRyZWVOb2RlUmVmKSkpCiAgICAgICAgICBjb250aW51ZTsKICAgICAgICBpZiAoY29udGFpbmVyLmNvbnRhaW5zKChfYyA9IChfYiA9IGRvbShtYWluVHJlZU5vZGVSZWYpKSA9PSBudWxsID8gdm9pZCAwIDogX2IuZ2V0Um9vdE5vZGUoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmhvc3QpKQogICAgICAgICAgY29udGludWU7CiAgICAgICAgaWYgKGNvbnRhaW5lcnMuc29tZSgoZGVmYXVsdENvbnRhaW5lcikgPT4gY29udGFpbmVyLmNvbnRhaW5zKGRlZmF1bHRDb250YWluZXIpKSkKICAgICAgICAgIGNvbnRpbnVlOwogICAgICAgIGNvbnRhaW5lcnMucHVzaChjb250YWluZXIpOwogICAgICB9CiAgICAgIHJldHVybiBjb250YWluZXJzOwogICAgfQogICAgcmV0dXJuIHsKICAgICAgcmVzb2x2ZUNvbnRhaW5lcnMsCiAgICAgIGNvbnRhaW5zKGVsZW1lbnQpIHsKICAgICAgICByZXR1cm4gcmVzb2x2ZUNvbnRhaW5lcnMoKS5zb21lKChjb250YWluZXIpID0+IGNvbnRhaW5lci5jb250YWlucyhlbGVtZW50KSk7CiAgICAgIH0sCiAgICAgIG1haW5UcmVlTm9kZVJlZiwKICAgICAgTWFpblRyZWVOb2RlKCkgewogICAgICAgIGlmIChfbWFpblRyZWVOb2RlUmVmICE9IG51bGwpCiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICByZXR1cm4gdnVlLmgoSGlkZGVuLCB7IGZlYXR1cmVzOiBGZWF0dXJlcy5IaWRkZW4sIHJlZjogbWFpblRyZWVOb2RlUmVmIH0pOwogICAgICB9CiAgICB9OwogIH0KICBmdW5jdGlvbiB1c2VNYWluVHJlZU5vZGUoKSB7CiAgICBsZXQgbWFpblRyZWVOb2RlUmVmID0gdnVlLnJlZihudWxsKTsKICAgIHJldHVybiB7CiAgICAgIG1haW5UcmVlTm9kZVJlZiwKICAgICAgTWFpblRyZWVOb2RlKCkgewogICAgICAgIHJldHVybiB2dWUuaChIaWRkZW4sIHsgZmVhdHVyZXM6IEZlYXR1cmVzLkhpZGRlbiwgcmVmOiBtYWluVHJlZU5vZGVSZWYgfSk7CiAgICAgIH0KICAgIH07CiAgfQogIGxldCBGb3JjZVBvcnRhbFJvb3RDb250ZXh0ID0gU3ltYm9sKCJGb3JjZVBvcnRhbFJvb3RDb250ZXh0Iik7CiAgZnVuY3Rpb24gdXNlUG9ydGFsUm9vdCgpIHsKICAgIHJldHVybiB2dWUuaW5qZWN0KEZvcmNlUG9ydGFsUm9vdENvbnRleHQsIGZhbHNlKTsKICB9CiAgdnVlLmRlZmluZUNvbXBvbmVudCh7CiAgICBuYW1lOiAiRm9yY2VQb3J0YWxSb290IiwKICAgIHByb3BzOiB7CiAgICAgIGFzOiB7IHR5cGU6IFtPYmplY3QsIFN0cmluZ10sIGRlZmF1bHQ6ICJ0ZW1wbGF0ZSIgfSwKICAgICAgZm9yY2U6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogZmFsc2UgfQogICAgfSwKICAgIHNldHVwKHByb3BzLCB7IHNsb3RzLCBhdHRycyB9KSB7CiAgICAgIHZ1ZS5wcm92aWRlKEZvcmNlUG9ydGFsUm9vdENvbnRleHQsIHByb3BzLmZvcmNlKTsKICAgICAgcmV0dXJuICgpID0+IHsKICAgICAgICBsZXQgeyBmb3JjZSwgLi4udGhlaXJQcm9wcyB9ID0gcHJvcHM7CiAgICAgICAgcmV0dXJuIHJlbmRlcih7CiAgICAgICAgICB0aGVpclByb3BzLAogICAgICAgICAgb3VyUHJvcHM6IHt9LAogICAgICAgICAgc2xvdDoge30sCiAgICAgICAgICBzbG90cywKICAgICAgICAgIGF0dHJzLAogICAgICAgICAgbmFtZTogIkZvcmNlUG9ydGFsUm9vdCIKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0KICB9KTsKICBsZXQgRGVzY3JpcHRpb25Db250ZXh0ID0gU3ltYm9sKCJEZXNjcmlwdGlvbkNvbnRleHQiKTsKICBmdW5jdGlvbiB1c2VEZXNjcmlwdGlvbkNvbnRleHQoKSB7CiAgICBsZXQgY29udGV4dCA9IHZ1ZS5pbmplY3QoRGVzY3JpcHRpb25Db250ZXh0LCBudWxsKTsKICAgIGlmIChjb250ZXh0ID09PSBudWxsKSB7CiAgICAgIHRocm93IG5ldyBFcnJvcigiTWlzc2luZyBwYXJlbnQiKTsKICAgIH0KICAgIHJldHVybiBjb250ZXh0OwogIH0KICBmdW5jdGlvbiB1c2VEZXNjcmlwdGlvbnMoewogICAgc2xvdCA9IHZ1ZS5yZWYoe30pLAogICAgbmFtZSA9ICJEZXNjcmlwdGlvbiIsCiAgICBwcm9wcyA9IHt9CiAgfSA9IHt9KSB7CiAgICBsZXQgZGVzY3JpcHRpb25JZHMgPSB2dWUucmVmKFtdKTsKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyKHZhbHVlKSB7CiAgICAgIGRlc2NyaXB0aW9uSWRzLnZhbHVlLnB1c2godmFsdWUpOwogICAgICByZXR1cm4gKCkgPT4gewogICAgICAgIGxldCBpZHggPSBkZXNjcmlwdGlvbklkcy52YWx1ZS5pbmRleE9mKHZhbHVlKTsKICAgICAgICBpZiAoaWR4ID09PSAtMSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBkZXNjcmlwdGlvbklkcy52YWx1ZS5zcGxpY2UoaWR4LCAxKTsKICAgICAgfTsKICAgIH0KICAgIHZ1ZS5wcm92aWRlKERlc2NyaXB0aW9uQ29udGV4dCwgeyByZWdpc3Rlciwgc2xvdCwgbmFtZSwgcHJvcHMgfSk7CiAgICByZXR1cm4gdnVlLmNvbXB1dGVkKAogICAgICAoKSA9PiBkZXNjcmlwdGlvbklkcy52YWx1ZS5sZW5ndGggPiAwID8gZGVzY3JpcHRpb25JZHMudmFsdWUuam9pbigiICIpIDogdm9pZCAwCiAgICApOwogIH0KICB2dWUuZGVmaW5lQ29tcG9uZW50KHsKICAgIG5hbWU6ICJEZXNjcmlwdGlvbiIsCiAgICBwcm9wczogewogICAgICBhczogeyB0eXBlOiBbT2JqZWN0LCBTdHJpbmddLCBkZWZhdWx0OiAicCIgfSwKICAgICAgaWQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBudWxsIH0KICAgIH0sCiAgICBzZXR1cChteVByb3BzLCB7IGF0dHJzLCBzbG90cyB9KSB7CiAgICAgIHZhciBfYTsKICAgICAgbGV0IGlkID0gKF9hID0gbXlQcm9wcy5pZCkgIT0gbnVsbCA/IF9hIDogYGhlYWRsZXNzdWktZGVzY3JpcHRpb24tJHt1c2VJZCgpfWA7CiAgICAgIGxldCBjb250ZXh0ID0gdXNlRGVzY3JpcHRpb25Db250ZXh0KCk7CiAgICAgIHZ1ZS5vbk1vdW50ZWQoKCkgPT4gdnVlLm9uVW5tb3VudGVkKGNvbnRleHQucmVnaXN0ZXIoaWQpKSk7CiAgICAgIHJldHVybiAoKSA9PiB7CiAgICAgICAgbGV0IHsgbmFtZSA9ICJEZXNjcmlwdGlvbiIsIHNsb3QgPSB2dWUucmVmKHt9KSwgcHJvcHMgPSB7fSB9ID0gY29udGV4dDsKICAgICAgICBsZXQgeyAuLi50aGVpclByb3BzIH0gPSBteVByb3BzOwogICAgICAgIGxldCBvdXJQcm9wcyA9IHsKICAgICAgICAgIC4uLk9iamVjdC5lbnRyaWVzKHByb3BzKS5yZWR1Y2UoCiAgICAgICAgICAgIChhY2MsIFtrZXksIHZhbHVlXSkgPT4gT2JqZWN0LmFzc2lnbihhY2MsIHsgW2tleV06IHZ1ZS51bnJlZih2YWx1ZSkgfSksCiAgICAgICAgICAgIHt9CiAgICAgICAgICApLAogICAgICAgICAgaWQKICAgICAgICB9OwogICAgICAgIHJldHVybiByZW5kZXIoewogICAgICAgICAgb3VyUHJvcHMsCiAgICAgICAgICB0aGVpclByb3BzLAogICAgICAgICAgc2xvdDogc2xvdC52YWx1ZSwKICAgICAgICAgIGF0dHJzLAogICAgICAgICAgc2xvdHMsCiAgICAgICAgICBuYW1lCiAgICAgICAgfSk7CiAgICAgIH07CiAgICB9CiAgfSk7CiAgZnVuY3Rpb24gZ2V0UG9ydGFsUm9vdChjb250ZXh0RWxlbWVudCkgewogICAgbGV0IG93bmVyRG9jdW1lbnQgPSBnZXRPd25lckRvY3VtZW50KGNvbnRleHRFbGVtZW50KTsKICAgIGlmICghb3duZXJEb2N1bWVudCkgewogICAgICBpZiAoY29udGV4dEVsZW1lbnQgPT09IG51bGwpIHsKICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgfQogICAgICB0aHJvdyBuZXcgRXJyb3IoCiAgICAgICAgYFtIZWFkbGVzcyBVSV06IENhbm5vdCBmaW5kIG93bmVyRG9jdW1lbnQgZm9yIGNvbnRleHRFbGVtZW50OiAke2NvbnRleHRFbGVtZW50fWAKICAgICAgKTsKICAgIH0KICAgIGxldCBleGlzdGluZ1Jvb3QgPSBvd25lckRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJoZWFkbGVzc3VpLXBvcnRhbC1yb290Iik7CiAgICBpZiAoZXhpc3RpbmdSb290KQogICAgICByZXR1cm4gZXhpc3RpbmdSb290OwogICAgbGV0IHJvb3QgPSBvd25lckRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgcm9vdC5zZXRBdHRyaWJ1dGUoImlkIiwgImhlYWRsZXNzdWktcG9ydGFsLXJvb3QiKTsKICAgIHJldHVybiBvd25lckRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQocm9vdCk7CiAgfQogIHZ1ZS5kZWZpbmVDb21wb25lbnQoewogICAgbmFtZTogIlBvcnRhbCIsCiAgICBwcm9wczogewogICAgICBhczogeyB0eXBlOiBbT2JqZWN0LCBTdHJpbmddLCBkZWZhdWx0OiAiZGl2IiB9CiAgICB9LAogICAgc2V0dXAocHJvcHMsIHsgc2xvdHMsIGF0dHJzIH0pIHsKICAgICAgbGV0IGVsZW1lbnQgPSB2dWUucmVmKG51bGwpOwogICAgICBsZXQgb3duZXJEb2N1bWVudCA9IHZ1ZS5jb21wdXRlZCgoKSA9PiBnZXRPd25lckRvY3VtZW50KGVsZW1lbnQpKTsKICAgICAgbGV0IGZvcmNlUG9ydGFsUm9vdCA9IHVzZVBvcnRhbFJvb3QoKTsKICAgICAgbGV0IGdyb3VwQ29udGV4dCA9IHZ1ZS5pbmplY3QoUG9ydGFsR3JvdXBDb250ZXh0LCBudWxsKTsKICAgICAgbGV0IG15VGFyZ2V0ID0gdnVlLnJlZigKICAgICAgICBmb3JjZVBvcnRhbFJvb3QgPT09IHRydWUgPyBnZXRQb3J0YWxSb290KGVsZW1lbnQudmFsdWUpIDogZ3JvdXBDb250ZXh0ID09IG51bGwgPyBnZXRQb3J0YWxSb290KGVsZW1lbnQudmFsdWUpIDogZ3JvdXBDb250ZXh0LnJlc29sdmVUYXJnZXQoKQogICAgICApOwogICAgICBsZXQgcmVhZHkgPSB2dWUucmVmKGZhbHNlKTsKICAgICAgdnVlLm9uTW91bnRlZCgoKSA9PiB7CiAgICAgICAgcmVhZHkudmFsdWUgPSB0cnVlOwogICAgICB9KTsKICAgICAgdnVlLndhdGNoRWZmZWN0KCgpID0+IHsKICAgICAgICBpZiAoZm9yY2VQb3J0YWxSb290KQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmIChncm91cENvbnRleHQgPT0gbnVsbCkKICAgICAgICAgIHJldHVybjsKICAgICAgICBteVRhcmdldC52YWx1ZSA9IGdyb3VwQ29udGV4dC5yZXNvbHZlVGFyZ2V0KCk7CiAgICAgIH0pOwogICAgICBsZXQgcGFyZW50ID0gdnVlLmluamVjdChQb3J0YWxQYXJlbnRDb250ZXh0LCBudWxsKTsKICAgICAgbGV0IGRpZFJlZ2lzdGVyID0gZmFsc2U7CiAgICAgIGxldCBpbnN0YW5jZSA9IHZ1ZS5nZXRDdXJyZW50SW5zdGFuY2UoKTsKICAgICAgdnVlLndhdGNoKGVsZW1lbnQsICgpID0+IHsKICAgICAgICBpZiAoZGlkUmVnaXN0ZXIpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKCFwYXJlbnQpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgbGV0IGRvbUVsZW1lbnQgPSBkb20oZWxlbWVudCk7CiAgICAgICAgaWYgKCFkb21FbGVtZW50KQogICAgICAgICAgcmV0dXJuOwogICAgICAgIHZ1ZS5vblVubW91bnRlZChwYXJlbnQucmVnaXN0ZXIoZG9tRWxlbWVudCksIGluc3RhbmNlKTsKICAgICAgICBkaWRSZWdpc3RlciA9IHRydWU7CiAgICAgIH0pOwogICAgICB2dWUub25Vbm1vdW50ZWQoKCkgPT4gewogICAgICAgIHZhciBfYSwgX2I7CiAgICAgICAgbGV0IHJvb3QgPSAoX2EgPSBvd25lckRvY3VtZW50LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuZ2V0RWxlbWVudEJ5SWQoImhlYWRsZXNzdWktcG9ydGFsLXJvb3QiKTsKICAgICAgICBpZiAoIXJvb3QpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKG15VGFyZ2V0LnZhbHVlICE9PSByb290KQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmIChteVRhcmdldC52YWx1ZS5jaGlsZHJlbi5sZW5ndGggPD0gMCkgewogICAgICAgICAgKF9iID0gbXlUYXJnZXQudmFsdWUucGFyZW50RWxlbWVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnJlbW92ZUNoaWxkKG15VGFyZ2V0LnZhbHVlKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICByZXR1cm4gKCkgPT4gewogICAgICAgIGlmICghcmVhZHkudmFsdWUpCiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICBpZiAobXlUYXJnZXQudmFsdWUgPT09IG51bGwpCiAgICAgICAgICByZXR1cm4gbnVsbDsKICAgICAgICBsZXQgb3VyUHJvcHMgPSB7CiAgICAgICAgICByZWY6IGVsZW1lbnQsCiAgICAgICAgICAiZGF0YS1oZWFkbGVzc3VpLXBvcnRhbCI6ICIiCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gdnVlLmgoCiAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIENoaWxkcmVuIGNhbiBiZSBhbiBvYmplY3QsIGJ1dCBUeXBlU2NyaXB0IGlzIG5vdCBoYXBweQogICAgICAgICAgLy8gd2l0aCBpdC4gT25jZSB0aGlzIGlzIGZpeGVkIHVwc3RyZWFtIHdlIGNhbiByZW1vdmUgdGhpcyBhc3NlcnRpb24uCiAgICAgICAgICB2dWUuVGVsZXBvcnQsCiAgICAgICAgICB7IHRvOiBteVRhcmdldC52YWx1ZSB9LAogICAgICAgICAgcmVuZGVyKHsKICAgICAgICAgICAgb3VyUHJvcHMsCiAgICAgICAgICAgIHRoZWlyUHJvcHM6IHByb3BzLAogICAgICAgICAgICBzbG90OiB7fSwKICAgICAgICAgICAgYXR0cnMsCiAgICAgICAgICAgIHNsb3RzLAogICAgICAgICAgICBuYW1lOiAiUG9ydGFsIgogICAgICAgICAgfSkKICAgICAgICApOwogICAgICB9OwogICAgfQogIH0pOwogIGxldCBQb3J0YWxQYXJlbnRDb250ZXh0ID0gU3ltYm9sKCJQb3J0YWxQYXJlbnRDb250ZXh0Iik7CiAgZnVuY3Rpb24gdXNlTmVzdGVkUG9ydGFscygpIHsKICAgIGxldCBwYXJlbnQgPSB2dWUuaW5qZWN0KFBvcnRhbFBhcmVudENvbnRleHQsIG51bGwpOwogICAgbGV0IHBvcnRhbHMgPSB2dWUucmVmKFtdKTsKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyKHBvcnRhbCkgewogICAgICBwb3J0YWxzLnZhbHVlLnB1c2gocG9ydGFsKTsKICAgICAgaWYgKHBhcmVudCkKICAgICAgICBwYXJlbnQucmVnaXN0ZXIocG9ydGFsKTsKICAgICAgcmV0dXJuICgpID0+IHVucmVnaXN0ZXIocG9ydGFsKTsKICAgIH0KICAgIGZ1bmN0aW9uIHVucmVnaXN0ZXIocG9ydGFsKSB7CiAgICAgIGxldCBpZHggPSBwb3J0YWxzLnZhbHVlLmluZGV4T2YocG9ydGFsKTsKICAgICAgaWYgKGlkeCAhPT0gLTEpCiAgICAgICAgcG9ydGFscy52YWx1ZS5zcGxpY2UoaWR4LCAxKTsKICAgICAgaWYgKHBhcmVudCkKICAgICAgICBwYXJlbnQudW5yZWdpc3Rlcihwb3J0YWwpOwogICAgfQogICAgbGV0IGFwaSA9IHsKICAgICAgcmVnaXN0ZXIsCiAgICAgIHVucmVnaXN0ZXIsCiAgICAgIHBvcnRhbHMKICAgIH07CiAgICByZXR1cm4gWwogICAgICBwb3J0YWxzLAogICAgICB2dWUuZGVmaW5lQ29tcG9uZW50KHsKICAgICAgICBuYW1lOiAiUG9ydGFsV3JhcHBlciIsCiAgICAgICAgc2V0dXAoXywgeyBzbG90cyB9KSB7CiAgICAgICAgICB2dWUucHJvdmlkZShQb3J0YWxQYXJlbnRDb250ZXh0LCBhcGkpOwogICAgICAgICAgcmV0dXJuICgpID0+IHsKICAgICAgICAgICAgdmFyIF9hOwogICAgICAgICAgICByZXR1cm4gKF9hID0gc2xvdHMuZGVmYXVsdCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNhbGwoc2xvdHMpOwogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgIH0pCiAgICBdOwogIH0KICBsZXQgUG9ydGFsR3JvdXBDb250ZXh0ID0gU3ltYm9sKCJQb3J0YWxHcm91cENvbnRleHQiKTsKICB2dWUuZGVmaW5lQ29tcG9uZW50KHsKICAgIG5hbWU6ICJQb3J0YWxHcm91cCIsCiAgICBwcm9wczogewogICAgICBhczogeyB0eXBlOiBbT2JqZWN0LCBTdHJpbmddLCBkZWZhdWx0OiAidGVtcGxhdGUiIH0sCiAgICAgIHRhcmdldDogeyB0eXBlOiBPYmplY3QsIGRlZmF1bHQ6IG51bGwgfQogICAgfSwKICAgIHNldHVwKHByb3BzLCB7IGF0dHJzLCBzbG90cyB9KSB7CiAgICAgIGxldCBhcGkgPSB2dWUucmVhY3RpdmUoewogICAgICAgIHJlc29sdmVUYXJnZXQoKSB7CiAgICAgICAgICByZXR1cm4gcHJvcHMudGFyZ2V0OwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHZ1ZS5wcm92aWRlKFBvcnRhbEdyb3VwQ29udGV4dCwgYXBpKTsKICAgICAgcmV0dXJuICgpID0+IHsKICAgICAgICBsZXQgeyB0YXJnZXQ6IF8sIC4uLnRoZWlyUHJvcHMgfSA9IHByb3BzOwogICAgICAgIHJldHVybiByZW5kZXIoewogICAgICAgICAgdGhlaXJQcm9wcywKICAgICAgICAgIG91clByb3BzOiB7fSwKICAgICAgICAgIHNsb3Q6IHt9LAogICAgICAgICAgYXR0cnMsCiAgICAgICAgICBzbG90cywKICAgICAgICAgIG5hbWU6ICJQb3J0YWxHcm91cCIKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0KICB9KTsKICBsZXQgUG9wb3ZlckNvbnRleHQgPSBTeW1ib2woIlBvcG92ZXJDb250ZXh0Iik7CiAgZnVuY3Rpb24gdXNlUG9wb3ZlckNvbnRleHQoY29tcG9uZW50KSB7CiAgICBsZXQgY29udGV4dCA9IHZ1ZS5pbmplY3QoUG9wb3ZlckNvbnRleHQsIG51bGwpOwogICAgaWYgKGNvbnRleHQgPT09IG51bGwpIHsKICAgICAgbGV0IGVyciA9IG5ldyBFcnJvcihgPCR7Y29tcG9uZW50fSAvPiBpcyBtaXNzaW5nIGEgcGFyZW50IDwke1BvcG92ZXIubmFtZX0gLz4gY29tcG9uZW50LmApOwogICAgICBpZiAoRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UpCiAgICAgICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UoZXJyLCB1c2VQb3BvdmVyQ29udGV4dCk7CiAgICAgIHRocm93IGVycjsKICAgIH0KICAgIHJldHVybiBjb250ZXh0OwogIH0KICBsZXQgUG9wb3Zlckdyb3VwQ29udGV4dCA9IFN5bWJvbCgiUG9wb3Zlckdyb3VwQ29udGV4dCIpOwogIGZ1bmN0aW9uIHVzZVBvcG92ZXJHcm91cENvbnRleHQoKSB7CiAgICByZXR1cm4gdnVlLmluamVjdChQb3BvdmVyR3JvdXBDb250ZXh0LCBudWxsKTsKICB9CiAgbGV0IFBvcG92ZXJQYW5lbENvbnRleHQgPSBTeW1ib2woIlBvcG92ZXJQYW5lbENvbnRleHQiKTsKICBmdW5jdGlvbiB1c2VQb3BvdmVyUGFuZWxDb250ZXh0KCkgewogICAgcmV0dXJuIHZ1ZS5pbmplY3QoUG9wb3ZlclBhbmVsQ29udGV4dCwgbnVsbCk7CiAgfQogIGxldCBQb3BvdmVyID0gdnVlLmRlZmluZUNvbXBvbmVudCh7CiAgICBuYW1lOiAiUG9wb3ZlciIsCiAgICBpbmhlcml0QXR0cnM6IGZhbHNlLAogICAgcHJvcHM6IHsKICAgICAgYXM6IHsgdHlwZTogW09iamVjdCwgU3RyaW5nXSwgZGVmYXVsdDogImRpdiIgfQogICAgfSwKICAgIHNldHVwKHByb3BzLCB7IHNsb3RzLCBhdHRycywgZXhwb3NlIH0pIHsKICAgICAgdmFyIF9hOwogICAgICBsZXQgaW50ZXJuYWxQb3BvdmVyUmVmID0gdnVlLnJlZihudWxsKTsKICAgICAgZXhwb3NlKHsgZWw6IGludGVybmFsUG9wb3ZlclJlZiwgJGVsOiBpbnRlcm5hbFBvcG92ZXJSZWYgfSk7CiAgICAgIGxldCBwb3BvdmVyU3RhdGUgPSB2dWUucmVmKAogICAgICAgIDEKICAgICAgICAvKiBDbG9zZWQgKi8KICAgICAgKTsKICAgICAgbGV0IGJ1dHRvbiA9IHZ1ZS5yZWYobnVsbCk7CiAgICAgIGxldCBiZWZvcmVQYW5lbFNlbnRpbmVsID0gdnVlLnJlZihudWxsKTsKICAgICAgbGV0IGFmdGVyUGFuZWxTZW50aW5lbCA9IHZ1ZS5yZWYobnVsbCk7CiAgICAgIGxldCBwYW5lbCA9IHZ1ZS5yZWYobnVsbCk7CiAgICAgIGxldCBvd25lckRvY3VtZW50ID0gdnVlLmNvbXB1dGVkKCgpID0+IGdldE93bmVyRG9jdW1lbnQoaW50ZXJuYWxQb3BvdmVyUmVmKSk7CiAgICAgIGxldCBpc1BvcnRhbGxlZCA9IHZ1ZS5jb21wdXRlZCgoKSA9PiB7CiAgICAgICAgdmFyIF9hMiwgX2I7CiAgICAgICAgaWYgKCFkb20oYnV0dG9uKSkKICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICBpZiAoIWRvbShwYW5lbCkpCiAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgZm9yIChsZXQgcm9vdDIgb2YgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgiYm9keSA+ICoiKSkgewogICAgICAgICAgaWYgKE51bWJlcihyb290MiA9PSBudWxsID8gdm9pZCAwIDogcm9vdDIuY29udGFpbnMoZG9tKGJ1dHRvbikpKSBeIE51bWJlcihyb290MiA9PSBudWxsID8gdm9pZCAwIDogcm9vdDIuY29udGFpbnMoZG9tKHBhbmVsKSkpKSB7CiAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBsZXQgZWxlbWVudHMgPSBnZXRGb2N1c2FibGVFbGVtZW50cygpOwogICAgICAgIGxldCBidXR0b25JZHggPSBlbGVtZW50cy5pbmRleE9mKGRvbShidXR0b24pKTsKICAgICAgICBsZXQgYmVmb3JlSWR4ID0gKGJ1dHRvbklkeCArIGVsZW1lbnRzLmxlbmd0aCAtIDEpICUgZWxlbWVudHMubGVuZ3RoOwogICAgICAgIGxldCBhZnRlcklkeCA9IChidXR0b25JZHggKyAxKSAlIGVsZW1lbnRzLmxlbmd0aDsKICAgICAgICBsZXQgYmVmb3JlRWxlbWVudCA9IGVsZW1lbnRzW2JlZm9yZUlkeF07CiAgICAgICAgbGV0IGFmdGVyRWxlbWVudCA9IGVsZW1lbnRzW2FmdGVySWR4XTsKICAgICAgICBpZiAoISgoX2EyID0gZG9tKHBhbmVsKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jb250YWlucyhiZWZvcmVFbGVtZW50KSkgJiYgISgoX2IgPSBkb20ocGFuZWwpKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY29udGFpbnMoYWZ0ZXJFbGVtZW50KSkpIHsKICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgIH0pOwogICAgICBsZXQgYXBpID0gewogICAgICAgIHBvcG92ZXJTdGF0ZSwKICAgICAgICBidXR0b25JZDogdnVlLnJlZihudWxsKSwKICAgICAgICBwYW5lbElkOiB2dWUucmVmKG51bGwpLAogICAgICAgIHBhbmVsLAogICAgICAgIGJ1dHRvbiwKICAgICAgICBpc1BvcnRhbGxlZCwKICAgICAgICBiZWZvcmVQYW5lbFNlbnRpbmVsLAogICAgICAgIGFmdGVyUGFuZWxTZW50aW5lbCwKICAgICAgICB0b2dnbGVQb3BvdmVyKCkgewogICAgICAgICAgcG9wb3ZlclN0YXRlLnZhbHVlID0gbWF0Y2gocG9wb3ZlclN0YXRlLnZhbHVlLCB7CiAgICAgICAgICAgIFsKICAgICAgICAgICAgICAwCiAgICAgICAgICAgICAgLyogT3BlbiAqLwogICAgICAgICAgICBdOiAxLAogICAgICAgICAgICBbCiAgICAgICAgICAgICAgMQogICAgICAgICAgICAgIC8qIENsb3NlZCAqLwogICAgICAgICAgICBdOiAwCiAgICAgICAgICAgIC8qIE9wZW4gKi8KICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgY2xvc2VQb3BvdmVyKCkgewogICAgICAgICAgaWYgKHBvcG92ZXJTdGF0ZS52YWx1ZSA9PT0gMSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgcG9wb3ZlclN0YXRlLnZhbHVlID0gMTsKICAgICAgICB9LAogICAgICAgIGNsb3NlKGZvY3VzYWJsZUVsZW1lbnQpIHsKICAgICAgICAgIGFwaS5jbG9zZVBvcG92ZXIoKTsKICAgICAgICAgIGxldCByZXN0b3JlRWxlbWVudCA9ICgoKSA9PiB7CiAgICAgICAgICAgIGlmICghZm9jdXNhYmxlRWxlbWVudCkKICAgICAgICAgICAgICByZXR1cm4gZG9tKGFwaS5idXR0b24pOwogICAgICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KQogICAgICAgICAgICAgIHJldHVybiBmb2N1c2FibGVFbGVtZW50OwogICAgICAgICAgICBpZiAoZm9jdXNhYmxlRWxlbWVudC52YWx1ZSBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KQogICAgICAgICAgICAgIHJldHVybiBkb20oZm9jdXNhYmxlRWxlbWVudCk7CiAgICAgICAgICAgIHJldHVybiBkb20oYXBpLmJ1dHRvbik7CiAgICAgICAgICB9KSgpOwogICAgICAgICAgcmVzdG9yZUVsZW1lbnQgPT0gbnVsbCA/IHZvaWQgMCA6IHJlc3RvcmVFbGVtZW50LmZvY3VzKCk7CiAgICAgICAgfQogICAgICB9OwogICAgICB2dWUucHJvdmlkZShQb3BvdmVyQ29udGV4dCwgYXBpKTsKICAgICAgdXNlT3BlbkNsb3NlZFByb3ZpZGVyKAogICAgICAgIHZ1ZS5jb21wdXRlZCgKICAgICAgICAgICgpID0+IG1hdGNoKHBvcG92ZXJTdGF0ZS52YWx1ZSwgewogICAgICAgICAgICBbCiAgICAgICAgICAgICAgMAogICAgICAgICAgICAgIC8qIE9wZW4gKi8KICAgICAgICAgICAgXTogU3RhdGUuT3BlbiwKICAgICAgICAgICAgWwogICAgICAgICAgICAgIDEKICAgICAgICAgICAgICAvKiBDbG9zZWQgKi8KICAgICAgICAgICAgXTogU3RhdGUuQ2xvc2VkCiAgICAgICAgICB9KQogICAgICAgICkKICAgICAgKTsKICAgICAgbGV0IHJlZ2lzdGVyQmFnID0gewogICAgICAgIGJ1dHRvbklkOiBhcGkuYnV0dG9uSWQsCiAgICAgICAgcGFuZWxJZDogYXBpLnBhbmVsSWQsCiAgICAgICAgY2xvc2UoKSB7CiAgICAgICAgICBhcGkuY2xvc2VQb3BvdmVyKCk7CiAgICAgICAgfQogICAgICB9OwogICAgICBsZXQgZ3JvdXBDb250ZXh0ID0gdXNlUG9wb3Zlckdyb3VwQ29udGV4dCgpOwogICAgICBsZXQgcmVnaXN0ZXJQb3BvdmVyID0gZ3JvdXBDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiBncm91cENvbnRleHQucmVnaXN0ZXJQb3BvdmVyOwogICAgICBsZXQgW3BvcnRhbHMsIFBvcnRhbFdyYXBwZXJdID0gdXNlTmVzdGVkUG9ydGFscygpOwogICAgICBsZXQgcm9vdCA9IHVzZVJvb3RDb250YWluZXJzKHsKICAgICAgICBtYWluVHJlZU5vZGVSZWY6IGdyb3VwQ29udGV4dCA9PSBudWxsID8gdm9pZCAwIDogZ3JvdXBDb250ZXh0Lm1haW5UcmVlTm9kZVJlZiwKICAgICAgICBwb3J0YWxzLAogICAgICAgIGRlZmF1bHRDb250YWluZXJzOiBbYnV0dG9uLCBwYW5lbF0KICAgICAgfSk7CiAgICAgIGZ1bmN0aW9uIGlzRm9jdXNXaXRoaW5Qb3BvdmVyR3JvdXAoKSB7CiAgICAgICAgdmFyIF9hMiwgX2IsIF9jLCBfZDsKICAgICAgICByZXR1cm4gKF9kID0gZ3JvdXBDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiBncm91cENvbnRleHQuaXNGb2N1c1dpdGhpblBvcG92ZXJHcm91cCgpKSAhPSBudWxsID8gX2QgOiAoKF9hMiA9IG93bmVyRG9jdW1lbnQudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuYWN0aXZlRWxlbWVudCkgJiYgKCgoX2IgPSBkb20oYnV0dG9uKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNvbnRhaW5zKG93bmVyRG9jdW1lbnQudmFsdWUuYWN0aXZlRWxlbWVudCkpIHx8ICgoX2MgPSBkb20ocGFuZWwpKSA9PSBudWxsID8gdm9pZCAwIDogX2MuY29udGFpbnMob3duZXJEb2N1bWVudC52YWx1ZS5hY3RpdmVFbGVtZW50KSkpOwogICAgICB9CiAgICAgIHZ1ZS53YXRjaEVmZmVjdCgoKSA9PiByZWdpc3RlclBvcG92ZXIgPT0gbnVsbCA/IHZvaWQgMCA6IHJlZ2lzdGVyUG9wb3ZlcihyZWdpc3RlckJhZykpOwogICAgICB1c2VFdmVudExpc3RlbmVyKAogICAgICAgIChfYSA9IG93bmVyRG9jdW1lbnQudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfYS5kZWZhdWx0VmlldywKICAgICAgICAiZm9jdXMiLAogICAgICAgIChldmVudCkgPT4gewogICAgICAgICAgdmFyIF9hMiwgX2I7CiAgICAgICAgICBpZiAoZXZlbnQudGFyZ2V0ID09PSB3aW5kb3cpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGlmICghKGV2ZW50LnRhcmdldCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgaWYgKHBvcG92ZXJTdGF0ZS52YWx1ZSAhPT0gMCkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgaWYgKGlzRm9jdXNXaXRoaW5Qb3BvdmVyR3JvdXAoKSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgaWYgKCFidXR0b24pCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGlmICghcGFuZWwpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGlmIChyb290LmNvbnRhaW5zKGV2ZW50LnRhcmdldCkpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgIGlmICgoX2EyID0gZG9tKGFwaS5iZWZvcmVQYW5lbFNlbnRpbmVsKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jb250YWlucyhldmVudC50YXJnZXQpKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICBpZiAoKF9iID0gZG9tKGFwaS5hZnRlclBhbmVsU2VudGluZWwpKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY29udGFpbnMoZXZlbnQudGFyZ2V0KSkKICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgYXBpLmNsb3NlUG9wb3ZlcigpOwogICAgICAgIH0sCiAgICAgICAgdHJ1ZQogICAgICApOwogICAgICB1c2VPdXRzaWRlQ2xpY2soCiAgICAgICAgcm9vdC5yZXNvbHZlQ29udGFpbmVycywKICAgICAgICAoZXZlbnQsIHRhcmdldCkgPT4gewogICAgICAgICAgdmFyIF9hMjsKICAgICAgICAgIGFwaS5jbG9zZVBvcG92ZXIoKTsKICAgICAgICAgIGlmICghaXNGb2N1c2FibGVFbGVtZW50KHRhcmdldCwgRm9jdXNhYmxlTW9kZS5Mb29zZSkpIHsKICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgKF9hMiA9IGRvbShidXR0b24pKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmZvY3VzKCk7CiAgICAgICAgICB9CiAgICAgICAgfSwKICAgICAgICB2dWUuY29tcHV0ZWQoCiAgICAgICAgICAoKSA9PiBwb3BvdmVyU3RhdGUudmFsdWUgPT09IDAKICAgICAgICAgIC8qIE9wZW4gKi8KICAgICAgICApCiAgICAgICk7CiAgICAgIHJldHVybiAoKSA9PiB7CiAgICAgICAgbGV0IHNsb3QgPSB7IG9wZW46IHBvcG92ZXJTdGF0ZS52YWx1ZSA9PT0gMCwgY2xvc2U6IGFwaS5jbG9zZSB9OwogICAgICAgIHJldHVybiB2dWUuaCh2dWUuRnJhZ21lbnQsIFsKICAgICAgICAgIHZ1ZS5oKAogICAgICAgICAgICBQb3J0YWxXcmFwcGVyLAogICAgICAgICAgICB7fSwKICAgICAgICAgICAgKCkgPT4gcmVuZGVyKHsKICAgICAgICAgICAgICB0aGVpclByb3BzOiB7IC4uLnByb3BzLCAuLi5hdHRycyB9LAogICAgICAgICAgICAgIG91clByb3BzOiB7IHJlZjogaW50ZXJuYWxQb3BvdmVyUmVmIH0sCiAgICAgICAgICAgICAgc2xvdCwKICAgICAgICAgICAgICBzbG90cywKICAgICAgICAgICAgICBhdHRycywKICAgICAgICAgICAgICBuYW1lOiAiUG9wb3ZlciIKICAgICAgICAgICAgfSkKICAgICAgICAgICksCiAgICAgICAgICB2dWUuaChyb290Lk1haW5UcmVlTm9kZSkKICAgICAgICBdKTsKICAgICAgfTsKICAgIH0KICB9KTsKICBsZXQgUG9wb3ZlckJ1dHRvbiA9IHZ1ZS5kZWZpbmVDb21wb25lbnQoewogICAgbmFtZTogIlBvcG92ZXJCdXR0b24iLAogICAgcHJvcHM6IHsKICAgICAgYXM6IHsgdHlwZTogW09iamVjdCwgU3RyaW5nXSwgZGVmYXVsdDogImJ1dHRvbiIgfSwKICAgICAgZGlzYWJsZWQ6IHsgdHlwZTogW0Jvb2xlYW5dLCBkZWZhdWx0OiBmYWxzZSB9LAogICAgICBpZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IG51bGwgfQogICAgfSwKICAgIGluaGVyaXRBdHRyczogZmFsc2UsCiAgICBzZXR1cChwcm9wcywgeyBhdHRycywgc2xvdHMsIGV4cG9zZSB9KSB7CiAgICAgIHZhciBfYTsKICAgICAgbGV0IGlkID0gKF9hID0gcHJvcHMuaWQpICE9IG51bGwgPyBfYSA6IGBoZWFkbGVzc3VpLXBvcG92ZXItYnV0dG9uLSR7dXNlSWQoKX1gOwogICAgICBsZXQgYXBpID0gdXNlUG9wb3ZlckNvbnRleHQoIlBvcG92ZXJCdXR0b24iKTsKICAgICAgbGV0IG93bmVyRG9jdW1lbnQgPSB2dWUuY29tcHV0ZWQoKCkgPT4gZ2V0T3duZXJEb2N1bWVudChhcGkuYnV0dG9uKSk7CiAgICAgIGV4cG9zZSh7IGVsOiBhcGkuYnV0dG9uLCAkZWw6IGFwaS5idXR0b24gfSk7CiAgICAgIHZ1ZS5vbk1vdW50ZWQoKCkgPT4gewogICAgICAgIGFwaS5idXR0b25JZC52YWx1ZSA9IGlkOwogICAgICB9KTsKICAgICAgdnVlLm9uVW5tb3VudGVkKCgpID0+IHsKICAgICAgICBhcGkuYnV0dG9uSWQudmFsdWUgPSBudWxsOwogICAgICB9KTsKICAgICAgbGV0IGdyb3VwQ29udGV4dCA9IHVzZVBvcG92ZXJHcm91cENvbnRleHQoKTsKICAgICAgbGV0IGNsb3NlT3RoZXJzID0gZ3JvdXBDb250ZXh0ID09IG51bGwgPyB2b2lkIDAgOiBncm91cENvbnRleHQuY2xvc2VPdGhlcnM7CiAgICAgIGxldCBwYW5lbENvbnRleHQgPSB1c2VQb3BvdmVyUGFuZWxDb250ZXh0KCk7CiAgICAgIGxldCBpc1dpdGhpblBhbmVsID0gdnVlLmNvbXB1dGVkKAogICAgICAgICgpID0+IHBhbmVsQ29udGV4dCA9PT0gbnVsbCA/IGZhbHNlIDogcGFuZWxDb250ZXh0LnZhbHVlID09PSBhcGkucGFuZWxJZC52YWx1ZQogICAgICApOwogICAgICBsZXQgZWxlbWVudFJlZiA9IHZ1ZS5yZWYobnVsbCk7CiAgICAgIGxldCBzZW50aW5lbElkID0gYGhlYWRsZXNzdWktZm9jdXMtc2VudGluZWwtJHt1c2VJZCgpfWA7CiAgICAgIGlmICghaXNXaXRoaW5QYW5lbC52YWx1ZSkgewogICAgICAgIHZ1ZS53YXRjaEVmZmVjdCgoKSA9PiB7CiAgICAgICAgICBhcGkuYnV0dG9uLnZhbHVlID0gZG9tKGVsZW1lbnRSZWYpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGxldCB0eXBlID0gdXNlUmVzb2x2ZUJ1dHRvblR5cGUoCiAgICAgICAgdnVlLmNvbXB1dGVkKCgpID0+ICh7IGFzOiBwcm9wcy5hcywgdHlwZTogYXR0cnMudHlwZSB9KSksCiAgICAgICAgZWxlbWVudFJlZgogICAgICApOwogICAgICBmdW5jdGlvbiBoYW5kbGVLZXlEb3duKGV2ZW50KSB7CiAgICAgICAgdmFyIF9hMiwgX2IsIF9jLCBfZCwgX2U7CiAgICAgICAgaWYgKGlzV2l0aGluUGFuZWwudmFsdWUpIHsKICAgICAgICAgIGlmIChhcGkucG9wb3ZlclN0YXRlLnZhbHVlID09PSAxKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleSkgewogICAgICAgICAgICBjYXNlIEtleXMuU3BhY2U6CiAgICAgICAgICAgIGNhc2UgS2V5cy5FbnRlcjoKICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgIChfYiA9IChfYTIgPSBldmVudC50YXJnZXQpLmNsaWNrKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY2FsbChfYTIpOwogICAgICAgICAgICAgIGFwaS5jbG9zZVBvcG92ZXIoKTsKICAgICAgICAgICAgICAoX2MgPSBkb20oYXBpLmJ1dHRvbikpID09IG51bGwgPyB2b2lkIDAgOiBfYy5mb2N1cygpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleSkgewogICAgICAgICAgICBjYXNlIEtleXMuU3BhY2U6CiAgICAgICAgICAgIGNhc2UgS2V5cy5FbnRlcjoKICAgICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICAgICAgICAgIGlmIChhcGkucG9wb3ZlclN0YXRlLnZhbHVlID09PSAxKQogICAgICAgICAgICAgICAgY2xvc2VPdGhlcnMgPT0gbnVsbCA/IHZvaWQgMCA6IGNsb3NlT3RoZXJzKGFwaS5idXR0b25JZC52YWx1ZSk7CiAgICAgICAgICAgICAgYXBpLnRvZ2dsZVBvcG92ZXIoKTsKICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgY2FzZSBLZXlzLkVzY2FwZToKICAgICAgICAgICAgICBpZiAoYXBpLnBvcG92ZXJTdGF0ZS52YWx1ZSAhPT0gMCkKICAgICAgICAgICAgICAgIHJldHVybiBjbG9zZU90aGVycyA9PSBudWxsID8gdm9pZCAwIDogY2xvc2VPdGhlcnMoYXBpLmJ1dHRvbklkLnZhbHVlKTsKICAgICAgICAgICAgICBpZiAoIWRvbShhcGkuYnV0dG9uKSkKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICBpZiAoKChfZCA9IG93bmVyRG9jdW1lbnQudmFsdWUpID09IG51bGwgPyB2b2lkIDAgOiBfZC5hY3RpdmVFbGVtZW50KSAmJiAhKChfZSA9IGRvbShhcGkuYnV0dG9uKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lLmNvbnRhaW5zKG93bmVyRG9jdW1lbnQudmFsdWUuYWN0aXZlRWxlbWVudCkpKQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7CiAgICAgICAgICAgICAgYXBpLmNsb3NlUG9wb3ZlcigpOwogICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgICBmdW5jdGlvbiBoYW5kbGVLZXlVcChldmVudCkgewogICAgICAgIGlmIChpc1dpdGhpblBhbmVsLnZhbHVlKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmIChldmVudC5rZXkgPT09IEtleXMuU3BhY2UpIHsKICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7CiAgICAgICAgdmFyIF9hMiwgX2I7CiAgICAgICAgaWYgKHByb3BzLmRpc2FibGVkKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmIChpc1dpdGhpblBhbmVsLnZhbHVlKSB7CiAgICAgICAgICBhcGkuY2xvc2VQb3BvdmVyKCk7CiAgICAgICAgICAoX2EyID0gZG9tKGFwaS5idXR0b24pKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmZvY3VzKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgIGlmIChhcGkucG9wb3ZlclN0YXRlLnZhbHVlID09PSAxKQogICAgICAgICAgICBjbG9zZU90aGVycyA9PSBudWxsID8gdm9pZCAwIDogY2xvc2VPdGhlcnMoYXBpLmJ1dHRvbklkLnZhbHVlKTsKICAgICAgICAgIGFwaS50b2dnbGVQb3BvdmVyKCk7CiAgICAgICAgICAoX2IgPSBkb20oYXBpLmJ1dHRvbikpID09IG51bGwgPyB2b2lkIDAgOiBfYi5mb2N1cygpOwogICAgICAgIH0KICAgICAgfQogICAgICBmdW5jdGlvbiBoYW5kbGVNb3VzZURvd24oZXZlbnQpIHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpOwogICAgICB9CiAgICAgIGxldCBkaXJlY3Rpb24gPSB1c2VUYWJEaXJlY3Rpb24oKTsKICAgICAgZnVuY3Rpb24gaGFuZGxlRm9jdXMoKSB7CiAgICAgICAgbGV0IGVsID0gZG9tKGFwaS5wYW5lbCk7CiAgICAgICAgaWYgKCFlbCkKICAgICAgICAgIHJldHVybjsKICAgICAgICBmdW5jdGlvbiBydW4oKSB7CiAgICAgICAgICBsZXQgcmVzdWx0ID0gbWF0Y2goZGlyZWN0aW9uLnZhbHVlLCB7CiAgICAgICAgICAgIFtEaXJlY3Rpb24uRm9yd2FyZHNdOiAoKSA9PiBmb2N1c0luKGVsLCBGb2N1cy5GaXJzdCksCiAgICAgICAgICAgIFtEaXJlY3Rpb24uQmFja3dhcmRzXTogKCkgPT4gZm9jdXNJbihlbCwgRm9jdXMuTGFzdCkKICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKHJlc3VsdCA9PT0gRm9jdXNSZXN1bHQuRXJyb3IpIHsKICAgICAgICAgICAgZm9jdXNJbigKICAgICAgICAgICAgICBnZXRGb2N1c2FibGVFbGVtZW50cygpLmZpbHRlcigoZWwyKSA9PiBlbDIuZGF0YXNldC5oZWFkbGVzc3VpRm9jdXNHdWFyZCAhPT0gInRydWUiKSwKICAgICAgICAgICAgICBtYXRjaChkaXJlY3Rpb24udmFsdWUsIHsKICAgICAgICAgICAgICAgIFtEaXJlY3Rpb24uRm9yd2FyZHNdOiBGb2N1cy5OZXh0LAogICAgICAgICAgICAgICAgW0RpcmVjdGlvbi5CYWNrd2FyZHNdOiBGb2N1cy5QcmV2aW91cwogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgIHsgcmVsYXRpdmVUbzogZG9tKGFwaS5idXR0b24pIH0KICAgICAgICAgICAgKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgewogICAgICAgICAgcnVuKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiAoKSA9PiB7CiAgICAgICAgbGV0IHZpc2libGUgPSBhcGkucG9wb3ZlclN0YXRlLnZhbHVlID09PSAwOwogICAgICAgIGxldCBzbG90ID0geyBvcGVuOiB2aXNpYmxlIH07CiAgICAgICAgbGV0IHsgLi4udGhlaXJQcm9wcyB9ID0gcHJvcHM7CiAgICAgICAgbGV0IG91clByb3BzID0gaXNXaXRoaW5QYW5lbC52YWx1ZSA/IHsKICAgICAgICAgIHJlZjogZWxlbWVudFJlZiwKICAgICAgICAgIHR5cGU6IHR5cGUudmFsdWUsCiAgICAgICAgICBvbktleWRvd246IGhhbmRsZUtleURvd24sCiAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVDbGljawogICAgICAgIH0gOiB7CiAgICAgICAgICByZWY6IGVsZW1lbnRSZWYsCiAgICAgICAgICBpZCwKICAgICAgICAgIHR5cGU6IHR5cGUudmFsdWUsCiAgICAgICAgICAiYXJpYS1leHBhbmRlZCI6IGFwaS5wb3BvdmVyU3RhdGUudmFsdWUgPT09IDAsCiAgICAgICAgICAiYXJpYS1jb250cm9scyI6IGRvbShhcGkucGFuZWwpID8gYXBpLnBhbmVsSWQudmFsdWUgOiB2b2lkIDAsCiAgICAgICAgICBkaXNhYmxlZDogcHJvcHMuZGlzYWJsZWQgPyB0cnVlIDogdm9pZCAwLAogICAgICAgICAgb25LZXlkb3duOiBoYW5kbGVLZXlEb3duLAogICAgICAgICAgb25LZXl1cDogaGFuZGxlS2V5VXAsCiAgICAgICAgICBvbkNsaWNrOiBoYW5kbGVDbGljaywKICAgICAgICAgIG9uTW91c2Vkb3duOiBoYW5kbGVNb3VzZURvd24KICAgICAgICB9OwogICAgICAgIHJldHVybiB2dWUuaCh2dWUuRnJhZ21lbnQsIFsKICAgICAgICAgIHJlbmRlcih7CiAgICAgICAgICAgIG91clByb3BzLAogICAgICAgICAgICB0aGVpclByb3BzOiB7IC4uLmF0dHJzLCAuLi50aGVpclByb3BzIH0sCiAgICAgICAgICAgIHNsb3QsCiAgICAgICAgICAgIGF0dHJzLAogICAgICAgICAgICBzbG90cywKICAgICAgICAgICAgbmFtZTogIlBvcG92ZXJCdXR0b24iCiAgICAgICAgICB9KSwKICAgICAgICAgIHZpc2libGUgJiYgIWlzV2l0aGluUGFuZWwudmFsdWUgJiYgYXBpLmlzUG9ydGFsbGVkLnZhbHVlICYmIHZ1ZS5oKEhpZGRlbiwgewogICAgICAgICAgICBpZDogc2VudGluZWxJZCwKICAgICAgICAgICAgZmVhdHVyZXM6IEZlYXR1cmVzLkZvY3VzYWJsZSwKICAgICAgICAgICAgImRhdGEtaGVhZGxlc3N1aS1mb2N1cy1ndWFyZCI6IHRydWUsCiAgICAgICAgICAgIGFzOiAiYnV0dG9uIiwKICAgICAgICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgICAgICAgIG9uRm9jdXM6IGhhbmRsZUZvY3VzCiAgICAgICAgICB9KQogICAgICAgIF0pOwogICAgICB9OwogICAgfQogIH0pOwogIHZ1ZS5kZWZpbmVDb21wb25lbnQoewogICAgbmFtZTogIlBvcG92ZXJPdmVybGF5IiwKICAgIHByb3BzOiB7CiAgICAgIGFzOiB7IHR5cGU6IFtPYmplY3QsIFN0cmluZ10sIGRlZmF1bHQ6ICJkaXYiIH0sCiAgICAgIHN0YXRpYzogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LAogICAgICB1bm1vdW50OiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHRydWUgfQogICAgfSwKICAgIHNldHVwKHByb3BzLCB7IGF0dHJzLCBzbG90cyB9KSB7CiAgICAgIGxldCBhcGkgPSB1c2VQb3BvdmVyQ29udGV4dCgiUG9wb3Zlck92ZXJsYXkiKTsKICAgICAgbGV0IGlkID0gYGhlYWRsZXNzdWktcG9wb3Zlci1vdmVybGF5LSR7dXNlSWQoKX1gOwogICAgICBsZXQgdXNlc09wZW5DbG9zZWRTdGF0ZSA9IHVzZU9wZW5DbG9zZWQoKTsKICAgICAgbGV0IHZpc2libGUgPSB2dWUuY29tcHV0ZWQoKCkgPT4gewogICAgICAgIGlmICh1c2VzT3BlbkNsb3NlZFN0YXRlICE9PSBudWxsKSB7CiAgICAgICAgICByZXR1cm4gKHVzZXNPcGVuQ2xvc2VkU3RhdGUudmFsdWUgJiBTdGF0ZS5PcGVuKSA9PT0gU3RhdGUuT3BlbjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGFwaS5wb3BvdmVyU3RhdGUudmFsdWUgPT09IDA7CiAgICAgIH0pOwogICAgICBmdW5jdGlvbiBoYW5kbGVDbGljaygpIHsKICAgICAgICBhcGkuY2xvc2VQb3BvdmVyKCk7CiAgICAgIH0KICAgICAgcmV0dXJuICgpID0+IHsKICAgICAgICBsZXQgc2xvdCA9IHsKICAgICAgICAgIG9wZW46IGFwaS5wb3BvdmVyU3RhdGUudmFsdWUgPT09IDAKICAgICAgICAgIC8qIE9wZW4gKi8KICAgICAgICB9OwogICAgICAgIGxldCBvdXJQcm9wcyA9IHsKICAgICAgICAgIGlkLAogICAgICAgICAgImFyaWEtaGlkZGVuIjogdHJ1ZSwKICAgICAgICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gcmVuZGVyKHsKICAgICAgICAgIG91clByb3BzLAogICAgICAgICAgdGhlaXJQcm9wczogcHJvcHMsCiAgICAgICAgICBzbG90LAogICAgICAgICAgYXR0cnMsCiAgICAgICAgICBzbG90cywKICAgICAgICAgIGZlYXR1cmVzOiBGZWF0dXJlcyQxLlJlbmRlclN0cmF0ZWd5IHwgRmVhdHVyZXMkMS5TdGF0aWMsCiAgICAgICAgICB2aXNpYmxlOiB2aXNpYmxlLnZhbHVlLAogICAgICAgICAgbmFtZTogIlBvcG92ZXJPdmVybGF5IgogICAgICAgIH0pOwogICAgICB9OwogICAgfQogIH0pOwogIGxldCBQb3BvdmVyUGFuZWwgPSB2dWUuZGVmaW5lQ29tcG9uZW50KHsKICAgIG5hbWU6ICJQb3BvdmVyUGFuZWwiLAogICAgcHJvcHM6IHsKICAgICAgYXM6IHsgdHlwZTogW09iamVjdCwgU3RyaW5nXSwgZGVmYXVsdDogImRpdiIgfSwKICAgICAgc3RhdGljOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IGZhbHNlIH0sCiAgICAgIHVubW91bnQ6IHsgdHlwZTogQm9vbGVhbiwgZGVmYXVsdDogdHJ1ZSB9LAogICAgICBmb2N1czogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiBmYWxzZSB9LAogICAgICBpZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IG51bGwgfQogICAgfSwKICAgIGluaGVyaXRBdHRyczogZmFsc2UsCiAgICBzZXR1cChwcm9wcywgeyBhdHRycywgc2xvdHMsIGV4cG9zZSB9KSB7CiAgICAgIHZhciBfYTsKICAgICAgbGV0IGlkID0gKF9hID0gcHJvcHMuaWQpICE9IG51bGwgPyBfYSA6IGBoZWFkbGVzc3VpLXBvcG92ZXItcGFuZWwtJHt1c2VJZCgpfWA7CiAgICAgIGxldCB7IGZvY3VzIH0gPSBwcm9wczsKICAgICAgbGV0IGFwaSA9IHVzZVBvcG92ZXJDb250ZXh0KCJQb3BvdmVyUGFuZWwiKTsKICAgICAgbGV0IG93bmVyRG9jdW1lbnQgPSB2dWUuY29tcHV0ZWQoKCkgPT4gZ2V0T3duZXJEb2N1bWVudChhcGkucGFuZWwpKTsKICAgICAgbGV0IGJlZm9yZVBhbmVsU2VudGluZWxJZCA9IGBoZWFkbGVzc3VpLWZvY3VzLXNlbnRpbmVsLWJlZm9yZS0ke3VzZUlkKCl9YDsKICAgICAgbGV0IGFmdGVyUGFuZWxTZW50aW5lbElkID0gYGhlYWRsZXNzdWktZm9jdXMtc2VudGluZWwtYWZ0ZXItJHt1c2VJZCgpfWA7CiAgICAgIGV4cG9zZSh7IGVsOiBhcGkucGFuZWwsICRlbDogYXBpLnBhbmVsIH0pOwogICAgICB2dWUub25Nb3VudGVkKCgpID0+IHsKICAgICAgICBhcGkucGFuZWxJZC52YWx1ZSA9IGlkOwogICAgICB9KTsKICAgICAgdnVlLm9uVW5tb3VudGVkKCgpID0+IHsKICAgICAgICBhcGkucGFuZWxJZC52YWx1ZSA9IG51bGw7CiAgICAgIH0pOwogICAgICB2dWUucHJvdmlkZShQb3BvdmVyUGFuZWxDb250ZXh0LCBhcGkucGFuZWxJZCk7CiAgICAgIHZ1ZS53YXRjaEVmZmVjdCgoKSA9PiB7CiAgICAgICAgdmFyIF9hMiwgX2I7CiAgICAgICAgaWYgKCFmb2N1cykKICAgICAgICAgIHJldHVybjsKICAgICAgICBpZiAoYXBpLnBvcG92ZXJTdGF0ZS52YWx1ZSAhPT0gMCkKICAgICAgICAgIHJldHVybjsKICAgICAgICBpZiAoIWFwaS5wYW5lbCkKICAgICAgICAgIHJldHVybjsKICAgICAgICBsZXQgYWN0aXZlRWxlbWVudCA9IChfYTIgPSBvd25lckRvY3VtZW50LnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmFjdGl2ZUVsZW1lbnQ7CiAgICAgICAgaWYgKChfYiA9IGRvbShhcGkucGFuZWwpKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY29udGFpbnMoYWN0aXZlRWxlbWVudCkpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgZm9jdXNJbihkb20oYXBpLnBhbmVsKSwgRm9jdXMuRmlyc3QpOwogICAgICB9KTsKICAgICAgbGV0IHVzZXNPcGVuQ2xvc2VkU3RhdGUgPSB1c2VPcGVuQ2xvc2VkKCk7CiAgICAgIGxldCB2aXNpYmxlID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgICBpZiAodXNlc09wZW5DbG9zZWRTdGF0ZSAhPT0gbnVsbCkgewogICAgICAgICAgcmV0dXJuICh1c2VzT3BlbkNsb3NlZFN0YXRlLnZhbHVlICYgU3RhdGUuT3BlbikgPT09IFN0YXRlLk9wZW47CiAgICAgICAgfQogICAgICAgIHJldHVybiBhcGkucG9wb3ZlclN0YXRlLnZhbHVlID09PSAwOwogICAgICB9KTsKICAgICAgZnVuY3Rpb24gaGFuZGxlS2V5RG93bihldmVudCkgewogICAgICAgIHZhciBfYTIsIF9iOwogICAgICAgIHN3aXRjaCAoZXZlbnQua2V5KSB7CiAgICAgICAgICBjYXNlIEtleXMuRXNjYXBlOgogICAgICAgICAgICBpZiAoYXBpLnBvcG92ZXJTdGF0ZS52YWx1ZSAhPT0gMCkKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIGlmICghZG9tKGFwaS5wYW5lbCkpCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAob3duZXJEb2N1bWVudC52YWx1ZSAmJiAhKChfYTIgPSBkb20oYXBpLnBhbmVsKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5jb250YWlucyhvd25lckRvY3VtZW50LnZhbHVlLmFjdGl2ZUVsZW1lbnQpKSkgewogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTsKICAgICAgICAgICAgYXBpLmNsb3NlUG9wb3ZlcigpOwogICAgICAgICAgICAoX2IgPSBkb20oYXBpLmJ1dHRvbikpID09IG51bGwgPyB2b2lkIDAgOiBfYi5mb2N1cygpOwogICAgICAgICAgICBicmVhazsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gaGFuZGxlQmx1cihldmVudCkgewogICAgICAgIHZhciBfYTIsIF9iLCBfYywgX2QsIF9lOwogICAgICAgIGxldCBlbCA9IGV2ZW50LnJlbGF0ZWRUYXJnZXQ7CiAgICAgICAgaWYgKCFlbCkKICAgICAgICAgIHJldHVybjsKICAgICAgICBpZiAoIWRvbShhcGkucGFuZWwpKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGlmICgoX2EyID0gZG9tKGFwaS5wYW5lbCkpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuY29udGFpbnMoZWwpKQogICAgICAgICAgcmV0dXJuOwogICAgICAgIGFwaS5jbG9zZVBvcG92ZXIoKTsKICAgICAgICBpZiAoKChfYyA9IChfYiA9IGRvbShhcGkuYmVmb3JlUGFuZWxTZW50aW5lbCkpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jb250YWlucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmNhbGwoX2IsIGVsKSkgfHwgKChfZSA9IChfZCA9IGRvbShhcGkuYWZ0ZXJQYW5lbFNlbnRpbmVsKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9kLmNvbnRhaW5zKSA9PSBudWxsID8gdm9pZCAwIDogX2UuY2FsbChfZCwgZWwpKSkgewogICAgICAgICAgZWwuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pOwogICAgICAgIH0KICAgICAgfQogICAgICBsZXQgZGlyZWN0aW9uID0gdXNlVGFiRGlyZWN0aW9uKCk7CiAgICAgIGZ1bmN0aW9uIGhhbmRsZUJlZm9yZUZvY3VzKCkgewogICAgICAgIGxldCBlbCA9IGRvbShhcGkucGFuZWwpOwogICAgICAgIGlmICghZWwpCiAgICAgICAgICByZXR1cm47CiAgICAgICAgZnVuY3Rpb24gcnVuKCkgewogICAgICAgICAgbWF0Y2goZGlyZWN0aW9uLnZhbHVlLCB7CiAgICAgICAgICAgIFtEaXJlY3Rpb24uRm9yd2FyZHNdOiAoKSA9PiB7CiAgICAgICAgICAgICAgdmFyIF9hMjsKICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gZm9jdXNJbihlbCwgRm9jdXMuRmlyc3QpOwogICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IEZvY3VzUmVzdWx0LkVycm9yKSB7CiAgICAgICAgICAgICAgICAoX2EyID0gZG9tKGFwaS5hZnRlclBhbmVsU2VudGluZWwpKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmZvY3VzKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9LAogICAgICAgICAgICBbRGlyZWN0aW9uLkJhY2t3YXJkc106ICgpID0+IHsKICAgICAgICAgICAgICB2YXIgX2EyOwogICAgICAgICAgICAgIChfYTIgPSBkb20oYXBpLmJ1dHRvbikpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuZm9jdXMoeyBwcmV2ZW50U2Nyb2xsOiB0cnVlIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgewogICAgICAgICAgcnVuKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIGZ1bmN0aW9uIGhhbmRsZUFmdGVyRm9jdXMoKSB7CiAgICAgICAgbGV0IGVsID0gZG9tKGFwaS5wYW5lbCk7CiAgICAgICAgaWYgKCFlbCkKICAgICAgICAgIHJldHVybjsKICAgICAgICBmdW5jdGlvbiBydW4oKSB7CiAgICAgICAgICBtYXRjaChkaXJlY3Rpb24udmFsdWUsIHsKICAgICAgICAgICAgW0RpcmVjdGlvbi5Gb3J3YXJkc106ICgpID0+IHsKICAgICAgICAgICAgICBsZXQgYnV0dG9uID0gZG9tKGFwaS5idXR0b24pOwogICAgICAgICAgICAgIGxldCBwYW5lbCA9IGRvbShhcGkucGFuZWwpOwogICAgICAgICAgICAgIGlmICghYnV0dG9uKQogICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIGxldCBlbGVtZW50cyA9IGdldEZvY3VzYWJsZUVsZW1lbnRzKCk7CiAgICAgICAgICAgICAgbGV0IGlkeCA9IGVsZW1lbnRzLmluZGV4T2YoYnV0dG9uKTsKICAgICAgICAgICAgICBsZXQgYmVmb3JlID0gZWxlbWVudHMuc2xpY2UoMCwgaWR4ICsgMSk7CiAgICAgICAgICAgICAgbGV0IGFmdGVyID0gZWxlbWVudHMuc2xpY2UoaWR4ICsgMSk7CiAgICAgICAgICAgICAgbGV0IGNvbWJpbmVkID0gWy4uLmFmdGVyLCAuLi5iZWZvcmVdOwogICAgICAgICAgICAgIGZvciAobGV0IGVsZW1lbnQgb2YgY29tYmluZWQuc2xpY2UoKSkgewogICAgICAgICAgICAgICAgaWYgKGVsZW1lbnQuZGF0YXNldC5oZWFkbGVzc3VpRm9jdXNHdWFyZCA9PT0gInRydWUiIHx8IChwYW5lbCA9PSBudWxsID8gdm9pZCAwIDogcGFuZWwuY29udGFpbnMoZWxlbWVudCkpKSB7CiAgICAgICAgICAgICAgICAgIGxldCBpZHgyID0gY29tYmluZWQuaW5kZXhPZihlbGVtZW50KTsKICAgICAgICAgICAgICAgICAgaWYgKGlkeDIgIT09IC0xKQogICAgICAgICAgICAgICAgICAgIGNvbWJpbmVkLnNwbGljZShpZHgyLCAxKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgZm9jdXNJbihjb21iaW5lZCwgRm9jdXMuRmlyc3QsIHsgc29ydGVkOiBmYWxzZSB9KTsKICAgICAgICAgICAgfSwKICAgICAgICAgICAgW0RpcmVjdGlvbi5CYWNrd2FyZHNdOiAoKSA9PiB7CiAgICAgICAgICAgICAgdmFyIF9hMjsKICAgICAgICAgICAgICBsZXQgcmVzdWx0ID0gZm9jdXNJbihlbCwgRm9jdXMuUHJldmlvdXMpOwogICAgICAgICAgICAgIGlmIChyZXN1bHQgPT09IEZvY3VzUmVzdWx0LkVycm9yKSB7CiAgICAgICAgICAgICAgICAoX2EyID0gZG9tKGFwaS5idXR0b24pKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmZvY3VzKCk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgewogICAgICAgICAgcnVuKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHJldHVybiAoKSA9PiB7CiAgICAgICAgbGV0IHNsb3QgPSB7CiAgICAgICAgICBvcGVuOiBhcGkucG9wb3ZlclN0YXRlLnZhbHVlID09PSAwLAogICAgICAgICAgY2xvc2U6IGFwaS5jbG9zZQogICAgICAgIH07CiAgICAgICAgbGV0IHsgZm9jdXM6IF9mb2N1cywgLi4udGhlaXJQcm9wcyB9ID0gcHJvcHM7CiAgICAgICAgbGV0IG91clByb3BzID0gewogICAgICAgICAgcmVmOiBhcGkucGFuZWwsCiAgICAgICAgICBpZCwKICAgICAgICAgIG9uS2V5ZG93bjogaGFuZGxlS2V5RG93biwKICAgICAgICAgIG9uRm9jdXNvdXQ6IGZvY3VzICYmIGFwaS5wb3BvdmVyU3RhdGUudmFsdWUgPT09IDAgPyBoYW5kbGVCbHVyIDogdm9pZCAwLAogICAgICAgICAgdGFiSW5kZXg6IC0xCiAgICAgICAgfTsKICAgICAgICByZXR1cm4gcmVuZGVyKHsKICAgICAgICAgIG91clByb3BzLAogICAgICAgICAgdGhlaXJQcm9wczogeyAuLi5hdHRycywgLi4udGhlaXJQcm9wcyB9LAogICAgICAgICAgYXR0cnMsCiAgICAgICAgICBzbG90LAogICAgICAgICAgc2xvdHM6IHsKICAgICAgICAgICAgLi4uc2xvdHMsCiAgICAgICAgICAgIGRlZmF1bHQ6ICguLi5hcmdzKSA9PiB7CiAgICAgICAgICAgICAgdmFyIF9hMjsKICAgICAgICAgICAgICByZXR1cm4gWwogICAgICAgICAgICAgICAgdnVlLmgodnVlLkZyYWdtZW50LCBbCiAgICAgICAgICAgICAgICAgIHZpc2libGUudmFsdWUgJiYgYXBpLmlzUG9ydGFsbGVkLnZhbHVlICYmIHZ1ZS5oKEhpZGRlbiwgewogICAgICAgICAgICAgICAgICAgIGlkOiBiZWZvcmVQYW5lbFNlbnRpbmVsSWQsCiAgICAgICAgICAgICAgICAgICAgcmVmOiBhcGkuYmVmb3JlUGFuZWxTZW50aW5lbCwKICAgICAgICAgICAgICAgICAgICBmZWF0dXJlczogRmVhdHVyZXMuRm9jdXNhYmxlLAogICAgICAgICAgICAgICAgICAgICJkYXRhLWhlYWRsZXNzdWktZm9jdXMtZ3VhcmQiOiB0cnVlLAogICAgICAgICAgICAgICAgICAgIGFzOiAiYnV0dG9uIiwKICAgICAgICAgICAgICAgICAgICB0eXBlOiAiYnV0dG9uIiwKICAgICAgICAgICAgICAgICAgICBvbkZvY3VzOiBoYW5kbGVCZWZvcmVGb2N1cwogICAgICAgICAgICAgICAgICB9KSwKICAgICAgICAgICAgICAgICAgKF9hMiA9IHNsb3RzLmRlZmF1bHQpID09IG51bGwgPyB2b2lkIDAgOiBfYTIuY2FsbChzbG90cywgLi4uYXJncyksCiAgICAgICAgICAgICAgICAgIHZpc2libGUudmFsdWUgJiYgYXBpLmlzUG9ydGFsbGVkLnZhbHVlICYmIHZ1ZS5oKEhpZGRlbiwgewogICAgICAgICAgICAgICAgICAgIGlkOiBhZnRlclBhbmVsU2VudGluZWxJZCwKICAgICAgICAgICAgICAgICAgICByZWY6IGFwaS5hZnRlclBhbmVsU2VudGluZWwsCiAgICAgICAgICAgICAgICAgICAgZmVhdHVyZXM6IEZlYXR1cmVzLkZvY3VzYWJsZSwKICAgICAgICAgICAgICAgICAgICAiZGF0YS1oZWFkbGVzc3VpLWZvY3VzLWd1YXJkIjogdHJ1ZSwKICAgICAgICAgICAgICAgICAgICBhczogImJ1dHRvbiIsCiAgICAgICAgICAgICAgICAgICAgdHlwZTogImJ1dHRvbiIsCiAgICAgICAgICAgICAgICAgICAgb25Gb2N1czogaGFuZGxlQWZ0ZXJGb2N1cwogICAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICBdOwogICAgICAgICAgICB9CiAgICAgICAgICB9LAogICAgICAgICAgZmVhdHVyZXM6IEZlYXR1cmVzJDEuUmVuZGVyU3RyYXRlZ3kgfCBGZWF0dXJlcyQxLlN0YXRpYywKICAgICAgICAgIHZpc2libGU6IHZpc2libGUudmFsdWUsCiAgICAgICAgICBuYW1lOiAiUG9wb3ZlclBhbmVsIgogICAgICAgIH0pOwogICAgICB9OwogICAgfQogIH0pOwogIHZ1ZS5kZWZpbmVDb21wb25lbnQoewogICAgbmFtZTogIlBvcG92ZXJHcm91cCIsCiAgICBpbmhlcml0QXR0cnM6IGZhbHNlLAogICAgcHJvcHM6IHsKICAgICAgYXM6IHsgdHlwZTogW09iamVjdCwgU3RyaW5nXSwgZGVmYXVsdDogImRpdiIgfQogICAgfSwKICAgIHNldHVwKHByb3BzLCB7IGF0dHJzLCBzbG90cywgZXhwb3NlIH0pIHsKICAgICAgbGV0IGdyb3VwUmVmID0gdnVlLnJlZihudWxsKTsKICAgICAgbGV0IHBvcG92ZXJzID0gdnVlLnNoYWxsb3dSZWYoW10pOwogICAgICBsZXQgb3duZXJEb2N1bWVudCA9IHZ1ZS5jb21wdXRlZCgoKSA9PiBnZXRPd25lckRvY3VtZW50KGdyb3VwUmVmKSk7CiAgICAgIGxldCByb290ID0gdXNlTWFpblRyZWVOb2RlKCk7CiAgICAgIGV4cG9zZSh7IGVsOiBncm91cFJlZiwgJGVsOiBncm91cFJlZiB9KTsKICAgICAgZnVuY3Rpb24gdW5yZWdpc3RlclBvcG92ZXIocmVnaXN0ZXJCYWcpIHsKICAgICAgICBsZXQgaWR4ID0gcG9wb3ZlcnMudmFsdWUuaW5kZXhPZihyZWdpc3RlckJhZyk7CiAgICAgICAgaWYgKGlkeCAhPT0gLTEpCiAgICAgICAgICBwb3BvdmVycy52YWx1ZS5zcGxpY2UoaWR4LCAxKTsKICAgICAgfQogICAgICBmdW5jdGlvbiByZWdpc3RlclBvcG92ZXIocmVnaXN0ZXJCYWcpIHsKICAgICAgICBwb3BvdmVycy52YWx1ZS5wdXNoKHJlZ2lzdGVyQmFnKTsKICAgICAgICByZXR1cm4gKCkgPT4gewogICAgICAgICAgdW5yZWdpc3RlclBvcG92ZXIocmVnaXN0ZXJCYWcpOwogICAgICAgIH07CiAgICAgIH0KICAgICAgZnVuY3Rpb24gaXNGb2N1c1dpdGhpblBvcG92ZXJHcm91cCgpIHsKICAgICAgICB2YXIgX2E7CiAgICAgICAgbGV0IG93bmVyID0gb3duZXJEb2N1bWVudC52YWx1ZTsKICAgICAgICBpZiAoIW93bmVyKQogICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgIGxldCBlbGVtZW50ID0gb3duZXIuYWN0aXZlRWxlbWVudDsKICAgICAgICBpZiAoKF9hID0gZG9tKGdyb3VwUmVmKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLmNvbnRhaW5zKGVsZW1lbnQpKQogICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgcmV0dXJuIHBvcG92ZXJzLnZhbHVlLnNvbWUoKGJhZykgPT4gewogICAgICAgICAgdmFyIF9hMiwgX2I7CiAgICAgICAgICByZXR1cm4gKChfYTIgPSBvd25lci5nZXRFbGVtZW50QnlJZChiYWcuYnV0dG9uSWQudmFsdWUpKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmNvbnRhaW5zKGVsZW1lbnQpKSB8fCAoKF9iID0gb3duZXIuZ2V0RWxlbWVudEJ5SWQoYmFnLnBhbmVsSWQudmFsdWUpKSA9PSBudWxsID8gdm9pZCAwIDogX2IuY29udGFpbnMoZWxlbWVudCkpOwogICAgICAgIH0pOwogICAgICB9CiAgICAgIGZ1bmN0aW9uIGNsb3NlT3RoZXJzKGJ1dHRvbklkKSB7CiAgICAgICAgZm9yIChsZXQgcG9wb3ZlciBvZiBwb3BvdmVycy52YWx1ZSkgewogICAgICAgICAgaWYgKHBvcG92ZXIuYnV0dG9uSWQudmFsdWUgIT09IGJ1dHRvbklkKQogICAgICAgICAgICBwb3BvdmVyLmNsb3NlKCk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHZ1ZS5wcm92aWRlKFBvcG92ZXJHcm91cENvbnRleHQsIHsKICAgICAgICByZWdpc3RlclBvcG92ZXIsCiAgICAgICAgdW5yZWdpc3RlclBvcG92ZXIsCiAgICAgICAgaXNGb2N1c1dpdGhpblBvcG92ZXJHcm91cCwKICAgICAgICBjbG9zZU90aGVycywKICAgICAgICBtYWluVHJlZU5vZGVSZWY6IHJvb3QubWFpblRyZWVOb2RlUmVmCiAgICAgIH0pOwogICAgICByZXR1cm4gKCkgPT4gewogICAgICAgIGxldCBvdXJQcm9wcyA9IHsgcmVmOiBncm91cFJlZiB9OwogICAgICAgIHJldHVybiB2dWUuaCh2dWUuRnJhZ21lbnQsIFsKICAgICAgICAgIHJlbmRlcih7CiAgICAgICAgICAgIG91clByb3BzLAogICAgICAgICAgICB0aGVpclByb3BzOiB7IC4uLnByb3BzLCAuLi5hdHRycyB9LAogICAgICAgICAgICBzbG90OiB7fSwKICAgICAgICAgICAgYXR0cnMsCiAgICAgICAgICAgIHNsb3RzLAogICAgICAgICAgICBuYW1lOiAiUG9wb3Zlckdyb3VwIgogICAgICAgICAgfSksCiAgICAgICAgICB2dWUuaChyb290Lk1haW5UcmVlTm9kZSkKICAgICAgICBdKTsKICAgICAgfTsKICAgIH0KICB9KTsKICBsZXQgTGFiZWxDb250ZXh0ID0gU3ltYm9sKCJMYWJlbENvbnRleHQiKTsKICBmdW5jdGlvbiB1c2VMYWJlbENvbnRleHQoKSB7CiAgICBsZXQgY29udGV4dCA9IHZ1ZS5pbmplY3QoTGFiZWxDb250ZXh0LCBudWxsKTsKICAgIGlmIChjb250ZXh0ID09PSBudWxsKSB7CiAgICAgIGxldCBlcnIgPSBuZXcgRXJyb3IoIllvdSB1c2VkIGEgPExhYmVsIC8+IGNvbXBvbmVudCwgYnV0IGl0IGlzIG5vdCBpbnNpZGUgYSBwYXJlbnQuIik7CiAgICAgIGlmIChFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSkKICAgICAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZShlcnIsIHVzZUxhYmVsQ29udGV4dCk7CiAgICAgIHRocm93IGVycjsKICAgIH0KICAgIHJldHVybiBjb250ZXh0OwogIH0KICBmdW5jdGlvbiB1c2VMYWJlbHMoewogICAgc2xvdCA9IHt9LAogICAgbmFtZSA9ICJMYWJlbCIsCiAgICBwcm9wcyA9IHt9CiAgfSA9IHt9KSB7CiAgICBsZXQgbGFiZWxJZHMgPSB2dWUucmVmKFtdKTsKICAgIGZ1bmN0aW9uIHJlZ2lzdGVyKHZhbHVlKSB7CiAgICAgIGxhYmVsSWRzLnZhbHVlLnB1c2godmFsdWUpOwogICAgICByZXR1cm4gKCkgPT4gewogICAgICAgIGxldCBpZHggPSBsYWJlbElkcy52YWx1ZS5pbmRleE9mKHZhbHVlKTsKICAgICAgICBpZiAoaWR4ID09PSAtMSkKICAgICAgICAgIHJldHVybjsKICAgICAgICBsYWJlbElkcy52YWx1ZS5zcGxpY2UoaWR4LCAxKTsKICAgICAgfTsKICAgIH0KICAgIHZ1ZS5wcm92aWRlKExhYmVsQ29udGV4dCwgeyByZWdpc3Rlciwgc2xvdCwgbmFtZSwgcHJvcHMgfSk7CiAgICByZXR1cm4gdnVlLmNvbXB1dGVkKCgpID0+IGxhYmVsSWRzLnZhbHVlLmxlbmd0aCA+IDAgPyBsYWJlbElkcy52YWx1ZS5qb2luKCIgIikgOiB2b2lkIDApOwogIH0KICB2dWUuZGVmaW5lQ29tcG9uZW50KHsKICAgIG5hbWU6ICJMYWJlbCIsCiAgICBwcm9wczogewogICAgICBhczogeyB0eXBlOiBbT2JqZWN0LCBTdHJpbmddLCBkZWZhdWx0OiAibGFiZWwiIH0sCiAgICAgIHBhc3NpdmU6IHsgdHlwZTogW0Jvb2xlYW5dLCBkZWZhdWx0OiBmYWxzZSB9LAogICAgICBpZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6IG51bGwgfQogICAgfSwKICAgIHNldHVwKG15UHJvcHMsIHsgc2xvdHMsIGF0dHJzIH0pIHsKICAgICAgdmFyIF9hOwogICAgICBsZXQgaWQgPSAoX2EgPSBteVByb3BzLmlkKSAhPSBudWxsID8gX2EgOiBgaGVhZGxlc3N1aS1sYWJlbC0ke3VzZUlkKCl9YDsKICAgICAgbGV0IGNvbnRleHQgPSB1c2VMYWJlbENvbnRleHQoKTsKICAgICAgdnVlLm9uTW91bnRlZCgoKSA9PiB2dWUub25Vbm1vdW50ZWQoY29udGV4dC5yZWdpc3RlcihpZCkpKTsKICAgICAgcmV0dXJuICgpID0+IHsKICAgICAgICBsZXQgeyBuYW1lID0gIkxhYmVsIiwgc2xvdCA9IHt9LCBwcm9wcyA9IHt9IH0gPSBjb250ZXh0OwogICAgICAgIGxldCB7IHBhc3NpdmUsIC4uLnRoZWlyUHJvcHMgfSA9IG15UHJvcHM7CiAgICAgICAgbGV0IG91clByb3BzID0gewogICAgICAgICAgLi4uT2JqZWN0LmVudHJpZXMocHJvcHMpLnJlZHVjZSgKICAgICAgICAgICAgKGFjYywgW2tleSwgdmFsdWVdKSA9PiBPYmplY3QuYXNzaWduKGFjYywgeyBba2V5XTogdnVlLnVucmVmKHZhbHVlKSB9KSwKICAgICAgICAgICAge30KICAgICAgICAgICksCiAgICAgICAgICBpZAogICAgICAgIH07CiAgICAgICAgaWYgKHBhc3NpdmUpIHsKICAgICAgICAgIGRlbGV0ZSBvdXJQcm9wc1sib25DbGljayJdOwogICAgICAgICAgZGVsZXRlIG91clByb3BzWyJodG1sRm9yIl07CiAgICAgICAgICBkZWxldGUgdGhlaXJQcm9wc1sib25DbGljayJdOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcmVuZGVyKHsKICAgICAgICAgIG91clByb3BzLAogICAgICAgICAgdGhlaXJQcm9wcywKICAgICAgICAgIHNsb3QsCiAgICAgICAgICBhdHRycywKICAgICAgICAgIHNsb3RzLAogICAgICAgICAgbmFtZQogICAgICAgIH0pOwogICAgICB9OwogICAgfQogIH0pOwogIGxldCBHcm91cENvbnRleHQgPSBTeW1ib2woIkdyb3VwQ29udGV4dCIpOwogIHZ1ZS5kZWZpbmVDb21wb25lbnQoewogICAgbmFtZTogIlN3aXRjaEdyb3VwIiwKICAgIHByb3BzOiB7CiAgICAgIGFzOiB7IHR5cGU6IFtPYmplY3QsIFN0cmluZ10sIGRlZmF1bHQ6ICJ0ZW1wbGF0ZSIgfQogICAgfSwKICAgIHNldHVwKHByb3BzLCB7IHNsb3RzLCBhdHRycyB9KSB7CiAgICAgIGxldCBzd2l0Y2hSZWYgPSB2dWUucmVmKG51bGwpOwogICAgICBsZXQgbGFiZWxsZWRieSA9IHVzZUxhYmVscyh7CiAgICAgICAgbmFtZTogIlN3aXRjaExhYmVsIiwKICAgICAgICBwcm9wczogewogICAgICAgICAgaHRtbEZvcjogdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgICAgICAgdmFyIF9hOwogICAgICAgICAgICByZXR1cm4gKF9hID0gc3dpdGNoUmVmLnZhbHVlKSA9PSBudWxsID8gdm9pZCAwIDogX2EuaWQ7CiAgICAgICAgICB9KSwKICAgICAgICAgIG9uQ2xpY2soZXZlbnQpIHsKICAgICAgICAgICAgaWYgKCFzd2l0Y2hSZWYudmFsdWUpCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBpZiAoZXZlbnQuY3VycmVudFRhcmdldC50YWdOYW1lID09PSAiTEFCRUwiKSB7CiAgICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBzd2l0Y2hSZWYudmFsdWUuY2xpY2soKTsKICAgICAgICAgICAgc3dpdGNoUmVmLnZhbHVlLmZvY3VzKHsgcHJldmVudFNjcm9sbDogdHJ1ZSB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgICBsZXQgZGVzY3JpYmVkYnkgPSB1c2VEZXNjcmlwdGlvbnMoeyBuYW1lOiAiU3dpdGNoRGVzY3JpcHRpb24iIH0pOwogICAgICBsZXQgYXBpID0geyBzd2l0Y2hSZWYsIGxhYmVsbGVkYnksIGRlc2NyaWJlZGJ5IH07CiAgICAgIHZ1ZS5wcm92aWRlKEdyb3VwQ29udGV4dCwgYXBpKTsKICAgICAgcmV0dXJuICgpID0+IHJlbmRlcih7IHRoZWlyUHJvcHM6IHByb3BzLCBvdXJQcm9wczoge30sIHNsb3Q6IHt9LCBzbG90cywgYXR0cnMsIG5hbWU6ICJTd2l0Y2hHcm91cCIgfSk7CiAgICB9CiAgfSk7CiAgbGV0IFN3aXRjaCA9IHZ1ZS5kZWZpbmVDb21wb25lbnQoewogICAgbmFtZTogIlN3aXRjaCIsCiAgICBlbWl0czogeyAidXBkYXRlOm1vZGVsVmFsdWUiOiAoX3ZhbHVlKSA9PiB0cnVlIH0sCiAgICBwcm9wczogewogICAgICBhczogeyB0eXBlOiBbT2JqZWN0LCBTdHJpbmddLCBkZWZhdWx0OiAiYnV0dG9uIiB9LAogICAgICBtb2RlbFZhbHVlOiB7IHR5cGU6IEJvb2xlYW4sIGRlZmF1bHQ6IHZvaWQgMCB9LAogICAgICBkZWZhdWx0Q2hlY2tlZDogeyB0eXBlOiBCb29sZWFuLCBvcHRpb25hbDogdHJ1ZSB9LAogICAgICBmb3JtOiB7IHR5cGU6IFN0cmluZywgb3B0aW9uYWw6IHRydWUgfSwKICAgICAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIG9wdGlvbmFsOiB0cnVlIH0sCiAgICAgIHZhbHVlOiB7IHR5cGU6IFN0cmluZywgb3B0aW9uYWw6IHRydWUgfSwKICAgICAgaWQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiBudWxsIH0KICAgIH0sCiAgICBpbmhlcml0QXR0cnM6IGZhbHNlLAogICAgc2V0dXAocHJvcHMsIHsgZW1pdCwgYXR0cnMsIHNsb3RzLCBleHBvc2UgfSkgewogICAgICB2YXIgX2E7CiAgICAgIGxldCBpZCA9IChfYSA9IHByb3BzLmlkKSAhPSBudWxsID8gX2EgOiBgaGVhZGxlc3N1aS1zd2l0Y2gtJHt1c2VJZCgpfWA7CiAgICAgIGxldCBhcGkgPSB2dWUuaW5qZWN0KEdyb3VwQ29udGV4dCwgbnVsbCk7CiAgICAgIGxldCBbY2hlY2tlZCwgdGhlaXJPbkNoYW5nZV0gPSB1c2VDb250cm9sbGFibGUoCiAgICAgICAgdnVlLmNvbXB1dGVkKCgpID0+IHByb3BzLm1vZGVsVmFsdWUpLAogICAgICAgICh2YWx1ZSkgPT4gZW1pdCgidXBkYXRlOm1vZGVsVmFsdWUiLCB2YWx1ZSksCiAgICAgICAgdnVlLmNvbXB1dGVkKCgpID0+IHByb3BzLmRlZmF1bHRDaGVja2VkKQogICAgICApOwogICAgICBmdW5jdGlvbiB0b2dnbGUoKSB7CiAgICAgICAgdGhlaXJPbkNoYW5nZSghY2hlY2tlZC52YWx1ZSk7CiAgICAgIH0KICAgICAgbGV0IGludGVybmFsU3dpdGNoUmVmID0gdnVlLnJlZihudWxsKTsKICAgICAgbGV0IHN3aXRjaFJlZiA9IGFwaSA9PT0gbnVsbCA/IGludGVybmFsU3dpdGNoUmVmIDogYXBpLnN3aXRjaFJlZjsKICAgICAgbGV0IHR5cGUgPSB1c2VSZXNvbHZlQnV0dG9uVHlwZSgKICAgICAgICB2dWUuY29tcHV0ZWQoKCkgPT4gKHsgYXM6IHByb3BzLmFzLCB0eXBlOiBhdHRycy50eXBlIH0pKSwKICAgICAgICBzd2l0Y2hSZWYKICAgICAgKTsKICAgICAgZXhwb3NlKHsgZWw6IHN3aXRjaFJlZiwgJGVsOiBzd2l0Y2hSZWYgfSk7CiAgICAgIGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGV2ZW50KSB7CiAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTsKICAgICAgICB0b2dnbGUoKTsKICAgICAgfQogICAgICBmdW5jdGlvbiBoYW5kbGVLZXlVcChldmVudCkgewogICAgICAgIGlmIChldmVudC5rZXkgPT09IEtleXMuU3BhY2UpIHsKICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7CiAgICAgICAgICB0b2dnbGUoKTsKICAgICAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gS2V5cy5FbnRlcikgewogICAgICAgICAgYXR0ZW1wdFN1Ym1pdChldmVudC5jdXJyZW50VGFyZ2V0KTsKICAgICAgICB9CiAgICAgIH0KICAgICAgZnVuY3Rpb24gaGFuZGxlS2V5UHJlc3MoZXZlbnQpIHsKICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpOwogICAgICB9CiAgICAgIGxldCBmb3JtID0gdnVlLmNvbXB1dGVkKCgpID0+IHsKICAgICAgICB2YXIgX2EyLCBfYjsKICAgICAgICByZXR1cm4gKF9iID0gKF9hMiA9IGRvbShzd2l0Y2hSZWYpKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLmNsb3Nlc3QpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKF9hMiwgImZvcm0iKTsKICAgICAgfSk7CiAgICAgIHZ1ZS5vbk1vdW50ZWQoKCkgPT4gewogICAgICAgIHZ1ZS53YXRjaCgKICAgICAgICAgIFtmb3JtXSwKICAgICAgICAgICgpID0+IHsKICAgICAgICAgICAgaWYgKCFmb3JtLnZhbHVlKQogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgaWYgKHByb3BzLmRlZmF1bHRDaGVja2VkID09PSB2b2lkIDApCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICBmdW5jdGlvbiBoYW5kbGUoKSB7CiAgICAgICAgICAgICAgdGhlaXJPbkNoYW5nZShwcm9wcy5kZWZhdWx0Q2hlY2tlZCk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZm9ybS52YWx1ZS5hZGRFdmVudExpc3RlbmVyKCJyZXNldCIsIGhhbmRsZSk7CiAgICAgICAgICAgIHJldHVybiAoKSA9PiB7CiAgICAgICAgICAgICAgdmFyIF9hMjsKICAgICAgICAgICAgICAoX2EyID0gZm9ybS52YWx1ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMi5yZW1vdmVFdmVudExpc3RlbmVyKCJyZXNldCIsIGhhbmRsZSk7CiAgICAgICAgICAgIH07CiAgICAgICAgICB9LAogICAgICAgICAgeyBpbW1lZGlhdGU6IHRydWUgfQogICAgICAgICk7CiAgICAgIH0pOwogICAgICByZXR1cm4gKCkgPT4gewogICAgICAgIGxldCB7IG5hbWUsIHZhbHVlLCBmb3JtOiBmb3JtMiwgLi4udGhlaXJQcm9wcyB9ID0gcHJvcHM7CiAgICAgICAgbGV0IHNsb3QgPSB7IGNoZWNrZWQ6IGNoZWNrZWQudmFsdWUgfTsKICAgICAgICBsZXQgb3VyUHJvcHMgPSB7CiAgICAgICAgICBpZCwKICAgICAgICAgIHJlZjogc3dpdGNoUmVmLAogICAgICAgICAgcm9sZTogInN3aXRjaCIsCiAgICAgICAgICB0eXBlOiB0eXBlLnZhbHVlLAogICAgICAgICAgdGFiSW5kZXg6IDAsCiAgICAgICAgICAiYXJpYS1jaGVja2VkIjogY2hlY2tlZC52YWx1ZSwKICAgICAgICAgICJhcmlhLWxhYmVsbGVkYnkiOiBhcGkgPT0gbnVsbCA/IHZvaWQgMCA6IGFwaS5sYWJlbGxlZGJ5LnZhbHVlLAogICAgICAgICAgImFyaWEtZGVzY3JpYmVkYnkiOiBhcGkgPT0gbnVsbCA/IHZvaWQgMCA6IGFwaS5kZXNjcmliZWRieS52YWx1ZSwKICAgICAgICAgIG9uQ2xpY2s6IGhhbmRsZUNsaWNrLAogICAgICAgICAgb25LZXl1cDogaGFuZGxlS2V5VXAsCiAgICAgICAgICBvbktleXByZXNzOiBoYW5kbGVLZXlQcmVzcwogICAgICAgIH07CiAgICAgICAgcmV0dXJuIHZ1ZS5oKHZ1ZS5GcmFnbWVudCwgWwogICAgICAgICAgbmFtZSAhPSBudWxsICYmIGNoZWNrZWQudmFsdWUgIT0gbnVsbCA/IHZ1ZS5oKAogICAgICAgICAgICBIaWRkZW4sCiAgICAgICAgICAgIGNvbXBhY3QoewogICAgICAgICAgICAgIGZlYXR1cmVzOiBGZWF0dXJlcy5IaWRkZW4sCiAgICAgICAgICAgICAgYXM6ICJpbnB1dCIsCiAgICAgICAgICAgICAgdHlwZTogImNoZWNrYm94IiwKICAgICAgICAgICAgICBoaWRkZW46IHRydWUsCiAgICAgICAgICAgICAgcmVhZE9ubHk6IHRydWUsCiAgICAgICAgICAgICAgY2hlY2tlZDogY2hlY2tlZC52YWx1ZSwKICAgICAgICAgICAgICBmb3JtOiBmb3JtMiwKICAgICAgICAgICAgICBuYW1lLAogICAgICAgICAgICAgIHZhbHVlCiAgICAgICAgICAgIH0pCiAgICAgICAgICApIDogbnVsbCwKICAgICAgICAgIHJlbmRlcih7CiAgICAgICAgICAgIG91clByb3BzLAogICAgICAgICAgICB0aGVpclByb3BzOiB7IC4uLmF0dHJzLCAuLi5vbWl0KHRoZWlyUHJvcHMsIFsibW9kZWxWYWx1ZSIsICJkZWZhdWx0Q2hlY2tlZCJdKSB9LAogICAgICAgICAgICBzbG90LAogICAgICAgICAgICBhdHRycywKICAgICAgICAgICAgc2xvdHMsCiAgICAgICAgICAgIG5hbWU6ICJTd2l0Y2giCiAgICAgICAgICB9KQogICAgICAgIF0pOwogICAgICB9OwogICAgfQogIH0pOwogIGNvbnN0IF9leHBvcnRfc2ZjID0gKHNmYywgcHJvcHMpID0+IHsKICAgIGNvbnN0IHRhcmdldCA9IHNmYy5fX3ZjY09wdHMgfHwgc2ZjOwogICAgZm9yIChjb25zdCBba2V5LCB2YWxdIG9mIHByb3BzKSB7CiAgICAgIHRhcmdldFtrZXldID0gdmFsOwogICAgfQogICAgcmV0dXJuIHRhcmdldDsKICB9OwogIGNvbnN0IF9zZmNfbWFpbiQ1ID0ge307CiAgY29uc3QgX2hvaXN0ZWRfMSQ0ID0geyBjbGFzczogIm15LTEuNSBib3JkZXItYiBib3JkZXItdG9rZW4tYm9yZGVyLWxpZ2h0IiB9OwogIGZ1bmN0aW9uIF9zZmNfcmVuZGVyJDMoX2N0eCwgX2NhY2hlKSB7CiAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJkaXYiLCBfaG9pc3RlZF8xJDQpOwogIH0KICBjb25zdCBEaXZpZGVySXRlbSA9IC8qIEBfX1BVUkVfXyAqLyBfZXhwb3J0X3NmYyhfc2ZjX21haW4kNSwgW1sicmVuZGVyIiwgX3NmY19yZW5kZXIkM11dKTsKICBjb25zdCBfc2ZjX21haW4kNCA9IHt9OwogIGNvbnN0IF9ob2lzdGVkXzEkMyA9IHsKICAgIHdpZHRoOiAiMjAiLAogICAgaGVpZ2h0OiAiMjAiLAogICAgdmlld0JveDogIjAgMCAyMCAyMCIsCiAgICBmaWxsOiAibm9uZSIsCiAgICB4bWxuczogImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIH07CiAgY29uc3QgX2hvaXN0ZWRfMiQzID0gLyogQF9fUFVSRV9fICovIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoInBhdGgiLCB7CiAgICAiZmlsbC1ydWxlIjogImV2ZW5vZGQiLAogICAgImNsaXAtcnVsZSI6ICJldmVub2RkIiwKICAgIGQ6ICJNMTAgMkM1LjU4MTcyIDIgMiA1LjU4MTcyIDIgMTBDMiAxNC40MTgzIDUuNTgxNzIgMTggMTAgMThDMTQuNDE4MyAxOCAxOCAxNC40MTgzIDE4IDEwQzE4IDUuNTgxNzIgMTQuNDE4MyAyIDEwIDJaTTAgMTBDMCA0LjQ3NzE1IDQuNDc3MTUgMCAxMCAwQzE1LjUyMjggMCAyMCA0LjQ3NzE1IDIwIDEwQzIwIDE1LjUyMjggMTUuNTIyOCAyMCAxMCAyMEM0LjQ3NzE1IDIwIDAgMTUuNTIyOCAwIDEwWiIsCiAgICBmaWxsOiAiY3VycmVudENvbG9yIiwKICAgIG9wYWNpdHk6ICIwLjE2IgogIH0sIG51bGwsIC0xKTsKICBjb25zdCBfaG9pc3RlZF8zJDMgPSBbCiAgICBfaG9pc3RlZF8yJDMKICBdOwogIGZ1bmN0aW9uIF9zZmNfcmVuZGVyJDIoX2N0eCwgX2NhY2hlKSB7CiAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJzdmciLCBfaG9pc3RlZF8xJDMsIF9ob2lzdGVkXzMkMyk7CiAgfQogIGNvbnN0IENpcmNsZUljb24gPSAvKiBAX19QVVJFX18gKi8gX2V4cG9ydF9zZmMoX3NmY19tYWluJDQsIFtbInJlbmRlciIsIF9zZmNfcmVuZGVyJDJdXSk7CiAgY29uc3QgX3NmY19tYWluJDMgPSB7fTsKICBjb25zdCBfaG9pc3RlZF8xJDIgPSB7CiAgICB3aWR0aDogIjIwIiwKICAgIGhlaWdodDogIjIwIiwKICAgIHZpZXdCb3g6ICIwIDAgMjAgMjAiLAogICAgZmlsbDogIm5vbmUiLAogICAgeG1sbnM6ICJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICB9OwogIGNvbnN0IF9ob2lzdGVkXzIkMiA9IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJwYXRoIiwgewogICAgImZpbGwtcnVsZSI6ICJldmVub2RkIiwKICAgICJjbGlwLXJ1bGUiOiAiZXZlbm9kZCIsCiAgICBkOiAiTTAgMTBDMCA0LjQ3NzE1IDQuNDc3MTUgMCAxMCAwQzE1LjUyMjggMCAyMCA0LjQ3NzE1IDIwIDEwQzIwIDE1LjUyMjggMTUuNTIyOCAyMCAxMCAyMEM0LjQ3NzE1IDIwIDAgMTUuNTIyOCAwIDEwWk0xNC4wNzU1IDUuOTMyMTlDMTQuNTI3MiA2LjI1MDAzIDE0LjYzNTYgNi44NzM4MyAxNC4zMTc4IDcuMzI1NDlMOS41Njc4MSAxNC4wNzU1QzkuMzkzMTQgMTQuMzIzNyA5LjExNTE5IDE0LjQ3OTIgOC44MTIyNiAxNC40OTgxQzguNTA5MzQgMTQuNTE3IDguMjE0MjIgMTQuMzk3MyA4LjAxMDA2IDE0LjE3MjdMNS41MTAwNiAxMS40MjI3QzUuMTM4NTUgMTEuMDE0IDUuMTY4NjcgMTAuMzgxNiA1LjU3NzMzIDEwLjAxMDFDNS45ODU5OCA5LjYzODU1IDYuNjE4NDMgOS42Njg2NyA2Ljk4OTk0IDEwLjA3NzNMOC42NTA0MiAxMS45MDM5TDEyLjY4MjIgNi4xNzQ1MUMxMyA1LjcyMjg0IDEzLjYyMzggNS42MTQzNiAxNC4wNzU1IDUuOTMyMTlaIiwKICAgIGZpbGw6ICJjdXJyZW50Q29sb3IiCiAgfSwgbnVsbCwgLTEpOwogIGNvbnN0IF9ob2lzdGVkXzMkMiA9IFsKICAgIF9ob2lzdGVkXzIkMgogIF07CiAgZnVuY3Rpb24gX3NmY19yZW5kZXIkMShfY3R4LCBfY2FjaGUpIHsKICAgIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soInN2ZyIsIF9ob2lzdGVkXzEkMiwgX2hvaXN0ZWRfMyQyKTsKICB9CiAgY29uc3QgQ2lyY2xlQ2hlY2tJY29uID0gLyogQF9fUFVSRV9fICovIF9leHBvcnRfc2ZjKF9zZmNfbWFpbiQzLCBbWyJyZW5kZXIiLCBfc2ZjX3JlbmRlciQxXV0pOwogIGNvbnN0IF9ob2lzdGVkXzEkMSA9IHsgY2xhc3M6ICJmbGV4IGdyb3cgaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBnYXAtMiIgfTsKICBjb25zdCBfaG9pc3RlZF8yJDEgPSB7IGNsYXNzOiAiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMiIH07CiAgY29uc3QgX2hvaXN0ZWRfMyQxID0geyBjbGFzczogInRleHQtdG9rZW4tdGV4dC10ZXJ0aWFyeSIgfTsKICBjb25zdCBfc2ZjX21haW4kMiA9IHsKICAgIF9fbmFtZTogIk1vZGVsSXRlbSIsCiAgICBwcm9wczogewogICAgICB0aXRsZTogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICB9LAogICAgICBkZXNjcmlwdGlvbjogewogICAgICAgIHR5cGU6IFN0cmluZywKICAgICAgICByZXF1aXJlZDogdHJ1ZQogICAgICB9LAogICAgICBpc1NlbGVjdGVkOiB7CiAgICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgICBkZWZhdWx0OiBmYWxzZQogICAgICB9CiAgICB9LAogICAgc2V0dXAoX19wcm9wcykgewogICAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gewogICAgICAgIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2soImRpdiIsIHsKICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJmbGV4IGdhcC0yIG0tMS41IHJvdW5kZWQgcC0yLjUgdGV4dC1zbSBjdXJzb3ItcG9pbnRlciBmb2N1czpyaW5nLTAgaG92ZXI6YmctdG9rZW4tbWFpbi1zdXJmYWNlLXNlY29uZGFyeSByYWRpeC1kaXNhYmxlZDpwb2ludGVyLWV2ZW50cy1ub25lIHJhZGl4LWRpc2FibGVkOm9wYWNpdHktNTAgZ3JvdXAgIXByLTMiLCB7ICIhb3BhY2l0eS0xMDAiOiBfX3Byb3BzLmlzU2VsZWN0ZWQgfV0pCiAgICAgICAgfSwgWwogICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSQxLCBbCiAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIG51bGwsIFsKICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJkaXYiLCBfaG9pc3RlZF8yJDEsIFsKICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIG51bGwsIFsKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVRleHRWTm9kZSh2dWUudG9EaXNwbGF5U3RyaW5nKF9fcHJvcHMudGl0bGUpICsgIiAiLCAxKSwKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZUVsZW1lbnRWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMyQxLCB2dWUudG9EaXNwbGF5U3RyaW5nKF9fcHJvcHMuZGVzY3JpcHRpb24pLCAxKQogICAgICAgICAgICAgICAgXSkKICAgICAgICAgICAgICBdKQogICAgICAgICAgICBdKSwKICAgICAgICAgICAgKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKHZ1ZS5yZXNvbHZlRHluYW1pY0NvbXBvbmVudChfX3Byb3BzLmlzU2VsZWN0ZWQgPyBDaXJjbGVDaGVja0ljb24gOiBDaXJjbGVJY29uKSwgeyBjbGFzczogImljb24tbWQgZmxleC1zaHJpbmstMCIgfSkpCiAgICAgICAgICBdKQogICAgICAgIF0sIDIpOwogICAgICB9OwogICAgfQogIH07CiAgY29uc3QgX3NmY19tYWluJDEgPSB7fTsKICBjb25zdCBfaG9pc3RlZF8xID0gewogICAgd2lkdGg6ICIxNiIsCiAgICBoZWlnaHQ6ICIxNyIsCiAgICB2aWV3Qm94OiAiMCAwIDE2IDE3IiwKICAgIGZpbGw6ICJub25lIgogIH07CiAgY29uc3QgX2hvaXN0ZWRfMiA9IC8qIEBfX1BVUkVfXyAqLyB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJwYXRoIiwgewogICAgZDogIk0xMS4zMzQ2IDcuODMyMDNMOC4wMDEzMSAxMS4xNjU0TDQuNjY3OTcgNy44MzIwMyIsCiAgICBzdHJva2U6ICJjdXJyZW50Q29sb3IiLAogICAgInN0cm9rZS13aWR0aCI6ICIyIiwKICAgICJzdHJva2UtbGluZWNhcCI6ICJyb3VuZCIsCiAgICAic3Ryb2tlLWxpbmVqb2luIjogInJvdW5kIgogIH0sIG51bGwsIC0xKTsKICBjb25zdCBfaG9pc3RlZF8zID0gWwogICAgX2hvaXN0ZWRfMgogIF07CiAgZnVuY3Rpb24gX3NmY19yZW5kZXIoX2N0eCwgX2NhY2hlKSB7CiAgICByZXR1cm4gdnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKCJzdmciLCBfaG9pc3RlZF8xLCBfaG9pc3RlZF8zKTsKICB9CiAgY29uc3QgQ2hldnJvbkRvd25JY29uID0gLyogQF9fUFVSRV9fICovIF9leHBvcnRfc2ZjKF9zZmNfbWFpbiQxLCBbWyJyZW5kZXIiLCBfc2ZjX3JlbmRlcl1dKTsKICBjb25zdCBleHRyYU1vZGVscyA9IFsKICAgIHsKICAgICAgc2x1ZzogInRleHQtZGF2aW5jaS0wMDItcmVuZGVyLXNoYS1tb2JpbGUiLAogICAgICB0aXRsZTogIkdQVC0zLjUgKE1vYmlsZSkiLAogICAgICBkZXNjcmlwdGlvbjogIkFuIGV4cGVyaW1lbnRhbCBtb2RlbCB0aGF0IGRvZXMgbm90IGd1YXJhbnRlZSB1c2FiaWxpdHkiLAogICAgICB0YWdzOiBbImdwdDMuNSIsICJtb2JpbGUiLCAidW5vZmZpY2lhbCJdCiAgICB9LAogICAgewogICAgICBzbHVnOiAiZ3B0LTQtbW9iaWxlIiwKICAgICAgdGl0bGU6ICJHUFQtNCAoTW9iaWxlKSIsCiAgICAgIGRlc2NyaXB0aW9uOiAiQW4gZXhwZXJpbWVudGFsIG1vZGVsIHRoYXQgZG9lcyBub3QgZ3VhcmFudGVlIHVzYWJpbGl0eSIsCiAgICAgIHRhZ3M6IFsiZ3B0NCIsICJtb2JpbGUiLCAidW5vZmZpY2lhbCJdCiAgICB9CiAgXTsKICBjb25zdCBtb2RlbHMgPSB2dWUucmVhY3RpdmUoewogICAgYWxsOiBbXSwKICAgIHVwZGF0ZShuZXdNb2RlbHMpIHsKICAgICAgdGhpcy5hbGwgPSBuZXdNb2RlbHMuY29uY2F0KAogICAgICAgIGV4dHJhTW9kZWxzLmZpbHRlcigKICAgICAgICAgIChtb2RlbCkgPT4gbmV3TW9kZWxzLnNvbWUoKG0pID0+IG0udGFncy5pbmNsdWRlcygiZ3B0NCIpKSB8fCAhbW9kZWwudGFncy5pbmNsdWRlcygiZ3B0NCIpCiAgICAgICAgKQogICAgICApOwogICAgfQogIH0pOwogIGNvbnN0IExPQ0FMX1NUT1JBR0VfS0VZID0gImdpdGh1Yi5jb20vaHlkcm90aG8vQ2hhdEdQVF9Nb2RlbF9Td2l0Y2hlciI7CiAgZnVuY3Rpb24gZ2V0SW5pdGlhbFN0YXRlKCkgewogICAgY29uc3QgZGVmYXVsdFN0YXRlID0gewogICAgICBpc0VuYWJsZWQ6IGZhbHNlLAogICAgICBzZWxlY3RlZE1vZGVsU2x1ZzogInRleHQtZGF2aW5jaS0wMDItcmVuZGVyLXNoYSIKICAgIH07CiAgICB0cnkgewogICAgICBjb25zdCBzYXZlZFN0YXRlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVkpOwogICAgICBpZiAoc2F2ZWRTdGF0ZSkgewogICAgICAgIHJldHVybiBKU09OLnBhcnNlKHNhdmVkU3RhdGUpOwogICAgICB9CiAgICB9IGNhdGNoIChlcnJvcikgewogICAgICBjb25zb2xlLndhcm4oCiAgICAgICAgIltDaGF0R1BUX01vZGVsX1N3aXRjaGVyXSIsCiAgICAgICAgIkZhaWxlZCB0byByZXN0b3JlIHN0YXRlIGZyb20gbG9jYWxTdG9yYWdlLCBmYWxsaW5nIGJhY2sgdG8gZGVmYXVsdCBzdGF0ZSIKICAgICAgKTsKICAgIH0KICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKExPQ0FMX1NUT1JBR0VfS0VZLCBKU09OLnN0cmluZ2lmeShkZWZhdWx0U3RhdGUpKTsKICAgIHJldHVybiBkZWZhdWx0U3RhdGU7CiAgfQogIGNvbnN0IHN0YXRlID0gdnVlLnJlYWN0aXZlKGdldEluaXRpYWxTdGF0ZSgpKTsKICB2dWUud2F0Y2goc3RhdGUsIChuZXdTdGF0ZSkgPT4gewogICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oTE9DQUxfU1RPUkFHRV9LRVksIEpTT04uc3RyaW5naWZ5KG5ld1N0YXRlKSk7CiAgfSk7CiAgY29uc3QgX3NmY19tYWluID0gewogICAgX19uYW1lOiAiQXBwIiwKICAgIHNldHVwKF9fcHJvcHMpIHsKICAgICAgY29uc3QgYW5jaG9yUG9wb3ZlclBhbmVsID0gdnVlLnJlZigpOwogICAgICBjb25zdCBzdHlsZVBvcG92ZXJQYW5lbCA9IHZ1ZS5yZWYoKTsKICAgICAgY29uc3QgZ3JvdXBlZE1vZGVscyA9IHZ1ZS5jb21wdXRlZCgoKSA9PiB7CiAgICAgICAgcmV0dXJuIFsKICAgICAgICAgIG1vZGVscy5hbGwuZmlsdGVyKAogICAgICAgICAgICAobW9kZWwpID0+IG1vZGVsLnRhZ3MuaW5jbHVkZXMoImdwdDMuNSIpICYmICFtb2RlbC50YWdzLmluY2x1ZGVzKCJ1bm9mZmljaWFsIikKICAgICAgICAgICksCiAgICAgICAgICBtb2RlbHMuYWxsLmZpbHRlcigobW9kZWwpID0+IG1vZGVsLnRhZ3MuaW5jbHVkZXMoImdwdDQiKSAmJiAhbW9kZWwudGFncy5pbmNsdWRlcygidW5vZmZpY2lhbCIpKSwKICAgICAgICAgIG1vZGVscy5hbGwuZmlsdGVyKChtb2RlbCkgPT4gbW9kZWwudGFncy5pbmNsdWRlcygidW5vZmZpY2lhbCIpKQogICAgICAgIF0uZmlsdGVyKChncm91cCkgPT4gZ3JvdXAubGVuZ3RoID4gMCk7CiAgICAgIH0pOwogICAgICBjb25zdCBzZWxlY3RNb2RlbCA9IChzbHVnKSA9PiB7CiAgICAgICAgc3RhdGUuc2VsZWN0ZWRNb2RlbFNsdWcgPSBzbHVnOwogICAgICB9OwogICAgICB2dWUub25Nb3VudGVkKGFzeW5jICgpID0+IHsKICAgICAgICBjb25zdCByZWN0ID0gYW5jaG9yUG9wb3ZlclBhbmVsLnZhbHVlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpOwogICAgICAgIHN0eWxlUG9wb3ZlclBhbmVsLnZhbHVlID0gewogICAgICAgICAgcG9zaXRpb246ICJmaXhlZCIsCiAgICAgICAgICByaWdodDogYCR7ZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoIC0gcmVjdC5yaWdodH1weGAsCiAgICAgICAgICB0b3A6IGAke3JlY3QuYm90dG9tfXB4YAogICAgICAgIH07CiAgICAgIH0pOwogICAgICByZXR1cm4gKF9jdHgsIF9jYWNoZSkgPT4gewogICAgICAgIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2sodnVlLkZyYWdtZW50LCBudWxsLCBbCiAgICAgICAgICB2dWUuY3JlYXRlVk5vZGUodnVlLnVucmVmKFN3aXRjaCksIHsKICAgICAgICAgICAgbW9kZWxWYWx1ZTogdnVlLnVucmVmKHN0YXRlKS5pc0VuYWJsZWQsCiAgICAgICAgICAgICJvblVwZGF0ZTptb2RlbFZhbHVlIjogX2NhY2hlWzBdIHx8IChfY2FjaGVbMF0gPSAoJGV2ZW50KSA9PiB2dWUudW5yZWYoc3RhdGUpLmlzRW5hYmxlZCA9ICRldmVudCksCiAgICAgICAgICAgIGNsYXNzOiB2dWUubm9ybWFsaXplQ2xhc3MoWyJjdXJzb3ItcG9pbnRlciByZWxhdGl2ZSBzaHJpbmstMCByb3VuZGVkLWZ1bGwgaC1bMjBweF0gdy1bMzJweF0iLCB2dWUudW5yZWYoc3RhdGUpLmlzRW5hYmxlZCA/ICJiZy1ncmVlbi02MDAiIDogImJnLWdyYXktMjAwIl0pCiAgICAgICAgICB9LCB7CiAgICAgICAgICAgIGRlZmF1bHQ6IHZ1ZS53aXRoQ3R4KCgpID0+IFsKICAgICAgICAgICAgICB2dWUuY3JlYXRlRWxlbWVudFZOb2RlKCJzcGFuIiwgewogICAgICAgICAgICAgICAgY2xhc3M6ICJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciByb3VuZGVkLWZ1bGwgdHJhbnNpdGlvbi10cmFuc2Zvcm0gZHVyYXRpb24tMTAwIHdpbGwtY2hhbmdlLXRyYW5zZm9ybSBiZy13aGl0ZSBzaGFkb3ctWzBfMXB4XzJweF9yZ2JhKDAsMCwwLDAuNDUpXSBoLVsxNnB4XSB3LVsxNnB4XSIsCiAgICAgICAgICAgICAgICBzdHlsZTogdnVlLm5vcm1hbGl6ZVN0eWxlKHZ1ZS51bnJlZihzdGF0ZSkuaXNFbmFibGVkID8gInRyYW5zZm9ybTogdHJhbnNsYXRlWCgxNHB4KSIgOiAidHJhbnNmb3JtOiB0cmFuc2xhdGVYKDAuMTI1cmVtKSIpCiAgICAgICAgICAgICAgfSwgbnVsbCwgNCkKICAgICAgICAgICAgXSksCiAgICAgICAgICAgIF86IDEKICAgICAgICAgIH0sIDgsIFsibW9kZWxWYWx1ZSIsICJjbGFzcyJdKSwKICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZSh2dWUudW5yZWYoUG9wb3ZlciksIHsgY2xhc3M6ICJyZWxhdGl2ZSIgfSwgewogICAgICAgICAgICBkZWZhdWx0OiB2dWUud2l0aEN0eCgoKSA9PiBbCiAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKHZ1ZS51bnJlZihQb3BvdmVyQnV0dG9uKSwgeyBjbGFzczogImdyb3VwIGZsZXggY3Vyc29yLXBvaW50ZXIgaXRlbXMtY2VudGVyIGdhcC0xIHJvdW5kZWQteGwgcHktMiBweC0zIHRleHQtbGcgZm9udC1tZWRpdW0gaG92ZXI6YmctdG9rZW4tbWFpbi1zdXJmYWNlLXNlY29uZGFyeSIgfSwgewogICAgICAgICAgICAgICAgZGVmYXVsdDogdnVlLndpdGhDdHgoKCkgPT4gWwogICAgICAgICAgICAgICAgICB2dWUuY3JlYXRlVGV4dFZOb2RlKCIgQ2hhdEdQVCBNb2RlbCBTd2l0Y2hlciAiKSwKICAgICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKENoZXZyb25Eb3duSWNvbiwgeyBjbGFzczogInRleHQtdG9rZW4tdGV4dC10ZXJ0aWFyeSIgfSkKICAgICAgICAgICAgICAgIF0pLAogICAgICAgICAgICAgICAgXzogMQogICAgICAgICAgICAgIH0pLAogICAgICAgICAgICAgIHZ1ZS5jcmVhdGVFbGVtZW50Vk5vZGUoImRpdiIsIHsKICAgICAgICAgICAgICAgIHJlZl9rZXk6ICJhbmNob3JQb3BvdmVyUGFuZWwiLAogICAgICAgICAgICAgICAgcmVmOiBhbmNob3JQb3BvdmVyUGFuZWwsCiAgICAgICAgICAgICAgICBjbGFzczogImFic29sdXRlIHJpZ2h0LTAiCiAgICAgICAgICAgICAgfSwgbnVsbCwgNTEyKSwKICAgICAgICAgICAgICAodnVlLm9wZW5CbG9jaygpLCB2dWUuY3JlYXRlQmxvY2sodnVlLlRlbGVwb3J0LCB7IHRvOiAiYm9keSIgfSwgWwogICAgICAgICAgICAgICAgdnVlLmNyZWF0ZVZOb2RlKHZ1ZS5UcmFuc2l0aW9uLCB7CiAgICAgICAgICAgICAgICAgICJlbnRlci1hY3RpdmUtY2xhc3MiOiAidHJhbnNpdGlvbiBkdXJhdGlvbi0yMDAgZWFzZS1vdXQiLAogICAgICAgICAgICAgICAgICAiZW50ZXItZnJvbS1jbGFzcyI6ICJ0cmFuc2xhdGUteS0xIG9wYWNpdHktMCIsCiAgICAgICAgICAgICAgICAgICJlbnRlci10by1jbGFzcyI6ICJ0cmFuc2xhdGUteS0wIG9wYWNpdHktMTAwIiwKICAgICAgICAgICAgICAgICAgImxlYXZlLWFjdGl2ZS1jbGFzcyI6ICJ0cmFuc2l0aW9uIGR1cmF0aW9uLTE1MCBlYXNlLWluIiwKICAgICAgICAgICAgICAgICAgImxlYXZlLWZyb20tY2xhc3MiOiAidHJhbnNsYXRlLXktMCBvcGFjaXR5LTEwMCIsCiAgICAgICAgICAgICAgICAgICJsZWF2ZS10by1jbGFzcyI6ICJ0cmFuc2xhdGUteS0xIG9wYWNpdHktMCIKICAgICAgICAgICAgICAgIH0sIHsKICAgICAgICAgICAgICAgICAgZGVmYXVsdDogdnVlLndpdGhDdHgoKCkgPT4gWwogICAgICAgICAgICAgICAgICAgIHZ1ZS5jcmVhdGVWTm9kZSh2dWUudW5yZWYoUG9wb3ZlclBhbmVsKSwgewogICAgICAgICAgICAgICAgICAgICAgY2xhc3M6ICJwb3BvdmVyIG10LTIgbWluLXctWzM0MHB4XSBtYXgtdy14cyBvdmVyZmxvdy1oaWRkZW4gcm91bmRlZC1sZyBib3JkZXIgYm9yZGVyLXRva2VuLWJvcmRlci1saWdodCBiZy10b2tlbi1tYWluLXN1cmZhY2UtcHJpbWFyeSBzaGFkb3ctbGciLAogICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHZ1ZS5ub3JtYWxpemVTdHlsZShzdHlsZVBvcG92ZXJQYW5lbC52YWx1ZSkKICAgICAgICAgICAgICAgICAgICB9LCB7CiAgICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiB2dWUud2l0aEN0eCgoKSA9PiBbCiAgICAgICAgICAgICAgICAgICAgICAgICh2dWUub3BlbkJsb2NrKHRydWUpLCB2dWUuY3JlYXRlRWxlbWVudEJsb2NrKHZ1ZS5GcmFnbWVudCwgbnVsbCwgdnVlLnJlbmRlckxpc3QoZ3JvdXBlZE1vZGVscy52YWx1ZSwgKGdyb3VwLCBpbmRleCkgPT4gewogICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2dWUub3BlbkJsb2NrKCksIHZ1ZS5jcmVhdGVFbGVtZW50QmxvY2sodnVlLkZyYWdtZW50LCBudWxsLCBbCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAodnVlLm9wZW5CbG9jayh0cnVlKSwgdnVlLmNyZWF0ZUVsZW1lbnRCbG9jayh2dWUuRnJhZ21lbnQsIG51bGwsIHZ1ZS5yZW5kZXJMaXN0KGdyb3VwLCAobW9kZWwpID0+IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKF9zZmNfbWFpbiQyLCB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5OiBtb2RlbC5zbHVnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBtb2RlbC50aXRsZSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogbW9kZWwuZGVzY3JpcHRpb24sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZDogbW9kZWwuc2x1ZyA9PT0gdnVlLnVucmVmKHN0YXRlKS5zZWxlY3RlZE1vZGVsU2x1ZywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrOiAoJGV2ZW50KSA9PiBzZWxlY3RNb2RlbChtb2RlbC5zbHVnKQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LCBudWxsLCA4LCBbInRpdGxlIiwgImRlc2NyaXB0aW9uIiwgImlzU2VsZWN0ZWQiLCAib25DbGljayJdKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCAxMjgpKSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4IDwgZ3JvdXBlZE1vZGVscy52YWx1ZS5sZW5ndGggLSAxID8gKHZ1ZS5vcGVuQmxvY2soKSwgdnVlLmNyZWF0ZUJsb2NrKERpdmlkZXJJdGVtLCB7IGtleTogaW5kZXggfSkpIDogdnVlLmNyZWF0ZUNvbW1lbnRWTm9kZSgiIiwgdHJ1ZSkKICAgICAgICAgICAgICAgICAgICAgICAgICBdLCA2NCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0pLCAyNTYpKQogICAgICAgICAgICAgICAgICAgICAgXSksCiAgICAgICAgICAgICAgICAgICAgICBfOiAxCiAgICAgICAgICAgICAgICAgICAgfSwgOCwgWyJzdHlsZSJdKQogICAgICAgICAgICAgICAgICBdKSwKICAgICAgICAgICAgICAgICAgXzogMQogICAgICAgICAgICAgICAgfSkKICAgICAgICAgICAgICBdKSkKICAgICAgICAgICAgXSksCiAgICAgICAgICAgIF86IDEKICAgICAgICAgIH0pCiAgICAgICAgXSwgNjQpOwogICAgICB9OwogICAgfQogIH07CiAgbGV0IGFwcCA9IG51bGw7CiAgZnVuY3Rpb24gbW91bnRBcHAobW91bnRQb2ludCkgewogICAgaWYgKGFwcCkgewogICAgICBhcHAudW5tb3VudCgpOwogICAgICBhcHAgPSBudWxsOwogICAgfQogICAgY29uc3Qgcm9vdENvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImRpdiIpOwogICAgcm9vdENvbnRhaW5lci5jbGFzc05hbWUgPSAiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTIiOwogICAgcm9vdENvbnRhaW5lci5pZCA9ICJjaGF0Z3B0LW1vZGVsLXN3aXRjaGVyIjsKICAgIGNvbnN0IHdyYXBwZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKTsKICAgIHdyYXBwZXIuY2xhc3NOYW1lID0gImZsZXggZ2FwLTIgcHItMSI7CiAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHJvb3RDb250YWluZXIpOwogICAgd3JhcHBlci5hcHBlbmRDaGlsZChtb3VudFBvaW50LnJlbW92ZUNoaWxkKG1vdW50UG9pbnQubGFzdENoaWxkKSk7CiAgICBtb3VudFBvaW50LmFwcGVuZENoaWxkKHdyYXBwZXIpOwogICAgYXBwID0gdnVlLmNyZWF0ZUFwcChfc2ZjX21haW4pOwogICAgYXBwLm1vdW50KHJvb3RDb250YWluZXIpOwogIH0KICBuZXcgTXV0YXRpb25PYnNlcnZlcigobXV0YXRpb25zKSA9PiB7CiAgICBmb3IgKGNvbnN0IG11dGF0aW9uIG9mIG11dGF0aW9ucykgewogICAgICBpZiAobXV0YXRpb24udHlwZSA9PT0gImNoaWxkTGlzdCIpIHsKICAgICAgICBjb25zdCBtb3VudFBvaW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcigibWFpbiBkaXYuc3RpY2t5Iik7CiAgICAgICAgaWYgKG1vdW50UG9pbnQgJiYgQXJyYXkuZnJvbShtb3VudFBvaW50LmNoaWxkTm9kZXMpLnNvbWUoKGNoaWxkKSA9PiBjaGlsZC5oYXNDaGlsZE5vZGVzKCkpICYmICFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiY2hhdGdwdC1tb2RlbC1zd2l0Y2hlciIpKSB7CiAgICAgICAgICBtb3VudEFwcChtb3VudFBvaW50KTsKICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgfQogICAgfQogIH0pLm9ic2VydmUoZG9jdW1lbnQuYm9keSwgewogICAgc3VidHJlZTogdHJ1ZSwKICAgIGNoaWxkTGlzdDogdHJ1ZQogIH0pOwogIGNvbnN0IENPTlZFUlNBVElPTl9BUElfVVJMID0gIi9iYWNrZW5kLWFwaS9jb252ZXJzYXRpb24iOwogIGNvbnN0IE1PREVMU19BUElfVVJMID0gIi9iYWNrZW5kLWFwaS9tb2RlbHMiOwogIGFzeW5jIGZ1bmN0aW9uIGhhbmRsZU1vZGVsc0FwaShmZXRjaFByb21pc2UpIHsKICAgIHJldHVybiBmZXRjaFByb21pc2UudGhlbihhc3luYyAocmVzcG9uc2UpID0+IHsKICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7CiAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmNsb25lKCkuanNvbigpOwogICAgICAgIG1vZGVscy51cGRhdGUoZGF0YS5tb2RlbHMpOwogICAgICB9CiAgICAgIHJldHVybiByZXNwb25zZTsKICAgIH0pOwogIH0KICB3aW5kb3cuZmV0Y2ggPSBuZXcgUHJveHkod2luZG93LmZldGNoLCB7CiAgICBhcHBseTogYXN5bmMgZnVuY3Rpb24odGFyZ2V0LCB0aGF0LCBhcmdzKSB7CiAgICAgIGxldCByZXNvdXJjZSA9IGFyZ3NbMF07CiAgICAgIGxldCBvcHRpb25zID0gYXJnc1sxXTsKICAgICAgaWYgKHN0YXRlLmlzRW5hYmxlZCAmJiByZXNvdXJjZS5lbmRzV2l0aChDT05WRVJTQVRJT05fQVBJX1VSTCkgJiYgb3B0aW9ucy5tZXRob2QgPT09ICJQT1NUIikgewogICAgICAgIGNvbnN0IHJlcXVlc3RCb2R5ID0gSlNPTi5wYXJzZShvcHRpb25zLmJvZHkpOwogICAgICAgIHJlcXVlc3RCb2R5Lm1vZGVsID0gc3RhdGUuc2VsZWN0ZWRNb2RlbFNsdWc7CiAgICAgICAgb3B0aW9ucyA9IHsgLi4ub3B0aW9ucywgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxdWVzdEJvZHkpIH07CiAgICAgICAgYXJnc1swXSA9IHJlc291cmNlOwogICAgICAgIGFyZ3NbMV0gPSBvcHRpb25zOwogICAgICB9CiAgICAgIGNvbnN0IGZldGNoUHJvbWlzZSA9IFJlZmxlY3QuYXBwbHkodGFyZ2V0LCB0aGF0LCBhcmdzKTsKICAgICAgaWYgKHJlc291cmNlLmluY2x1ZGVzKE1PREVMU19BUElfVVJMKSAmJiBvcHRpb25zLm1ldGhvZCA9PT0gIkdFVCIpIHsKICAgICAgICByZXR1cm4gaGFuZGxlTW9kZWxzQXBpKGZldGNoUHJvbWlzZSk7CiAgICAgIH0KICAgICAgcmV0dXJuIGZldGNoUHJvbWlzZTsKICAgIH0KICB9KTsKCn0pKFZ1ZSk7","requires":[{"meta":{"name":"vue.global.prod.js","url":"https://cdn.jsdelivr.net/npm/vue@3.4.21/dist/vue.global.prod.js#sha256-SWMQFEHe1+QgwFZl58YWsvLjhRyZ4c+K+E0p1vEOd9o=","sri":{"type":"sha256","value":"4963101441ded7e420c05665e7c616b2f2e3851c99e1cf8af84d29d6f10e77da"},"ts":1713950301647,"mimetype":"text/javascript"},"source":"LyoqCiogdnVlIHYzLjQuMjEKKiAoYykgMjAxOC1wcmVzZW50IFl1eGkgKEV2YW4pIFlvdSBhbmQgVnVlIGNvbnRyaWJ1dG9ycwoqIEBsaWNlbnNlIE1JVAoqKi8KdmFyIFZ1ZT1mdW5jdGlvbihlKXsidXNlIHN0cmljdCI7ZnVuY3Rpb24gdChlLHQpe2NvbnN0IG49bmV3IFNldChlLnNwbGl0KCIsIikpO3JldHVybiB0P2U9Pm4uaGFzKGUudG9Mb3dlckNhc2UoKSk6ZT0+bi5oYXMoZSl9Y29uc3Qgbj17fSxzPVtdLG89KCk9Pnt9LHI9KCk9PiExLGk9ZT0+MTExPT09ZS5jaGFyQ29kZUF0KDApJiYxMTA9PT1lLmNoYXJDb2RlQXQoMSkmJihlLmNoYXJDb2RlQXQoMik+MTIyfHxlLmNoYXJDb2RlQXQoMik8OTcpLGw9ZT0+ZS5zdGFydHNXaXRoKCJvblVwZGF0ZToiKSxjPU9iamVjdC5hc3NpZ24sYT0oZSx0KT0+e2NvbnN0IG49ZS5pbmRleE9mKHQpO24+LTEmJmUuc3BsaWNlKG4sMSl9LHU9T2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eSxkPShlLHQpPT51LmNhbGwoZSx0KSxwPUFycmF5LmlzQXJyYXksaD1lPT4iW29iamVjdCBNYXBdIj09PXgoZSksZj1lPT4iW29iamVjdCBTZXRdIj09PXgoZSksbT1lPT4iW29iamVjdCBEYXRlXSI9PT14KGUpLGc9ZT0+ImZ1bmN0aW9uIj09dHlwZW9mIGUsdj1lPT4ic3RyaW5nIj09dHlwZW9mIGUseT1lPT4ic3ltYm9sIj09dHlwZW9mIGUsYj1lPT5udWxsIT09ZSYmIm9iamVjdCI9PXR5cGVvZiBlLF89ZT0+KGIoZSl8fGcoZSkpJiZnKGUudGhlbikmJmcoZS5jYXRjaCksUz1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLHg9ZT0+Uy5jYWxsKGUpLEM9ZT0+eChlKS5zbGljZSg4LC0xKSxrPWU9PiJbb2JqZWN0IE9iamVjdF0iPT09eChlKSxUPWU9PnYoZSkmJiJOYU4iIT09ZSYmIi0iIT09ZVswXSYmIiIrcGFyc2VJbnQoZSwxMCk9PT1lLHc9dCgiLGtleSxyZWYscmVmX2ZvcixyZWZfa2V5LG9uVm5vZGVCZWZvcmVNb3VudCxvblZub2RlTW91bnRlZCxvblZub2RlQmVmb3JlVXBkYXRlLG9uVm5vZGVVcGRhdGVkLG9uVm5vZGVCZWZvcmVVbm1vdW50LG9uVm5vZGVVbm1vdW50ZWQiKSxFPXQoImJpbmQsY2xvYWssZWxzZS1pZixlbHNlLGZvcixodG1sLGlmLG1vZGVsLG9uLG9uY2UscHJlLHNob3csc2xvdCx0ZXh0LG1lbW8iKSxOPWU9Pntjb25zdCB0PU9iamVjdC5jcmVhdGUobnVsbCk7cmV0dXJuIG49PnRbbl18fCh0W25dPWUobikpfSxBPS8tKFx3KS9nLEk9TigoZT0+ZS5yZXBsYWNlKEEsKChlLHQpPT50P3QudG9VcHBlckNhc2UoKToiIikpKSksUj0vXEIoW0EtWl0pL2csTz1OKChlPT5lLnJlcGxhY2UoUiwiLSQxIikudG9Mb3dlckNhc2UoKSkpLEw9TigoZT0+ZS5jaGFyQXQoMCkudG9VcHBlckNhc2UoKStlLnNsaWNlKDEpKSksRj1OKChlPT5lP2BvbiR7TChlKX1gOiIiKSksTT0oZSx0KT0+IU9iamVjdC5pcyhlLHQpLFA9KGUsdCk9Pntmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyllW25dKHQpfSwkPShlLHQsbik9PntPYmplY3QuZGVmaW5lUHJvcGVydHkoZSx0LHtjb25maWd1cmFibGU6ITAsZW51bWVyYWJsZTohMSx2YWx1ZTpufSl9LEI9ZT0+e2NvbnN0IHQ9cGFyc2VGbG9hdChlKTtyZXR1cm4gaXNOYU4odCk/ZTp0fSxWPWU9Pntjb25zdCB0PXYoZSk/TnVtYmVyKGUpOk5hTjtyZXR1cm4gaXNOYU4odCk/ZTp0fTtsZXQgRDtjb25zdCBVPSgpPT5EfHwoRD0idW5kZWZpbmVkIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczoidW5kZWZpbmVkIiE9dHlwZW9mIHNlbGY/c2VsZjoidW5kZWZpbmVkIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6InVuZGVmaW5lZCIhPXR5cGVvZiBnbG9iYWw/Z2xvYmFsOnt9KSxqPXQoIkluZmluaXR5LHVuZGVmaW5lZCxOYU4saXNGaW5pdGUsaXNOYU4scGFyc2VGbG9hdCxwYXJzZUludCxkZWNvZGVVUkksZGVjb2RlVVJJQ29tcG9uZW50LGVuY29kZVVSSSxlbmNvZGVVUklDb21wb25lbnQsTWF0aCxOdW1iZXIsRGF0ZSxBcnJheSxPYmplY3QsQm9vbGVhbixTdHJpbmcsUmVnRXhwLE1hcCxTZXQsSlNPTixJbnRsLEJpZ0ludCxjb25zb2xlLEVycm9yIik7ZnVuY3Rpb24gSChlKXtpZihwKGUpKXtjb25zdCB0PXt9O2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXtjb25zdCBzPWVbbl0sbz12KHMpP3oocyk6SChzKTtpZihvKWZvcihjb25zdCBlIGluIG8pdFtlXT1vW2VdfXJldHVybiB0fWlmKHYoZSl8fGIoZSkpcmV0dXJuIGV9Y29uc3QgcT0vOyg/IVteKF0qXCkpL2csVz0vOihbXl0rKS8sSz0vXC9cKlteXSo/XCpcLy9nO2Z1bmN0aW9uIHooZSl7Y29uc3QgdD17fTtyZXR1cm4gZS5yZXBsYWNlKEssIiIpLnNwbGl0KHEpLmZvckVhY2goKGU9PntpZihlKXtjb25zdCBuPWUuc3BsaXQoVyk7bi5sZW5ndGg+MSYmKHRbblswXS50cmltKCldPW5bMV0udHJpbSgpKX19KSksdH1mdW5jdGlvbiBHKGUpe2xldCB0PSIiO2lmKHYoZSkpdD1lO2Vsc2UgaWYocChlKSlmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3Qgcz1HKGVbbl0pO3MmJih0Kz1zKyIgIil9ZWxzZSBpZihiKGUpKWZvcihjb25zdCBuIGluIGUpZVtuXSYmKHQrPW4rIiAiKTtyZXR1cm4gdC50cmltKCl9Y29uc3QgSj10KCJodG1sLGJvZHksYmFzZSxoZWFkLGxpbmssbWV0YSxzdHlsZSx0aXRsZSxhZGRyZXNzLGFydGljbGUsYXNpZGUsZm9vdGVyLGhlYWRlcixoZ3JvdXAsaDEsaDIsaDMsaDQsaDUsaDYsbmF2LHNlY3Rpb24sZGl2LGRkLGRsLGR0LGZpZ2NhcHRpb24sZmlndXJlLHBpY3R1cmUsaHIsaW1nLGxpLG1haW4sb2wscCxwcmUsdWwsYSxiLGFiYnIsYmRpLGJkbyxicixjaXRlLGNvZGUsZGF0YSxkZm4sZW0saSxrYmQsbWFyayxxLHJwLHJ0LHJ1YnkscyxzYW1wLHNtYWxsLHNwYW4sc3Ryb25nLHN1YixzdXAsdGltZSx1LHZhcix3YnIsYXJlYSxhdWRpbyxtYXAsdHJhY2ssdmlkZW8sZW1iZWQsb2JqZWN0LHBhcmFtLHNvdXJjZSxjYW52YXMsc2NyaXB0LG5vc2NyaXB0LGRlbCxpbnMsY2FwdGlvbixjb2wsY29sZ3JvdXAsdGFibGUsdGhlYWQsdGJvZHksdGQsdGgsdHIsYnV0dG9uLGRhdGFsaXN0LGZpZWxkc2V0LGZvcm0saW5wdXQsbGFiZWwsbGVnZW5kLG1ldGVyLG9wdGdyb3VwLG9wdGlvbixvdXRwdXQscHJvZ3Jlc3Msc2VsZWN0LHRleHRhcmVhLGRldGFpbHMsZGlhbG9nLG1lbnUsc3VtbWFyeSx0ZW1wbGF0ZSxibG9ja3F1b3RlLGlmcmFtZSx0Zm9vdCIpLFg9dCgic3ZnLGFuaW1hdGUsYW5pbWF0ZU1vdGlvbixhbmltYXRlVHJhbnNmb3JtLGNpcmNsZSxjbGlwUGF0aCxjb2xvci1wcm9maWxlLGRlZnMsZGVzYyxkaXNjYXJkLGVsbGlwc2UsZmVCbGVuZCxmZUNvbG9yTWF0cml4LGZlQ29tcG9uZW50VHJhbnNmZXIsZmVDb21wb3NpdGUsZmVDb252b2x2ZU1hdHJpeCxmZURpZmZ1c2VMaWdodGluZyxmZURpc3BsYWNlbWVudE1hcCxmZURpc3RhbnRMaWdodCxmZURyb3BTaGFkb3csZmVGbG9vZCxmZUZ1bmNBLGZlRnVuY0IsZmVGdW5jRyxmZUZ1bmNSLGZlR2F1c3NpYW5CbHVyLGZlSW1hZ2UsZmVNZXJnZSxmZU1lcmdlTm9kZSxmZU1vcnBob2xvZ3ksZmVPZmZzZXQsZmVQb2ludExpZ2h0LGZlU3BlY3VsYXJMaWdodGluZyxmZVNwb3RMaWdodCxmZVRpbGUsZmVUdXJidWxlbmNlLGZpbHRlcixmb3JlaWduT2JqZWN0LGcsaGF0Y2gsaGF0Y2hwYXRoLGltYWdlLGxpbmUsbGluZWFyR3JhZGllbnQsbWFya2VyLG1hc2ssbWVzaCxtZXNoZ3JhZGllbnQsbWVzaHBhdGNoLG1lc2hyb3csbWV0YWRhdGEsbXBhdGgscGF0aCxwYXR0ZXJuLHBvbHlnb24scG9seWxpbmUscmFkaWFsR3JhZGllbnQscmVjdCxzZXQsc29saWRjb2xvcixzdG9wLHN3aXRjaCxzeW1ib2wsdGV4dCx0ZXh0UGF0aCx0aXRsZSx0c3Bhbix1bmtub3duLHVzZSx2aWV3IiksUT10KCJhbm5vdGF0aW9uLGFubm90YXRpb24teG1sLG1hY3Rpb24sbWFsaWduZ3JvdXAsbWFsaWdubWFyayxtYXRoLG1lbmNsb3NlLG1lcnJvcixtZmVuY2VkLG1mcmFjLG1mcmFjdGlvbixtZ2x5cGgsbWksbWxhYmVsZWR0cixtbG9uZ2RpdixtbXVsdGlzY3JpcHRzLG1uLG1vLG1vdmVyLG1wYWRkZWQsbXBoYW50b20sbXByZXNjcmlwdHMsbXJvb3QsbXJvdyxtcyxtc2NhcnJpZXMsbXNjYXJyeSxtc2dyb3VwLG1zbGluZSxtc3BhY2UsbXNxcnQsbXNyb3csbXN0YWNrLG1zdHlsZSxtc3ViLG1zdWJzdXAsbXN1cCxtdGFibGUsbXRkLG10ZXh0LG10cixtdW5kZXIsbXVuZGVyb3Zlcixub25lLHNlbWFudGljcyIpLFo9dCgiYXJlYSxiYXNlLGJyLGNvbCxlbWJlZCxocixpbWcsaW5wdXQsbGluayxtZXRhLHBhcmFtLHNvdXJjZSx0cmFjayx3YnIiKSxZPXQoIml0ZW1zY29wZSxhbGxvd2Z1bGxzY3JlZW4sZm9ybW5vdmFsaWRhdGUsaXNtYXAsbm9tb2R1bGUsbm92YWxpZGF0ZSxyZWFkb25seSIpO2Z1bmN0aW9uIGVlKGUpe3JldHVybiEhZXx8IiI9PT1lfWZ1bmN0aW9uIHRlKGUsdCl7aWYoZT09PXQpcmV0dXJuITA7bGV0IG49bShlKSxzPW0odCk7aWYobnx8cylyZXR1cm4hKCFufHwhcykmJmUuZ2V0VGltZSgpPT09dC5nZXRUaW1lKCk7aWYobj15KGUpLHM9eSh0KSxufHxzKXJldHVybiBlPT09dDtpZihuPXAoZSkscz1wKHQpLG58fHMpcmV0dXJuISghbnx8IXMpJiZmdW5jdGlvbihlLHQpe2lmKGUubGVuZ3RoIT09dC5sZW5ndGgpcmV0dXJuITE7bGV0IG49ITA7Zm9yKGxldCBzPTA7biYmczxlLmxlbmd0aDtzKyspbj10ZShlW3NdLHRbc10pO3JldHVybiBufShlLHQpO2lmKG49YihlKSxzPWIodCksbnx8cyl7aWYoIW58fCFzKXJldHVybiExO2lmKE9iamVjdC5rZXlzKGUpLmxlbmd0aCE9PU9iamVjdC5rZXlzKHQpLmxlbmd0aClyZXR1cm4hMTtmb3IoY29uc3QgbiBpbiBlKXtjb25zdCBzPWUuaGFzT3duUHJvcGVydHkobiksbz10Lmhhc093blByb3BlcnR5KG4pO2lmKHMmJiFvfHwhcyYmb3x8IXRlKGVbbl0sdFtuXSkpcmV0dXJuITF9fXJldHVybiBTdHJpbmcoZSk9PT1TdHJpbmcodCl9ZnVuY3Rpb24gbmUoZSx0KXtyZXR1cm4gZS5maW5kSW5kZXgoKGU9PnRlKGUsdCkpKX1jb25zdCBzZT0oZSx0KT0+dCYmdC5fX3ZfaXNSZWY/c2UoZSx0LnZhbHVlKTpoKHQpP3tbYE1hcCgke3Quc2l6ZX0pYF06Wy4uLnQuZW50cmllcygpXS5yZWR1Y2UoKChlLFt0LG5dLHMpPT4oZVtvZSh0LHMpKyIgPT4iXT1uLGUpKSx7fSl9OmYodCk/e1tgU2V0KCR7dC5zaXplfSlgXTpbLi4udC52YWx1ZXMoKV0ubWFwKChlPT5vZShlKSkpfTp5KHQpP29lKHQpOiFiKHQpfHxwKHQpfHxrKHQpP3Q6U3RyaW5nKHQpLG9lPShlLHQ9IiIpPT57dmFyIG47cmV0dXJuIHkoZSk/YFN5bWJvbCgke251bGwhPShuPWUuZGVzY3JpcHRpb24pP246dH0pYDplfTtsZXQgcmUsaWU7Y2xhc3MgbGV7Y29uc3RydWN0b3IoZT0hMSl7dGhpcy5kZXRhY2hlZD1lLHRoaXMuX2FjdGl2ZT0hMCx0aGlzLmVmZmVjdHM9W10sdGhpcy5jbGVhbnVwcz1bXSx0aGlzLnBhcmVudD1yZSwhZSYmcmUmJih0aGlzLmluZGV4PShyZS5zY29wZXN8fChyZS5zY29wZXM9W10pKS5wdXNoKHRoaXMpLTEpfWdldCBhY3RpdmUoKXtyZXR1cm4gdGhpcy5fYWN0aXZlfXJ1bihlKXtpZih0aGlzLl9hY3RpdmUpe2NvbnN0IHQ9cmU7dHJ5e3JldHVybiByZT10aGlzLGUoKX1maW5hbGx5e3JlPXR9fX1vbigpe3JlPXRoaXN9b2ZmKCl7cmU9dGhpcy5wYXJlbnR9c3RvcChlKXtpZih0aGlzLl9hY3RpdmUpe2xldCB0LG47Zm9yKHQ9MCxuPXRoaXMuZWZmZWN0cy5sZW5ndGg7dDxuO3QrKyl0aGlzLmVmZmVjdHNbdF0uc3RvcCgpO2Zvcih0PTAsbj10aGlzLmNsZWFudXBzLmxlbmd0aDt0PG47dCsrKXRoaXMuY2xlYW51cHNbdF0oKTtpZih0aGlzLnNjb3Blcylmb3IodD0wLG49dGhpcy5zY29wZXMubGVuZ3RoO3Q8bjt0KyspdGhpcy5zY29wZXNbdF0uc3RvcCghMCk7aWYoIXRoaXMuZGV0YWNoZWQmJnRoaXMucGFyZW50JiYhZSl7Y29uc3QgZT10aGlzLnBhcmVudC5zY29wZXMucG9wKCk7ZSYmZSE9PXRoaXMmJih0aGlzLnBhcmVudC5zY29wZXNbdGhpcy5pbmRleF09ZSxlLmluZGV4PXRoaXMuaW5kZXgpfXRoaXMucGFyZW50PXZvaWQgMCx0aGlzLl9hY3RpdmU9ITF9fX1mdW5jdGlvbiBjZShlLHQ9cmUpe3QmJnQuYWN0aXZlJiZ0LmVmZmVjdHMucHVzaChlKX1mdW5jdGlvbiBhZSgpe3JldHVybiByZX1jbGFzcyB1ZXtjb25zdHJ1Y3RvcihlLHQsbixzKXt0aGlzLmZuPWUsdGhpcy50cmlnZ2VyPXQsdGhpcy5zY2hlZHVsZXI9bix0aGlzLmFjdGl2ZT0hMCx0aGlzLmRlcHM9W10sdGhpcy5fZGlydHlMZXZlbD00LHRoaXMuX3RyYWNrSWQ9MCx0aGlzLl9ydW5uaW5ncz0wLHRoaXMuX3Nob3VsZFNjaGVkdWxlPSExLHRoaXMuX2RlcHNMZW5ndGg9MCxjZSh0aGlzLHMpfWdldCBkaXJ0eSgpe2lmKDI9PT10aGlzLl9kaXJ0eUxldmVsfHwzPT09dGhpcy5fZGlydHlMZXZlbCl7dGhpcy5fZGlydHlMZXZlbD0xLHllKCk7Zm9yKGxldCBlPTA7ZTx0aGlzLl9kZXBzTGVuZ3RoO2UrKyl7Y29uc3QgdD10aGlzLmRlcHNbZV07aWYodC5jb21wdXRlZCYmKGRlKHQuY29tcHV0ZWQpLHRoaXMuX2RpcnR5TGV2ZWw+PTQpKWJyZWFrfTE9PT10aGlzLl9kaXJ0eUxldmVsJiYodGhpcy5fZGlydHlMZXZlbD0wKSxiZSgpfXJldHVybiB0aGlzLl9kaXJ0eUxldmVsPj00fXNldCBkaXJ0eShlKXt0aGlzLl9kaXJ0eUxldmVsPWU/NDowfXJ1bigpe2lmKHRoaXMuX2RpcnR5TGV2ZWw9MCwhdGhpcy5hY3RpdmUpcmV0dXJuIHRoaXMuZm4oKTtsZXQgZT1tZSx0PWllO3RyeXtyZXR1cm4gbWU9ITAsaWU9dGhpcyx0aGlzLl9ydW5uaW5ncysrLHBlKHRoaXMpLHRoaXMuZm4oKX1maW5hbGx5e2hlKHRoaXMpLHRoaXMuX3J1bm5pbmdzLS0saWU9dCxtZT1lfX1zdG9wKCl7dmFyIGU7dGhpcy5hY3RpdmUmJihwZSh0aGlzKSxoZSh0aGlzKSxudWxsPT0oZT10aGlzLm9uU3RvcCl8fGUuY2FsbCh0aGlzKSx0aGlzLmFjdGl2ZT0hMSl9fWZ1bmN0aW9uIGRlKGUpe3JldHVybiBlLnZhbHVlfWZ1bmN0aW9uIHBlKGUpe2UuX3RyYWNrSWQrKyxlLl9kZXBzTGVuZ3RoPTB9ZnVuY3Rpb24gaGUoZSl7aWYoZS5kZXBzLmxlbmd0aD5lLl9kZXBzTGVuZ3RoKXtmb3IobGV0IHQ9ZS5fZGVwc0xlbmd0aDt0PGUuZGVwcy5sZW5ndGg7dCsrKWZlKGUuZGVwc1t0XSxlKTtlLmRlcHMubGVuZ3RoPWUuX2RlcHNMZW5ndGh9fWZ1bmN0aW9uIGZlKGUsdCl7Y29uc3Qgbj1lLmdldCh0KTt2b2lkIDAhPT1uJiZ0Ll90cmFja0lkIT09biYmKGUuZGVsZXRlKHQpLDA9PT1lLnNpemUmJmUuY2xlYW51cCgpKX1sZXQgbWU9ITAsZ2U9MDtjb25zdCB2ZT1bXTtmdW5jdGlvbiB5ZSgpe3ZlLnB1c2gobWUpLG1lPSExfWZ1bmN0aW9uIGJlKCl7Y29uc3QgZT12ZS5wb3AoKTttZT12b2lkIDA9PT1lfHxlfWZ1bmN0aW9uIF9lKCl7Z2UrK31mdW5jdGlvbiBTZSgpe2ZvcihnZS0tOyFnZSYmQ2UubGVuZ3RoOylDZS5zaGlmdCgpKCl9ZnVuY3Rpb24geGUoZSx0LG4pe2lmKHQuZ2V0KGUpIT09ZS5fdHJhY2tJZCl7dC5zZXQoZSxlLl90cmFja0lkKTtjb25zdCBuPWUuZGVwc1tlLl9kZXBzTGVuZ3RoXTtuIT09dD8obiYmZmUobixlKSxlLmRlcHNbZS5fZGVwc0xlbmd0aCsrXT10KTplLl9kZXBzTGVuZ3RoKyt9fWNvbnN0IENlPVtdO2Z1bmN0aW9uIGtlKGUsdCxuKXtfZSgpO2Zvcihjb25zdCBzIG9mIGUua2V5cygpKXtsZXQgbjtzLl9kaXJ0eUxldmVsPHQmJihudWxsIT1uP246bj1lLmdldChzKT09PXMuX3RyYWNrSWQpJiYocy5fc2hvdWxkU2NoZWR1bGV8fChzLl9zaG91bGRTY2hlZHVsZT0wPT09cy5fZGlydHlMZXZlbCkscy5fZGlydHlMZXZlbD10KSxzLl9zaG91bGRTY2hlZHVsZSYmKG51bGwhPW4/bjpuPWUuZ2V0KHMpPT09cy5fdHJhY2tJZCkmJihzLnRyaWdnZXIoKSxzLl9ydW5uaW5ncyYmIXMuYWxsb3dSZWN1cnNlfHwyPT09cy5fZGlydHlMZXZlbHx8KHMuX3Nob3VsZFNjaGVkdWxlPSExLHMuc2NoZWR1bGVyJiZDZS5wdXNoKHMuc2NoZWR1bGVyKSkpfVNlKCl9Y29uc3QgVGU9KGUsdCk9Pntjb25zdCBuPW5ldyBNYXA7cmV0dXJuIG4uY2xlYW51cD1lLG4uY29tcHV0ZWQ9dCxufSx3ZT1uZXcgV2Vha01hcCxFZT1TeW1ib2woIiIpLE5lPVN5bWJvbCgiIik7ZnVuY3Rpb24gQWUoZSx0LG4pe2lmKG1lJiZpZSl7bGV0IHQ9d2UuZ2V0KGUpO3R8fHdlLnNldChlLHQ9bmV3IE1hcCk7bGV0IHM9dC5nZXQobik7c3x8dC5zZXQobixzPVRlKCgoKT0+dC5kZWxldGUobikpKSkseGUoaWUscyl9fWZ1bmN0aW9uIEllKGUsdCxuLHMsbyxyKXtjb25zdCBpPXdlLmdldChlKTtpZighaSlyZXR1cm47bGV0IGw9W107aWYoImNsZWFyIj09PXQpbD1bLi4uaS52YWx1ZXMoKV07ZWxzZSBpZigibGVuZ3RoIj09PW4mJnAoZSkpe2NvbnN0IGU9TnVtYmVyKHMpO2kuZm9yRWFjaCgoKHQsbik9PnsoImxlbmd0aCI9PT1ufHwheShuKSYmbj49ZSkmJmwucHVzaCh0KX0pKX1lbHNlIHN3aXRjaCh2b2lkIDAhPT1uJiZsLnB1c2goaS5nZXQobikpLHQpe2Nhc2UiYWRkIjpwKGUpP1QobikmJmwucHVzaChpLmdldCgibGVuZ3RoIikpOihsLnB1c2goaS5nZXQoRWUpKSxoKGUpJiZsLnB1c2goaS5nZXQoTmUpKSk7YnJlYWs7Y2FzZSJkZWxldGUiOnAoZSl8fChsLnB1c2goaS5nZXQoRWUpKSxoKGUpJiZsLnB1c2goaS5nZXQoTmUpKSk7YnJlYWs7Y2FzZSJzZXQiOmgoZSkmJmwucHVzaChpLmdldChFZSkpfV9lKCk7Zm9yKGNvbnN0IGMgb2YgbCljJiZrZShjLDQpO1NlKCl9Y29uc3QgUmU9dCgiX19wcm90b19fLF9fdl9pc1JlZixfX2lzVnVlIiksT2U9bmV3IFNldChPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhTeW1ib2wpLmZpbHRlcigoZT0+ImFyZ3VtZW50cyIhPT1lJiYiY2FsbGVyIiE9PWUpKS5tYXAoKGU9PlN5bWJvbFtlXSkpLmZpbHRlcih5KSksTGU9RmUoKTtmdW5jdGlvbiBGZSgpe2NvbnN0IGU9e307cmV0dXJuWyJpbmNsdWRlcyIsImluZGV4T2YiLCJsYXN0SW5kZXhPZiJdLmZvckVhY2goKHQ9PntlW3RdPWZ1bmN0aW9uKC4uLmUpe2NvbnN0IG49Q3QodGhpcyk7Zm9yKGxldCB0PTAsbz10aGlzLmxlbmd0aDt0PG87dCsrKUFlKG4sMCx0KyIiKTtjb25zdCBzPW5bdF0oLi4uZSk7cmV0dXJuLTE9PT1zfHwhMT09PXM/blt0XSguLi5lLm1hcChDdCkpOnN9fSkpLFsicHVzaCIsInBvcCIsInNoaWZ0IiwidW5zaGlmdCIsInNwbGljZSJdLmZvckVhY2goKHQ9PntlW3RdPWZ1bmN0aW9uKC4uLmUpe3llKCksX2UoKTtjb25zdCBuPUN0KHRoaXMpW3RdLmFwcGx5KHRoaXMsZSk7cmV0dXJuIFNlKCksYmUoKSxufX0pKSxlfWZ1bmN0aW9uIE1lKGUpe2NvbnN0IHQ9Q3QodGhpcyk7cmV0dXJuIEFlKHQsMCxlKSx0Lmhhc093blByb3BlcnR5KGUpfWNsYXNzIFBle2NvbnN0cnVjdG9yKGU9ITEsdD0hMSl7dGhpcy5faXNSZWFkb25seT1lLHRoaXMuX2lzU2hhbGxvdz10fWdldChlLHQsbil7Y29uc3Qgcz10aGlzLl9pc1JlYWRvbmx5LG89dGhpcy5faXNTaGFsbG93O2lmKCJfX3ZfaXNSZWFjdGl2ZSI9PT10KXJldHVybiFzO2lmKCJfX3ZfaXNSZWFkb25seSI9PT10KXJldHVybiBzO2lmKCJfX3ZfaXNTaGFsbG93Ij09PXQpcmV0dXJuIG87aWYoIl9fdl9yYXciPT09dClyZXR1cm4gbj09PShzP28/ZnQ6aHQ6bz9wdDpkdCkuZ2V0KGUpfHxPYmplY3QuZ2V0UHJvdG90eXBlT2YoZSk9PT1PYmplY3QuZ2V0UHJvdG90eXBlT2Yobik/ZTp2b2lkIDA7Y29uc3Qgcj1wKGUpO2lmKCFzKXtpZihyJiZkKExlLHQpKXJldHVybiBSZWZsZWN0LmdldChMZSx0LG4pO2lmKCJoYXNPd25Qcm9wZXJ0eSI9PT10KXJldHVybiBNZX1jb25zdCBpPVJlZmxlY3QuZ2V0KGUsdCxuKTtyZXR1cm4oeSh0KT9PZS5oYXModCk6UmUodCkpP2k6KHN8fEFlKGUsMCx0KSxvP2k6SXQoaSk/ciYmVCh0KT9pOmkudmFsdWU6YihpKT9zP3Z0KGkpOm10KGkpOmkpfX1jbGFzcyAkZSBleHRlbmRzIFBle2NvbnN0cnVjdG9yKGU9ITEpe3N1cGVyKCExLGUpfXNldChlLHQsbixzKXtsZXQgbz1lW3RdO2lmKCF0aGlzLl9pc1NoYWxsb3cpe2NvbnN0IHQ9X3Qobyk7aWYoU3Qobil8fF90KG4pfHwobz1DdChvKSxuPUN0KG4pKSwhcChlKSYmSXQobykmJiFJdChuKSlyZXR1cm4hdCYmKG8udmFsdWU9biwhMCl9Y29uc3Qgcj1wKGUpJiZUKHQpP051bWJlcih0KTxlLmxlbmd0aDpkKGUsdCksaT1SZWZsZWN0LnNldChlLHQsbixzKTtyZXR1cm4gZT09PUN0KHMpJiYocj9NKG4sbykmJkllKGUsInNldCIsdCxuKTpJZShlLCJhZGQiLHQsbikpLGl9ZGVsZXRlUHJvcGVydHkoZSx0KXtjb25zdCBuPWQoZSx0KSxzPVJlZmxlY3QuZGVsZXRlUHJvcGVydHkoZSx0KTtyZXR1cm4gcyYmbiYmSWUoZSwiZGVsZXRlIix0LHZvaWQgMCksc31oYXMoZSx0KXtjb25zdCBuPVJlZmxlY3QuaGFzKGUsdCk7cmV0dXJuIHkodCkmJk9lLmhhcyh0KXx8QWUoZSwwLHQpLG59b3duS2V5cyhlKXtyZXR1cm4gQWUoZSwwLHAoZSk/Imxlbmd0aCI6RWUpLFJlZmxlY3Qub3duS2V5cyhlKX19Y2xhc3MgQmUgZXh0ZW5kcyBQZXtjb25zdHJ1Y3RvcihlPSExKXtzdXBlcighMCxlKX1zZXQoZSx0KXtyZXR1cm4hMH1kZWxldGVQcm9wZXJ0eShlLHQpe3JldHVybiEwfX1jb25zdCBWZT1uZXcgJGUsRGU9bmV3IEJlLFVlPW5ldyAkZSghMCksamU9bmV3IEJlKCEwKSxIZT1lPT5lLHFlPWU9PlJlZmxlY3QuZ2V0UHJvdG90eXBlT2YoZSk7ZnVuY3Rpb24gV2UoZSx0LG49ITEscz0hMSl7Y29uc3Qgbz1DdChlPWUuX192X3Jhdykscj1DdCh0KTtufHwoTSh0LHIpJiZBZShvLDAsdCksQWUobywwLHIpKTtjb25zdHtoYXM6aX09cWUobyksbD1zP0hlOm4/d3Q6VHQ7cmV0dXJuIGkuY2FsbChvLHQpP2woZS5nZXQodCkpOmkuY2FsbChvLHIpP2woZS5nZXQocikpOnZvaWQoZSE9PW8mJmUuZ2V0KHQpKX1mdW5jdGlvbiBLZShlLHQ9ITEpe2NvbnN0IG49dGhpcy5fX3ZfcmF3LHM9Q3Qobiksbz1DdChlKTtyZXR1cm4gdHx8KE0oZSxvKSYmQWUocywwLGUpLEFlKHMsMCxvKSksZT09PW8/bi5oYXMoZSk6bi5oYXMoZSl8fG4uaGFzKG8pfWZ1bmN0aW9uIHplKGUsdD0hMSl7cmV0dXJuIGU9ZS5fX3ZfcmF3LCF0JiZBZShDdChlKSwwLEVlKSxSZWZsZWN0LmdldChlLCJzaXplIixlKX1mdW5jdGlvbiBHZShlKXtlPUN0KGUpO2NvbnN0IHQ9Q3QodGhpcyk7cmV0dXJuIHFlKHQpLmhhcy5jYWxsKHQsZSl8fCh0LmFkZChlKSxJZSh0LCJhZGQiLGUsZSkpLHRoaXN9ZnVuY3Rpb24gSmUoZSx0KXt0PUN0KHQpO2NvbnN0IG49Q3QodGhpcykse2hhczpzLGdldDpvfT1xZShuKTtsZXQgcj1zLmNhbGwobixlKTtyfHwoZT1DdChlKSxyPXMuY2FsbChuLGUpKTtjb25zdCBpPW8uY2FsbChuLGUpO3JldHVybiBuLnNldChlLHQpLHI/TSh0LGkpJiZJZShuLCJzZXQiLGUsdCk6SWUobiwiYWRkIixlLHQpLHRoaXN9ZnVuY3Rpb24gWGUoZSl7Y29uc3QgdD1DdCh0aGlzKSx7aGFzOm4sZ2V0OnN9PXFlKHQpO2xldCBvPW4uY2FsbCh0LGUpO298fChlPUN0KGUpLG89bi5jYWxsKHQsZSkpLHMmJnMuY2FsbCh0LGUpO2NvbnN0IHI9dC5kZWxldGUoZSk7cmV0dXJuIG8mJkllKHQsImRlbGV0ZSIsZSx2b2lkIDApLHJ9ZnVuY3Rpb24gUWUoKXtjb25zdCBlPUN0KHRoaXMpLHQ9MCE9PWUuc2l6ZSxuPWUuY2xlYXIoKTtyZXR1cm4gdCYmSWUoZSwiY2xlYXIiLHZvaWQgMCx2b2lkIDApLG59ZnVuY3Rpb24gWmUoZSx0KXtyZXR1cm4gZnVuY3Rpb24obixzKXtjb25zdCBvPXRoaXMscj1vLl9fdl9yYXcsaT1DdChyKSxsPXQ/SGU6ZT93dDpUdDtyZXR1cm4hZSYmQWUoaSwwLEVlKSxyLmZvckVhY2goKChlLHQpPT5uLmNhbGwocyxsKGUpLGwodCksbykpKX19ZnVuY3Rpb24gWWUoZSx0LG4pe3JldHVybiBmdW5jdGlvbiguLi5zKXtjb25zdCBvPXRoaXMuX192X3JhdyxyPUN0KG8pLGk9aChyKSxsPSJlbnRyaWVzIj09PWV8fGU9PT1TeW1ib2wuaXRlcmF0b3ImJmksYz0ia2V5cyI9PT1lJiZpLGE9b1tlXSguLi5zKSx1PW4/SGU6dD93dDpUdDtyZXR1cm4hdCYmQWUociwwLGM/TmU6RWUpLHtuZXh0KCl7Y29uc3R7dmFsdWU6ZSxkb25lOnR9PWEubmV4dCgpO3JldHVybiB0P3t2YWx1ZTplLGRvbmU6dH06e3ZhbHVlOmw/W3UoZVswXSksdShlWzFdKV06dShlKSxkb25lOnR9fSxbU3ltYm9sLml0ZXJhdG9yXSgpe3JldHVybiB0aGlzfX19fWZ1bmN0aW9uIGV0KGUpe3JldHVybiBmdW5jdGlvbiguLi50KXtyZXR1cm4iZGVsZXRlIiE9PWUmJigiY2xlYXIiPT09ZT92b2lkIDA6dGhpcyl9fWZ1bmN0aW9uIHR0KCl7Y29uc3QgZT17Z2V0KGUpe3JldHVybiBXZSh0aGlzLGUpfSxnZXQgc2l6ZSgpe3JldHVybiB6ZSh0aGlzKX0saGFzOktlLGFkZDpHZSxzZXQ6SmUsZGVsZXRlOlhlLGNsZWFyOlFlLGZvckVhY2g6WmUoITEsITEpfSx0PXtnZXQoZSl7cmV0dXJuIFdlKHRoaXMsZSwhMSwhMCl9LGdldCBzaXplKCl7cmV0dXJuIHplKHRoaXMpfSxoYXM6S2UsYWRkOkdlLHNldDpKZSxkZWxldGU6WGUsY2xlYXI6UWUsZm9yRWFjaDpaZSghMSwhMCl9LG49e2dldChlKXtyZXR1cm4gV2UodGhpcyxlLCEwKX0sZ2V0IHNpemUoKXtyZXR1cm4gemUodGhpcywhMCl9LGhhcyhlKXtyZXR1cm4gS2UuY2FsbCh0aGlzLGUsITApfSxhZGQ6ZXQoImFkZCIpLHNldDpldCgic2V0IiksZGVsZXRlOmV0KCJkZWxldGUiKSxjbGVhcjpldCgiY2xlYXIiKSxmb3JFYWNoOlplKCEwLCExKX0scz17Z2V0KGUpe3JldHVybiBXZSh0aGlzLGUsITAsITApfSxnZXQgc2l6ZSgpe3JldHVybiB6ZSh0aGlzLCEwKX0saGFzKGUpe3JldHVybiBLZS5jYWxsKHRoaXMsZSwhMCl9LGFkZDpldCgiYWRkIiksc2V0OmV0KCJzZXQiKSxkZWxldGU6ZXQoImRlbGV0ZSIpLGNsZWFyOmV0KCJjbGVhciIpLGZvckVhY2g6WmUoITAsITApfTtyZXR1cm5bImtleXMiLCJ2YWx1ZXMiLCJlbnRyaWVzIixTeW1ib2wuaXRlcmF0b3JdLmZvckVhY2goKG89PntlW29dPVllKG8sITEsITEpLG5bb109WWUobywhMCwhMSksdFtvXT1ZZShvLCExLCEwKSxzW29dPVllKG8sITAsITApfSkpLFtlLG4sdCxzXX1jb25zdFtudCxzdCxvdCxydF09dHQoKTtmdW5jdGlvbiBpdChlLHQpe2NvbnN0IG49dD9lP3J0Om90OmU/c3Q6bnQ7cmV0dXJuKHQscyxvKT0+Il9fdl9pc1JlYWN0aXZlIj09PXM/IWU6Il9fdl9pc1JlYWRvbmx5Ij09PXM/ZToiX192X3JhdyI9PT1zP3Q6UmVmbGVjdC5nZXQoZChuLHMpJiZzIGluIHQ/bjp0LHMsbyl9Y29uc3QgbHQ9e2dldDppdCghMSwhMSl9LGN0PXtnZXQ6aXQoITEsITApfSxhdD17Z2V0Oml0KCEwLCExKX0sdXQ9e2dldDppdCghMCwhMCl9LGR0PW5ldyBXZWFrTWFwLHB0PW5ldyBXZWFrTWFwLGh0PW5ldyBXZWFrTWFwLGZ0PW5ldyBXZWFrTWFwO2Z1bmN0aW9uIG10KGUpe3JldHVybiBfdChlKT9lOnl0KGUsITEsVmUsbHQsZHQpfWZ1bmN0aW9uIGd0KGUpe3JldHVybiB5dChlLCExLFVlLGN0LHB0KX1mdW5jdGlvbiB2dChlKXtyZXR1cm4geXQoZSwhMCxEZSxhdCxodCl9ZnVuY3Rpb24geXQoZSx0LG4scyxvKXtpZighYihlKSlyZXR1cm4gZTtpZihlLl9fdl9yYXcmJighdHx8IWUuX192X2lzUmVhY3RpdmUpKXJldHVybiBlO2NvbnN0IHI9by5nZXQoZSk7aWYocilyZXR1cm4gcjtjb25zdCBpPShsPWUpLl9fdl9za2lwfHwhT2JqZWN0LmlzRXh0ZW5zaWJsZShsKT8wOmZ1bmN0aW9uKGUpe3N3aXRjaChlKXtjYXNlIk9iamVjdCI6Y2FzZSJBcnJheSI6cmV0dXJuIDE7Y2FzZSJNYXAiOmNhc2UiU2V0IjpjYXNlIldlYWtNYXAiOmNhc2UiV2Vha1NldCI6cmV0dXJuIDI7ZGVmYXVsdDpyZXR1cm4gMH19KEMobCkpO3ZhciBsO2lmKDA9PT1pKXJldHVybiBlO2NvbnN0IGM9bmV3IFByb3h5KGUsMj09PWk/czpuKTtyZXR1cm4gby5zZXQoZSxjKSxjfWZ1bmN0aW9uIGJ0KGUpe3JldHVybiBfdChlKT9idChlLl9fdl9yYXcpOiEoIWV8fCFlLl9fdl9pc1JlYWN0aXZlKX1mdW5jdGlvbiBfdChlKXtyZXR1cm4hKCFlfHwhZS5fX3ZfaXNSZWFkb25seSl9ZnVuY3Rpb24gU3QoZSl7cmV0dXJuISghZXx8IWUuX192X2lzU2hhbGxvdyl9ZnVuY3Rpb24geHQoZSl7cmV0dXJuIGJ0KGUpfHxfdChlKX1mdW5jdGlvbiBDdChlKXtjb25zdCB0PWUmJmUuX192X3JhdztyZXR1cm4gdD9DdCh0KTplfWZ1bmN0aW9uIGt0KGUpe3JldHVybiBPYmplY3QuaXNFeHRlbnNpYmxlKGUpJiYkKGUsIl9fdl9za2lwIiwhMCksZX1jb25zdCBUdD1lPT5iKGUpP210KGUpOmUsd3Q9ZT0+YihlKT92dChlKTplO2NsYXNzIEV0e2NvbnN0cnVjdG9yKGUsdCxuLHMpe3RoaXMuZ2V0dGVyPWUsdGhpcy5fc2V0dGVyPXQsdGhpcy5kZXA9dm9pZCAwLHRoaXMuX192X2lzUmVmPSEwLHRoaXMuX192X2lzUmVhZG9ubHk9ITEsdGhpcy5lZmZlY3Q9bmV3IHVlKCgoKT0+ZSh0aGlzLl92YWx1ZSkpLCgoKT0+QXQodGhpcywyPT09dGhpcy5lZmZlY3QuX2RpcnR5TGV2ZWw/MjozKSkpLHRoaXMuZWZmZWN0LmNvbXB1dGVkPXRoaXMsdGhpcy5lZmZlY3QuYWN0aXZlPXRoaXMuX2NhY2hlYWJsZT0hcyx0aGlzLl9fdl9pc1JlYWRvbmx5PW59Z2V0IHZhbHVlKCl7Y29uc3QgZT1DdCh0aGlzKTtyZXR1cm4gZS5fY2FjaGVhYmxlJiYhZS5lZmZlY3QuZGlydHl8fCFNKGUuX3ZhbHVlLGUuX3ZhbHVlPWUuZWZmZWN0LnJ1bigpKXx8QXQoZSw0KSxOdChlKSxlLmVmZmVjdC5fZGlydHlMZXZlbD49MiYmQXQoZSwyKSxlLl92YWx1ZX1zZXQgdmFsdWUoZSl7dGhpcy5fc2V0dGVyKGUpfWdldCBfZGlydHkoKXtyZXR1cm4gdGhpcy5lZmZlY3QuZGlydHl9c2V0IF9kaXJ0eShlKXt0aGlzLmVmZmVjdC5kaXJ0eT1lfX1mdW5jdGlvbiBOdChlKXt2YXIgdDttZSYmaWUmJihlPUN0KGUpLHhlKGllLG51bGwhPSh0PWUuZGVwKT90OmUuZGVwPVRlKCgoKT0+ZS5kZXA9dm9pZCAwKSxlIGluc3RhbmNlb2YgRXQ/ZTp2b2lkIDApKSl9ZnVuY3Rpb24gQXQoZSx0PTQsbil7Y29uc3Qgcz0oZT1DdChlKSkuZGVwO3MmJmtlKHMsdCl9ZnVuY3Rpb24gSXQoZSl7cmV0dXJuISghZXx8ITAhPT1lLl9fdl9pc1JlZil9ZnVuY3Rpb24gUnQoZSl7cmV0dXJuIE90KGUsITEpfWZ1bmN0aW9uIE90KGUsdCl7cmV0dXJuIEl0KGUpP2U6bmV3IEx0KGUsdCl9Y2xhc3MgTHR7Y29uc3RydWN0b3IoZSx0KXt0aGlzLl9fdl9pc1NoYWxsb3c9dCx0aGlzLmRlcD12b2lkIDAsdGhpcy5fX3ZfaXNSZWY9ITAsdGhpcy5fcmF3VmFsdWU9dD9lOkN0KGUpLHRoaXMuX3ZhbHVlPXQ/ZTpUdChlKX1nZXQgdmFsdWUoKXtyZXR1cm4gTnQodGhpcyksdGhpcy5fdmFsdWV9c2V0IHZhbHVlKGUpe2NvbnN0IHQ9dGhpcy5fX3ZfaXNTaGFsbG93fHxTdChlKXx8X3QoZSk7ZT10P2U6Q3QoZSksTShlLHRoaXMuX3Jhd1ZhbHVlKSYmKHRoaXMuX3Jhd1ZhbHVlPWUsdGhpcy5fdmFsdWU9dD9lOlR0KGUpLEF0KHRoaXMsNCkpfX1mdW5jdGlvbiBGdChlKXtyZXR1cm4gSXQoZSk/ZS52YWx1ZTplfWNvbnN0IE10PXtnZXQ6KGUsdCxuKT0+RnQoUmVmbGVjdC5nZXQoZSx0LG4pKSxzZXQ6KGUsdCxuLHMpPT57Y29uc3Qgbz1lW3RdO3JldHVybiBJdChvKSYmIUl0KG4pPyhvLnZhbHVlPW4sITApOlJlZmxlY3Quc2V0KGUsdCxuLHMpfX07ZnVuY3Rpb24gUHQoZSl7cmV0dXJuIGJ0KGUpP2U6bmV3IFByb3h5KGUsTXQpfWNsYXNzICR0e2NvbnN0cnVjdG9yKGUpe3RoaXMuZGVwPXZvaWQgMCx0aGlzLl9fdl9pc1JlZj0hMDtjb25zdHtnZXQ6dCxzZXQ6bn09ZSgoKCk9Pk50KHRoaXMpKSwoKCk9PkF0KHRoaXMpKSk7dGhpcy5fZ2V0PXQsdGhpcy5fc2V0PW59Z2V0IHZhbHVlKCl7cmV0dXJuIHRoaXMuX2dldCgpfXNldCB2YWx1ZShlKXt0aGlzLl9zZXQoZSl9fWZ1bmN0aW9uIEJ0KGUpe3JldHVybiBuZXcgJHQoZSl9Y2xhc3MgVnR7Y29uc3RydWN0b3IoZSx0LG4pe3RoaXMuX29iamVjdD1lLHRoaXMuX2tleT10LHRoaXMuX2RlZmF1bHRWYWx1ZT1uLHRoaXMuX192X2lzUmVmPSEwfWdldCB2YWx1ZSgpe2NvbnN0IGU9dGhpcy5fb2JqZWN0W3RoaXMuX2tleV07cmV0dXJuIHZvaWQgMD09PWU/dGhpcy5fZGVmYXVsdFZhbHVlOmV9c2V0IHZhbHVlKGUpe3RoaXMuX29iamVjdFt0aGlzLl9rZXldPWV9Z2V0IGRlcCgpe3JldHVybiBlPUN0KHRoaXMuX29iamVjdCksdD10aGlzLl9rZXksbnVsbD09KG49d2UuZ2V0KGUpKT92b2lkIDA6bi5nZXQodCk7dmFyIGUsdCxufX1jbGFzcyBEdHtjb25zdHJ1Y3RvcihlKXt0aGlzLl9nZXR0ZXI9ZSx0aGlzLl9fdl9pc1JlZj0hMCx0aGlzLl9fdl9pc1JlYWRvbmx5PSEwfWdldCB2YWx1ZSgpe3JldHVybiB0aGlzLl9nZXR0ZXIoKX19ZnVuY3Rpb24gVXQoZSx0LG4pe2NvbnN0IHM9ZVt0XTtyZXR1cm4gSXQocyk/czpuZXcgVnQoZSx0LG4pfWZ1bmN0aW9uIGp0KGUsdCxuLHMpe3RyeXtyZXR1cm4gcz9lKC4uLnMpOmUoKX1jYXRjaChvKXtxdChvLHQsbil9fWZ1bmN0aW9uIEh0KGUsdCxuLHMpe2lmKGcoZSkpe2NvbnN0IG89anQoZSx0LG4scyk7cmV0dXJuIG8mJl8obykmJm8uY2F0Y2goKGU9PntxdChlLHQsbil9KSksb31jb25zdCBvPVtdO2ZvcihsZXQgcj0wO3I8ZS5sZW5ndGg7cisrKW8ucHVzaChIdChlW3JdLHQsbixzKSk7cmV0dXJuIG99ZnVuY3Rpb24gcXQoZSx0LG4scz0hMCl7aWYodCl7bGV0IHM9dC5wYXJlbnQ7Y29uc3Qgbz10LnByb3h5LHI9YGh0dHBzOi8vdnVlanMub3JnL2Vycm9yLXJlZmVyZW5jZS8jcnVudGltZS0ke259YDtmb3IoO3M7KXtjb25zdCB0PXMuZWM7aWYodClmb3IobGV0IG49MDtuPHQubGVuZ3RoO24rKylpZighMT09PXRbbl0oZSxvLHIpKXJldHVybjtzPXMucGFyZW50fWNvbnN0IGk9dC5hcHBDb250ZXh0LmNvbmZpZy5lcnJvckhhbmRsZXI7aWYoaSlyZXR1cm4gdm9pZCBqdChpLG51bGwsMTAsW2UsbyxyXSl9IWZ1bmN0aW9uKGUsdCxuLHM9ITApe2NvbnNvbGUuZXJyb3IoZSl9KGUsMCwwLHMpfWxldCBXdD0hMSxLdD0hMTtjb25zdCB6dD1bXTtsZXQgR3Q9MDtjb25zdCBKdD1bXTtsZXQgWHQ9bnVsbCxRdD0wO2NvbnN0IFp0PVByb21pc2UucmVzb2x2ZSgpO2xldCBZdD1udWxsO2Z1bmN0aW9uIGVuKGUpe2NvbnN0IHQ9WXR8fFp0O3JldHVybiBlP3QudGhlbih0aGlzP2UuYmluZCh0aGlzKTplKTp0fWZ1bmN0aW9uIHRuKGUpe3p0Lmxlbmd0aCYmenQuaW5jbHVkZXMoZSxXdCYmZS5hbGxvd1JlY3Vyc2U/R3QrMTpHdCl8fChudWxsPT1lLmlkP3p0LnB1c2goZSk6enQuc3BsaWNlKGZ1bmN0aW9uKGUpe2xldCB0PUd0KzEsbj16dC5sZW5ndGg7Zm9yKDt0PG47KXtjb25zdCBzPXQrbj4+PjEsbz16dFtzXSxyPWxuKG8pO3I8ZXx8cj09PWUmJm8ucHJlP3Q9cysxOm49c31yZXR1cm4gdH0oZS5pZCksMCxlKSxubigpKX1mdW5jdGlvbiBubigpe1d0fHxLdHx8KEt0PSEwLFl0PVp0LnRoZW4oYW4pKX1mdW5jdGlvbiBzbihlKXtwKGUpP0p0LnB1c2goLi4uZSk6WHQmJlh0LmluY2x1ZGVzKGUsZS5hbGxvd1JlY3Vyc2U/UXQrMTpRdCl8fEp0LnB1c2goZSksbm4oKX1mdW5jdGlvbiBvbihlLHQsbj0oV3Q/R3QrMTowKSl7Zm9yKDtuPHp0Lmxlbmd0aDtuKyspe2NvbnN0IHQ9enRbbl07aWYodCYmdC5wcmUpe2lmKGUmJnQuaWQhPT1lLnVpZCljb250aW51ZTt6dC5zcGxpY2UobiwxKSxuLS0sdCgpfX19ZnVuY3Rpb24gcm4oZSl7aWYoSnQubGVuZ3RoKXtjb25zdCBlPVsuLi5uZXcgU2V0KEp0KV0uc29ydCgoKGUsdCk9PmxuKGUpLWxuKHQpKSk7aWYoSnQubGVuZ3RoPTAsWHQpcmV0dXJuIHZvaWQgWHQucHVzaCguLi5lKTtmb3IoWHQ9ZSxRdD0wO1F0PFh0Lmxlbmd0aDtRdCsrKVh0W1F0XSgpO1h0PW51bGwsUXQ9MH19Y29uc3QgbG49ZT0+bnVsbD09ZS5pZD8xLzA6ZS5pZCxjbj0oZSx0KT0+e2NvbnN0IG49bG4oZSktbG4odCk7aWYoMD09PW4pe2lmKGUucHJlJiYhdC5wcmUpcmV0dXJuLTE7aWYodC5wcmUmJiFlLnByZSlyZXR1cm4gMX1yZXR1cm4gbn07ZnVuY3Rpb24gYW4oZSl7S3Q9ITEsV3Q9ITAsenQuc29ydChjbik7dHJ5e2ZvcihHdD0wO0d0PHp0Lmxlbmd0aDtHdCsrKXtjb25zdCBlPXp0W0d0XTtlJiYhMSE9PWUuYWN0aXZlJiZqdChlLG51bGwsMTQpfX1maW5hbGx5e0d0PTAsenQubGVuZ3RoPTAscm4oKSxXdD0hMSxZdD1udWxsLCh6dC5sZW5ndGh8fEp0Lmxlbmd0aCkmJmFuKCl9fWZ1bmN0aW9uIHVuKGUsdCwuLi5zKXtpZihlLmlzVW5tb3VudGVkKXJldHVybjtjb25zdCBvPWUudm5vZGUucHJvcHN8fG47bGV0IHI9cztjb25zdCBpPXQuc3RhcnRzV2l0aCgidXBkYXRlOiIpLGw9aSYmdC5zbGljZSg3KTtpZihsJiZsIGluIG8pe2NvbnN0IGU9YCR7Im1vZGVsVmFsdWUiPT09bD8ibW9kZWwiOmx9TW9kaWZpZXJzYCx7bnVtYmVyOnQsdHJpbTppfT1vW2VdfHxuO2kmJihyPXMubWFwKChlPT52KGUpP2UudHJpbSgpOmUpKSksdCYmKHI9cy5tYXAoQikpfWxldCBjLGE9b1tjPUYodCldfHxvW2M9RihJKHQpKV07IWEmJmkmJihhPW9bYz1GKE8odCkpXSksYSYmSHQoYSxlLDYscik7Y29uc3QgdT1vW2MrIk9uY2UiXTtpZih1KXtpZihlLmVtaXR0ZWQpe2lmKGUuZW1pdHRlZFtjXSlyZXR1cm59ZWxzZSBlLmVtaXR0ZWQ9e307ZS5lbWl0dGVkW2NdPSEwLEh0KHUsZSw2LHIpfX1mdW5jdGlvbiBkbihlLHQsbj0hMSl7Y29uc3Qgcz10LmVtaXRzQ2FjaGUsbz1zLmdldChlKTtpZih2b2lkIDAhPT1vKXJldHVybiBvO2NvbnN0IHI9ZS5lbWl0cztsZXQgaT17fSxsPSExO2lmKCFnKGUpKXtjb25zdCBzPWU9Pntjb25zdCBuPWRuKGUsdCwhMCk7biYmKGw9ITAsYyhpLG4pKX07IW4mJnQubWl4aW5zLmxlbmd0aCYmdC5taXhpbnMuZm9yRWFjaChzKSxlLmV4dGVuZHMmJnMoZS5leHRlbmRzKSxlLm1peGlucyYmZS5taXhpbnMuZm9yRWFjaChzKX1yZXR1cm4gcnx8bD8ocChyKT9yLmZvckVhY2goKGU9PmlbZV09bnVsbCkpOmMoaSxyKSxiKGUpJiZzLnNldChlLGkpLGkpOihiKGUpJiZzLnNldChlLG51bGwpLG51bGwpfWZ1bmN0aW9uIHBuKGUsdCl7cmV0dXJuISghZXx8IWkodCkpJiYodD10LnNsaWNlKDIpLnJlcGxhY2UoL09uY2UkLywiIiksZChlLHRbMF0udG9Mb3dlckNhc2UoKSt0LnNsaWNlKDEpKXx8ZChlLE8odCkpfHxkKGUsdCkpfWxldCBobj1udWxsLGZuPW51bGw7ZnVuY3Rpb24gbW4oZSl7Y29uc3QgdD1objtyZXR1cm4gaG49ZSxmbj1lJiZlLnR5cGUuX19zY29wZUlkfHxudWxsLHR9ZnVuY3Rpb24gZ24oZSx0PWhuLG4pe2lmKCF0KXJldHVybiBlO2lmKGUuX24pcmV0dXJuIGU7Y29uc3Qgcz0oLi4ubik9PntzLl9kJiZIbygtMSk7Y29uc3Qgbz1tbih0KTtsZXQgcjt0cnl7cj1lKC4uLm4pfWZpbmFsbHl7bW4obykscy5fZCYmSG8oMSl9cmV0dXJuIHJ9O3JldHVybiBzLl9uPSEwLHMuX2M9ITAscy5fZD0hMCxzfWZ1bmN0aW9uIHZuKGUpe2NvbnN0e3R5cGU6dCx2bm9kZTpuLHByb3h5OnMsd2l0aFByb3h5Om8scHJvcHM6cixwcm9wc09wdGlvbnM6W2ldLHNsb3RzOmMsYXR0cnM6YSxlbWl0OnUscmVuZGVyOmQscmVuZGVyQ2FjaGU6cCxkYXRhOmgsc2V0dXBTdGF0ZTpmLGN0eDptLGluaGVyaXRBdHRyczpnfT1lO2xldCB2LHk7Y29uc3QgYj1tbihlKTt0cnl7aWYoNCZuLnNoYXBlRmxhZyl7Y29uc3QgZT1vfHxzO3Y9bnIoZC5jYWxsKGUsZSxwLHIsZixoLG0pKSx5PWF9ZWxzZXtjb25zdCBlPXQ7MCx2PW5yKGUocixlLmxlbmd0aD4xP3thdHRyczphLHNsb3RzOmMsZW1pdDp1fTpudWxsKSkseT10LnByb3BzP2E6eW4oYSl9fWNhdGNoKFMpe0JvLmxlbmd0aD0wLHF0KFMsZSwxKSx2PVpvKFBvKX1sZXQgXz12O2lmKHkmJiExIT09Zyl7Y29uc3QgZT1PYmplY3Qua2V5cyh5KSx7c2hhcGVGbGFnOnR9PV87ZS5sZW5ndGgmJjcmdCYmKGkmJmUuc29tZShsKSYmKHk9Ym4oeSxpKSksXz1lcihfLHkpKX1yZXR1cm4gbi5kaXJzJiYoXz1lcihfKSxfLmRpcnM9Xy5kaXJzP18uZGlycy5jb25jYXQobi5kaXJzKTpuLmRpcnMpLG4udHJhbnNpdGlvbiYmKF8udHJhbnNpdGlvbj1uLnRyYW5zaXRpb24pLHY9XyxtbihiKSx2fWNvbnN0IHluPWU9PntsZXQgdDtmb3IoY29uc3QgbiBpbiBlKSgiY2xhc3MiPT09bnx8InN0eWxlIj09PW58fGkobikpJiYoKHR8fCh0PXt9KSlbbl09ZVtuXSk7cmV0dXJuIHR9LGJuPShlLHQpPT57Y29uc3Qgbj17fTtmb3IoY29uc3QgcyBpbiBlKWwocykmJnMuc2xpY2UoOSlpbiB0fHwobltzXT1lW3NdKTtyZXR1cm4gbn07ZnVuY3Rpb24gX24oZSx0LG4pe2NvbnN0IHM9T2JqZWN0LmtleXModCk7aWYocy5sZW5ndGghPT1PYmplY3Qua2V5cyhlKS5sZW5ndGgpcmV0dXJuITA7Zm9yKGxldCBvPTA7bzxzLmxlbmd0aDtvKyspe2NvbnN0IHI9c1tvXTtpZih0W3JdIT09ZVtyXSYmIXBuKG4scikpcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gU24oe3Zub2RlOmUscGFyZW50OnR9LG4pe2Zvcig7dDspe2NvbnN0IHM9dC5zdWJUcmVlO2lmKHMuc3VzcGVuc2UmJnMuc3VzcGVuc2UuYWN0aXZlQnJhbmNoPT09ZSYmKHMuZWw9ZS5lbCkscyE9PWUpYnJlYWs7KGU9dC52bm9kZSkuZWw9bix0PXQucGFyZW50fX1jb25zdCB4bj0iY29tcG9uZW50cyI7Y29uc3QgQ249U3ltYm9sLmZvcigidi1uZGMiKTtmdW5jdGlvbiBrbihlLHQsbj0hMCxzPSExKXtjb25zdCBvPWhufHxhcjtpZihvKXtjb25zdCBuPW8udHlwZTtpZihlPT09eG4pe2NvbnN0IGU9a3IobiwhMSk7aWYoZSYmKGU9PT10fHxlPT09SSh0KXx8ZT09PUwoSSh0KSkpKXJldHVybiBufWNvbnN0IHI9VG4ob1tlXXx8bltlXSx0KXx8VG4oby5hcHBDb250ZXh0W2VdLHQpO3JldHVybiFyJiZzP246cn19ZnVuY3Rpb24gVG4oZSx0KXtyZXR1cm4gZSYmKGVbdF18fGVbSSh0KV18fGVbTChJKHQpKV0pfWNvbnN0IHduPWU9PmUuX19pc1N1c3BlbnNlO2xldCBFbj0wO2NvbnN0IE5uPXtuYW1lOiJTdXNwZW5zZSIsX19pc1N1c3BlbnNlOiEwLHByb2Nlc3MoZSx0LG4scyxvLHIsaSxsLGMsYSl7aWYobnVsbD09ZSkhZnVuY3Rpb24oZSx0LG4scyxvLHIsaSxsLGMpe2NvbnN0e3A6YSxvOntjcmVhdGVFbGVtZW50OnV9fT1jLGQ9dSgiZGl2IikscD1lLnN1c3BlbnNlPUluKGUsbyxzLHQsZCxuLHIsaSxsLGMpO2EobnVsbCxwLnBlbmRpbmdCcmFuY2g9ZS5zc0NvbnRlbnQsZCxudWxsLHMscCxyLGkpLHAuZGVwcz4wPyhBbihlLCJvblBlbmRpbmciKSxBbihlLCJvbkZhbGxiYWNrIiksYShudWxsLGUuc3NGYWxsYmFjayx0LG4scyxudWxsLHIsaSksTG4ocCxlLnNzRmFsbGJhY2spKTpwLnJlc29sdmUoITEsITApfSh0LG4scyxvLHIsaSxsLGMsYSk7ZWxzZXtpZihyJiZyLmRlcHM+MCYmIWUuc3VzcGVuc2UuaXNJbkZhbGxiYWNrKXJldHVybiB0LnN1c3BlbnNlPWUuc3VzcGVuc2UsdC5zdXNwZW5zZS52bm9kZT10LHZvaWQodC5lbD1lLmVsKTshZnVuY3Rpb24oZSx0LG4scyxvLHIsaSxsLHtwOmMsdW06YSxvOntjcmVhdGVFbGVtZW50OnV9fSl7Y29uc3QgZD10LnN1c3BlbnNlPWUuc3VzcGVuc2U7ZC52bm9kZT10LHQuZWw9ZS5lbDtjb25zdCBwPXQuc3NDb250ZW50LGg9dC5zc0ZhbGxiYWNrLHthY3RpdmVCcmFuY2g6ZixwZW5kaW5nQnJhbmNoOm0saXNJbkZhbGxiYWNrOmcsaXNIeWRyYXRpbmc6dn09ZDtpZihtKWQucGVuZGluZ0JyYW5jaD1wLHpvKHAsbSk/KGMobSxwLGQuaGlkZGVuQ29udGFpbmVyLG51bGwsbyxkLHIsaSxsKSxkLmRlcHM8PTA/ZC5yZXNvbHZlKCk6ZyYmKHZ8fChjKGYsaCxuLHMsbyxudWxsLHIsaSxsKSxMbihkLGgpKSkpOihkLnBlbmRpbmdJZD1FbisrLHY/KGQuaXNIeWRyYXRpbmc9ITEsZC5hY3RpdmVCcmFuY2g9bSk6YShtLG8sZCksZC5kZXBzPTAsZC5lZmZlY3RzLmxlbmd0aD0wLGQuaGlkZGVuQ29udGFpbmVyPXUoImRpdiIpLGc/KGMobnVsbCxwLGQuaGlkZGVuQ29udGFpbmVyLG51bGwsbyxkLHIsaSxsKSxkLmRlcHM8PTA/ZC5yZXNvbHZlKCk6KGMoZixoLG4scyxvLG51bGwscixpLGwpLExuKGQsaCkpKTpmJiZ6byhwLGYpPyhjKGYscCxuLHMsbyxkLHIsaSxsKSxkLnJlc29sdmUoITApKTooYyhudWxsLHAsZC5oaWRkZW5Db250YWluZXIsbnVsbCxvLGQscixpLGwpLGQuZGVwczw9MCYmZC5yZXNvbHZlKCkpKTtlbHNlIGlmKGYmJnpvKHAsZikpYyhmLHAsbixzLG8sZCxyLGksbCksTG4oZCxwKTtlbHNlIGlmKEFuKHQsIm9uUGVuZGluZyIpLGQucGVuZGluZ0JyYW5jaD1wLGQucGVuZGluZ0lkPTUxMiZwLnNoYXBlRmxhZz9wLmNvbXBvbmVudC5zdXNwZW5zZUlkOkVuKyssYyhudWxsLHAsZC5oaWRkZW5Db250YWluZXIsbnVsbCxvLGQscixpLGwpLGQuZGVwczw9MClkLnJlc29sdmUoKTtlbHNle2NvbnN0e3RpbWVvdXQ6ZSxwZW5kaW5nSWQ6dH09ZDtlPjA/c2V0VGltZW91dCgoKCk9PntkLnBlbmRpbmdJZD09PXQmJmQuZmFsbGJhY2soaCl9KSxlKTowPT09ZSYmZC5mYWxsYmFjayhoKX19KGUsdCxuLHMsbyxpLGwsYyxhKX19LGh5ZHJhdGU6ZnVuY3Rpb24oZSx0LG4scyxvLHIsaSxsLGMpe2NvbnN0IGE9dC5zdXNwZW5zZT1Jbih0LHMsbixlLnBhcmVudE5vZGUsZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgiZGl2IiksbnVsbCxvLHIsaSxsLCEwKSx1PWMoZSxhLnBlbmRpbmdCcmFuY2g9dC5zc0NvbnRlbnQsbixhLHIsaSk7MD09PWEuZGVwcyYmYS5yZXNvbHZlKCExLCEwKTtyZXR1cm4gdX0sY3JlYXRlOkluLG5vcm1hbGl6ZTpmdW5jdGlvbihlKXtjb25zdHtzaGFwZUZsYWc6dCxjaGlsZHJlbjpufT1lLHM9MzImdDtlLnNzQ29udGVudD1SbihzP24uZGVmYXVsdDpuKSxlLnNzRmFsbGJhY2s9cz9SbihuLmZhbGxiYWNrKTpabyhQbyl9fTtmdW5jdGlvbiBBbihlLHQpe2NvbnN0IG49ZS5wcm9wcyYmZS5wcm9wc1t0XTtnKG4pJiZuKCl9ZnVuY3Rpb24gSW4oZSx0LG4scyxvLHIsaSxsLGMsYSx1PSExKXtjb25zdHtwOmQsbTpwLHVtOmgsbjpmLG86e3BhcmVudE5vZGU6bSxyZW1vdmU6Z319PWE7bGV0IHY7Y29uc3QgeT1mdW5jdGlvbihlKXt2YXIgdDtyZXR1cm4gbnVsbCE9KG51bGw9PSh0PWUucHJvcHMpP3ZvaWQgMDp0LnN1c3BlbnNpYmxlKSYmITEhPT1lLnByb3BzLnN1c3BlbnNpYmxlfShlKTt5JiYobnVsbD09dD92b2lkIDA6dC5wZW5kaW5nQnJhbmNoKSYmKHY9dC5wZW5kaW5nSWQsdC5kZXBzKyspO2NvbnN0IGI9ZS5wcm9wcz9WKGUucHJvcHMudGltZW91dCk6dm9pZCAwLF89cixTPXt2bm9kZTplLHBhcmVudDp0LHBhcmVudENvbXBvbmVudDpuLG5hbWVzcGFjZTppLGNvbnRhaW5lcjpzLGhpZGRlbkNvbnRhaW5lcjpvLGRlcHM6MCxwZW5kaW5nSWQ6RW4rKyx0aW1lb3V0OiJudW1iZXIiPT10eXBlb2YgYj9iOi0xLGFjdGl2ZUJyYW5jaDpudWxsLHBlbmRpbmdCcmFuY2g6bnVsbCxpc0luRmFsbGJhY2s6IXUsaXNIeWRyYXRpbmc6dSxpc1VubW91bnRlZDohMSxlZmZlY3RzOltdLHJlc29sdmUoZT0hMSxuPSExKXtjb25zdHt2bm9kZTpzLGFjdGl2ZUJyYW5jaDpvLHBlbmRpbmdCcmFuY2g6aSxwZW5kaW5nSWQ6bCxlZmZlY3RzOmMscGFyZW50Q29tcG9uZW50OmEsY29udGFpbmVyOnV9PVM7bGV0IGQ9ITE7Uy5pc0h5ZHJhdGluZz9TLmlzSHlkcmF0aW5nPSExOmV8fChkPW8mJmkudHJhbnNpdGlvbiYmIm91dC1pbiI9PT1pLnRyYW5zaXRpb24ubW9kZSxkJiYoby50cmFuc2l0aW9uLmFmdGVyTGVhdmU9KCk9PntsPT09Uy5wZW5kaW5nSWQmJihwKGksdSxyPT09Xz9mKG8pOnIsMCksc24oYykpfSksbyYmKG0oby5lbCkhPT1TLmhpZGRlbkNvbnRhaW5lciYmKHI9ZihvKSksaChvLGEsUywhMCkpLGR8fHAoaSx1LHIsMCkpLExuKFMsaSksUy5wZW5kaW5nQnJhbmNoPW51bGwsUy5pc0luRmFsbGJhY2s9ITE7bGV0IGc9Uy5wYXJlbnQsYj0hMTtmb3IoO2c7KXtpZihnLnBlbmRpbmdCcmFuY2gpe2cuZWZmZWN0cy5wdXNoKC4uLmMpLGI9ITA7YnJlYWt9Zz1nLnBhcmVudH1ifHxkfHxzbihjKSxTLmVmZmVjdHM9W10seSYmdCYmdC5wZW5kaW5nQnJhbmNoJiZ2PT09dC5wZW5kaW5nSWQmJih0LmRlcHMtLSwwIT09dC5kZXBzfHxufHx0LnJlc29sdmUoKSksQW4ocywib25SZXNvbHZlIil9LGZhbGxiYWNrKGUpe2lmKCFTLnBlbmRpbmdCcmFuY2gpcmV0dXJuO2NvbnN0e3Zub2RlOnQsYWN0aXZlQnJhbmNoOm4scGFyZW50Q29tcG9uZW50OnMsY29udGFpbmVyOm8sbmFtZXNwYWNlOnJ9PVM7QW4odCwib25GYWxsYmFjayIpO2NvbnN0IGk9ZihuKSxhPSgpPT57Uy5pc0luRmFsbGJhY2smJihkKG51bGwsZSxvLGkscyxudWxsLHIsbCxjKSxMbihTLGUpKX0sdT1lLnRyYW5zaXRpb24mJiJvdXQtaW4iPT09ZS50cmFuc2l0aW9uLm1vZGU7dSYmKG4udHJhbnNpdGlvbi5hZnRlckxlYXZlPWEpLFMuaXNJbkZhbGxiYWNrPSEwLGgobixzLG51bGwsITApLHV8fGEoKX0sbW92ZShlLHQsbil7Uy5hY3RpdmVCcmFuY2gmJnAoUy5hY3RpdmVCcmFuY2gsZSx0LG4pLFMuY29udGFpbmVyPWV9LG5leHQ6KCk9PlMuYWN0aXZlQnJhbmNoJiZmKFMuYWN0aXZlQnJhbmNoKSxyZWdpc3RlckRlcChlLHQpe2NvbnN0IG49ISFTLnBlbmRpbmdCcmFuY2g7biYmUy5kZXBzKys7Y29uc3Qgcz1lLnZub2RlLmVsO2UuYXN5bmNEZXAuY2F0Y2goKHQ9PntxdCh0LGUsMCl9KSkudGhlbigobz0+e2lmKGUuaXNVbm1vdW50ZWR8fFMuaXNVbm1vdW50ZWR8fFMucGVuZGluZ0lkIT09ZS5zdXNwZW5zZUlkKXJldHVybjtlLmFzeW5jUmVzb2x2ZWQ9ITA7Y29uc3R7dm5vZGU6cn09ZTticihlLG8sITEpLHMmJihyLmVsPXMpO2NvbnN0IGw9IXMmJmUuc3ViVHJlZS5lbDt0KGUscixtKHN8fGUuc3ViVHJlZS5lbCkscz9udWxsOmYoZS5zdWJUcmVlKSxTLGksYyksbCYmZyhsKSxTbihlLHIuZWwpLG4mJjA9PS0tUy5kZXBzJiZTLnJlc29sdmUoKX0pKX0sdW5tb3VudChlLHQpe1MuaXNVbm1vdW50ZWQ9ITAsUy5hY3RpdmVCcmFuY2gmJmgoUy5hY3RpdmVCcmFuY2gsbixlLHQpLFMucGVuZGluZ0JyYW5jaCYmaChTLnBlbmRpbmdCcmFuY2gsbixlLHQpfX07cmV0dXJuIFN9ZnVuY3Rpb24gUm4oZSl7bGV0IHQ7aWYoZyhlKSl7Y29uc3Qgbj1qbyYmZS5fYztuJiYoZS5fZD0hMSxEbygpKSxlPWUoKSxuJiYoZS5fZD0hMCx0PVZvLFVvKCkpfWlmKHAoZSkpe2NvbnN0IHQ9ZnVuY3Rpb24oZSx0PSEwKXtsZXQgbjtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7Y29uc3QgdD1lW3NdO2lmKCFLbyh0KSlyZXR1cm47aWYodC50eXBlIT09UG98fCJ2LWlmIj09PXQuY2hpbGRyZW4pe2lmKG4pcmV0dXJuO249dH19cmV0dXJuIG59KGUpO2U9dH1yZXR1cm4gZT1ucihlKSx0JiYhZS5keW5hbWljQ2hpbGRyZW4mJihlLmR5bmFtaWNDaGlsZHJlbj10LmZpbHRlcigodD0+dCE9PWUpKSksZX1mdW5jdGlvbiBPbihlLHQpe3QmJnQucGVuZGluZ0JyYW5jaD9wKGUpP3QuZWZmZWN0cy5wdXNoKC4uLmUpOnQuZWZmZWN0cy5wdXNoKGUpOnNuKGUpfWZ1bmN0aW9uIExuKGUsdCl7ZS5hY3RpdmVCcmFuY2g9dDtjb25zdHt2bm9kZTpuLHBhcmVudENvbXBvbmVudDpzfT1lO2xldCBvPXQuZWw7Zm9yKDshbyYmdC5jb21wb25lbnQ7KW89KHQ9dC5jb21wb25lbnQuc3ViVHJlZSkuZWw7bi5lbD1vLHMmJnMuc3ViVHJlZT09PW4mJihzLnZub2RlLmVsPW8sU24ocyxvKSl9Y29uc3QgRm49U3ltYm9sLmZvcigidi1zY3giKTtmdW5jdGlvbiBNbihlLHQpe3JldHVybiBWbihlLG51bGwse2ZsdXNoOiJwb3N0In0pfWZ1bmN0aW9uIFBuKGUsdCl7cmV0dXJuIFZuKGUsbnVsbCx7Zmx1c2g6InN5bmMifSl9Y29uc3QgJG49e307ZnVuY3Rpb24gQm4oZSx0LG4pe3JldHVybiBWbihlLHQsbil9ZnVuY3Rpb24gVm4oZSx0LHtpbW1lZGlhdGU6cyxkZWVwOnIsZmx1c2g6aSxvbmNlOmx9PW4pe2lmKHQmJmwpe2NvbnN0IGU9dDt0PSguLi50KT0+e2UoLi4udCksQygpfX1jb25zdCBjPWFyLHU9ZT0+ITA9PT1yP2U6am4oZSwhMT09PXI/MTp2b2lkIDApO2xldCBkLGgsZj0hMSxtPSExO2lmKEl0KGUpPyhkPSgpPT5lLnZhbHVlLGY9U3QoZSkpOmJ0KGUpPyhkPSgpPT51KGUpLGY9ITApOnAoZSk/KG09ITAsZj1lLnNvbWUoKGU9PmJ0KGUpfHxTdChlKSkpLGQ9KCk9PmUubWFwKChlPT5JdChlKT9lLnZhbHVlOmJ0KGUpP3UoZSk6ZyhlKT9qdChlLGMsMik6dm9pZCAwKSkpOmQ9ZyhlKT90PygpPT5qdChlLGMsMik6KCk9PihoJiZoKCksSHQoZSxjLDMsW3ZdKSk6byx0JiZyKXtjb25zdCBlPWQ7ZD0oKT0+am4oZSgpKX1sZXQgdj1lPT57aD1TLm9uU3RvcD0oKT0+e2p0KGUsYyw0KSxoPVMub25TdG9wPXZvaWQgMH19LHk9bT9uZXcgQXJyYXkoZS5sZW5ndGgpLmZpbGwoJG4pOiRuO2NvbnN0IGI9KCk9PntpZihTLmFjdGl2ZSYmUy5kaXJ0eSlpZih0KXtjb25zdCBlPVMucnVuKCk7KHJ8fGZ8fChtP2Uuc29tZSgoKGUsdCk9Pk0oZSx5W3RdKSkpOk0oZSx5KSkpJiYoaCYmaCgpLEh0KHQsYywzLFtlLHk9PT0kbj92b2lkIDA6bSYmeVswXT09PSRuP1tdOnksdl0pLHk9ZSl9ZWxzZSBTLnJ1bigpfTtsZXQgXztiLmFsbG93UmVjdXJzZT0hIXQsInN5bmMiPT09aT9fPWI6InBvc3QiPT09aT9fPSgpPT55byhiLGMmJmMuc3VzcGVuc2UpOihiLnByZT0hMCxjJiYoYi5pZD1jLnVpZCksXz0oKT0+dG4oYikpO2NvbnN0IFM9bmV3IHVlKGQsbyxfKSx4PWFlKCksQz0oKT0+e1Muc3RvcCgpLHgmJmEoeC5lZmZlY3RzLFMpfTtyZXR1cm4gdD9zP2IoKTp5PVMucnVuKCk6InBvc3QiPT09aT95byhTLnJ1bi5iaW5kKFMpLGMmJmMuc3VzcGVuc2UpOlMucnVuKCksQ31mdW5jdGlvbiBEbihlLHQsbil7Y29uc3Qgcz10aGlzLnByb3h5LG89dihlKT9lLmluY2x1ZGVzKCIuIik/VW4ocyxlKTooKT0+c1tlXTplLmJpbmQocyxzKTtsZXQgcjtnKHQpP3I9dDoocj10LmhhbmRsZXIsbj10KTtjb25zdCBpPWhyKHRoaXMpLGw9Vm4obyxyLmJpbmQocyksbik7cmV0dXJuIGkoKSxsfWZ1bmN0aW9uIFVuKGUsdCl7Y29uc3Qgbj10LnNwbGl0KCIuIik7cmV0dXJuKCk9PntsZXQgdD1lO2ZvcihsZXQgZT0wO2U8bi5sZW5ndGgmJnQ7ZSsrKXQ9dFtuW2VdXTtyZXR1cm4gdH19ZnVuY3Rpb24gam4oZSx0LG49MCxzKXtpZighYihlKXx8ZS5fX3Zfc2tpcClyZXR1cm4gZTtpZih0JiZ0PjApe2lmKG4+PXQpcmV0dXJuIGU7bisrfWlmKChzPXN8fG5ldyBTZXQpLmhhcyhlKSlyZXR1cm4gZTtpZihzLmFkZChlKSxJdChlKSlqbihlLnZhbHVlLHQsbixzKTtlbHNlIGlmKHAoZSkpZm9yKGxldCBvPTA7bzxlLmxlbmd0aDtvKyspam4oZVtvXSx0LG4scyk7ZWxzZSBpZihmKGUpfHxoKGUpKWUuZm9yRWFjaCgoZT0+e2puKGUsdCxuLHMpfSkpO2Vsc2UgaWYoayhlKSlmb3IoY29uc3QgbyBpbiBlKWpuKGVbb10sdCxuLHMpO3JldHVybiBlfWZ1bmN0aW9uIEhuKGUsdCxuLHMpe2NvbnN0IG89ZS5kaXJzLHI9dCYmdC5kaXJzO2ZvcihsZXQgaT0wO2k8by5sZW5ndGg7aSsrKXtjb25zdCBsPW9baV07ciYmKGwub2xkVmFsdWU9cltpXS52YWx1ZSk7bGV0IGM9bC5kaXJbc107YyYmKHllKCksSHQoYyxuLDgsW2UuZWwsbCxlLHRdKSxiZSgpKX19Y29uc3QgcW49U3ltYm9sKCJfbGVhdmVDYiIpLFduPVN5bWJvbCgiX2VudGVyQ2IiKTtmdW5jdGlvbiBLbigpe2NvbnN0IGU9e2lzTW91bnRlZDohMSxpc0xlYXZpbmc6ITEsaXNVbm1vdW50aW5nOiExLGxlYXZpbmdWTm9kZXM6bmV3IE1hcH07cmV0dXJuIHZzKCgoKT0+e2UuaXNNb3VudGVkPSEwfSkpLF9zKCgoKT0+e2UuaXNVbm1vdW50aW5nPSEwfSkpLGV9Y29uc3Qgem49W0Z1bmN0aW9uLEFycmF5XSxHbj17bW9kZTpTdHJpbmcsYXBwZWFyOkJvb2xlYW4scGVyc2lzdGVkOkJvb2xlYW4sb25CZWZvcmVFbnRlcjp6bixvbkVudGVyOnpuLG9uQWZ0ZXJFbnRlcjp6bixvbkVudGVyQ2FuY2VsbGVkOnpuLG9uQmVmb3JlTGVhdmU6em4sb25MZWF2ZTp6bixvbkFmdGVyTGVhdmU6em4sb25MZWF2ZUNhbmNlbGxlZDp6bixvbkJlZm9yZUFwcGVhcjp6bixvbkFwcGVhcjp6bixvbkFmdGVyQXBwZWFyOnpuLG9uQXBwZWFyQ2FuY2VsbGVkOnpufSxKbj17bmFtZToiQmFzZVRyYW5zaXRpb24iLHByb3BzOkduLHNldHVwKGUse3Nsb3RzOnR9KXtjb25zdCBuPXVyKCkscz1LbigpO3JldHVybigpPT57Y29uc3Qgbz10LmRlZmF1bHQmJnRzKHQuZGVmYXVsdCgpLCEwKTtpZighb3x8IW8ubGVuZ3RoKXJldHVybjtsZXQgcj1vWzBdO2lmKG8ubGVuZ3RoPjEpZm9yKGNvbnN0IGUgb2YgbylpZihlLnR5cGUhPT1Qbyl7cj1lO2JyZWFrfWNvbnN0IGk9Q3QoZSkse21vZGU6bH09aTtpZihzLmlzTGVhdmluZylyZXR1cm4gWm4ocik7Y29uc3QgYz1ZbihyKTtpZighYylyZXR1cm4gWm4ocik7Y29uc3QgYT1RbihjLGkscyxuKTtlcyhjLGEpO2NvbnN0IHU9bi5zdWJUcmVlLGQ9dSYmWW4odSk7aWYoZCYmZC50eXBlIT09UG8mJiF6byhjLGQpKXtjb25zdCBlPVFuKGQsaSxzLG4pO2lmKGVzKGQsZSksIm91dC1pbiI9PT1sKXJldHVybiBzLmlzTGVhdmluZz0hMCxlLmFmdGVyTGVhdmU9KCk9PntzLmlzTGVhdmluZz0hMSwhMSE9PW4udXBkYXRlLmFjdGl2ZSYmKG4uZWZmZWN0LmRpcnR5PSEwLG4udXBkYXRlKCkpfSxabihyKTsiaW4tb3V0Ij09PWwmJmMudHlwZSE9PVBvJiYoZS5kZWxheUxlYXZlPShlLHQsbik9PntYbihzLGQpW1N0cmluZyhkLmtleSldPWQsZVtxbl09KCk9Pnt0KCksZVtxbl09dm9pZCAwLGRlbGV0ZSBhLmRlbGF5ZWRMZWF2ZX0sYS5kZWxheWVkTGVhdmU9bn0pfXJldHVybiByfX19O2Z1bmN0aW9uIFhuKGUsdCl7Y29uc3R7bGVhdmluZ1ZOb2RlczpufT1lO2xldCBzPW4uZ2V0KHQudHlwZSk7cmV0dXJuIHN8fChzPU9iamVjdC5jcmVhdGUobnVsbCksbi5zZXQodC50eXBlLHMpKSxzfWZ1bmN0aW9uIFFuKGUsdCxuLHMpe2NvbnN0e2FwcGVhcjpvLG1vZGU6cixwZXJzaXN0ZWQ6aT0hMSxvbkJlZm9yZUVudGVyOmwsb25FbnRlcjpjLG9uQWZ0ZXJFbnRlcjphLG9uRW50ZXJDYW5jZWxsZWQ6dSxvbkJlZm9yZUxlYXZlOmQsb25MZWF2ZTpoLG9uQWZ0ZXJMZWF2ZTpmLG9uTGVhdmVDYW5jZWxsZWQ6bSxvbkJlZm9yZUFwcGVhcjpnLG9uQXBwZWFyOnYsb25BZnRlckFwcGVhcjp5LG9uQXBwZWFyQ2FuY2VsbGVkOmJ9PXQsXz1TdHJpbmcoZS5rZXkpLFM9WG4obixlKSx4PShlLHQpPT57ZSYmSHQoZSxzLDksdCl9LEM9KGUsdCk9Pntjb25zdCBuPXRbMV07eChlLHQpLHAoZSk/ZS5ldmVyeSgoZT0+ZS5sZW5ndGg8PTEpKSYmbigpOmUubGVuZ3RoPD0xJiZuKCl9LGs9e21vZGU6cixwZXJzaXN0ZWQ6aSxiZWZvcmVFbnRlcih0KXtsZXQgcz1sO2lmKCFuLmlzTW91bnRlZCl7aWYoIW8pcmV0dXJuO3M9Z3x8bH10W3FuXSYmdFtxbl0oITApO2NvbnN0IHI9U1tfXTtyJiZ6byhlLHIpJiZyLmVsW3FuXSYmci5lbFtxbl0oKSx4KHMsW3RdKX0sZW50ZXIoZSl7bGV0IHQ9YyxzPWEscj11O2lmKCFuLmlzTW91bnRlZCl7aWYoIW8pcmV0dXJuO3Q9dnx8YyxzPXl8fGEscj1ifHx1fWxldCBpPSExO2NvbnN0IGw9ZVtXbl09dD0+e2l8fChpPSEwLHgodD9yOnMsW2VdKSxrLmRlbGF5ZWRMZWF2ZSYmay5kZWxheWVkTGVhdmUoKSxlW1duXT12b2lkIDApfTt0P0ModCxbZSxsXSk6bCgpfSxsZWF2ZSh0LHMpe2NvbnN0IG89U3RyaW5nKGUua2V5KTtpZih0W1duXSYmdFtXbl0oITApLG4uaXNVbm1vdW50aW5nKXJldHVybiBzKCk7eChkLFt0XSk7bGV0IHI9ITE7Y29uc3QgaT10W3FuXT1uPT57cnx8KHI9ITAscygpLHgobj9tOmYsW3RdKSx0W3FuXT12b2lkIDAsU1tvXT09PWUmJmRlbGV0ZSBTW29dKX07U1tvXT1lLGg/QyhoLFt0LGldKTppKCl9LGNsb25lOmU9PlFuKGUsdCxuLHMpfTtyZXR1cm4ga31mdW5jdGlvbiBabihlKXtpZihycyhlKSlyZXR1cm4oZT1lcihlKSkuY2hpbGRyZW49bnVsbCxlfWZ1bmN0aW9uIFluKGUpe3JldHVybiBycyhlKT9lLmNoaWxkcmVuP2UuY2hpbGRyZW5bMF06dm9pZCAwOmV9ZnVuY3Rpb24gZXMoZSx0KXs2JmUuc2hhcGVGbGFnJiZlLmNvbXBvbmVudD9lcyhlLmNvbXBvbmVudC5zdWJUcmVlLHQpOjEyOCZlLnNoYXBlRmxhZz8oZS5zc0NvbnRlbnQudHJhbnNpdGlvbj10LmNsb25lKGUuc3NDb250ZW50KSxlLnNzRmFsbGJhY2sudHJhbnNpdGlvbj10LmNsb25lKGUuc3NGYWxsYmFjaykpOmUudHJhbnNpdGlvbj10fWZ1bmN0aW9uIHRzKGUsdD0hMSxuKXtsZXQgcz1bXSxvPTA7Zm9yKGxldCByPTA7cjxlLmxlbmd0aDtyKyspe2xldCBpPWVbcl07Y29uc3QgbD1udWxsPT1uP2kua2V5OlN0cmluZyhuKStTdHJpbmcobnVsbCE9aS5rZXk/aS5rZXk6cik7aS50eXBlPT09Rm8/KDEyOCZpLnBhdGNoRmxhZyYmbysrLHM9cy5jb25jYXQodHMoaS5jaGlsZHJlbix0LGwpKSk6KHR8fGkudHlwZSE9PVBvKSYmcy5wdXNoKG51bGwhPWw/ZXIoaSx7a2V5Omx9KTppKX1pZihvPjEpZm9yKGxldCByPTA7cjxzLmxlbmd0aDtyKyspc1tyXS5wYXRjaEZsYWc9LTI7cmV0dXJuIHN9Ci8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqL2Z1bmN0aW9uIG5zKGUsdCl7cmV0dXJuIGcoZSk/KCgpPT5jKHtuYW1lOmUubmFtZX0sdCx7c2V0dXA6ZX0pKSgpOmV9Y29uc3Qgc3M9ZT0+ISFlLnR5cGUuX19hc3luY0xvYWRlcgovKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi87ZnVuY3Rpb24gb3MoZSx0KXtjb25zdHtyZWY6bixwcm9wczpzLGNoaWxkcmVuOm8sY2U6cn09dC52bm9kZSxpPVpvKGUscyxvKTtyZXR1cm4gaS5yZWY9bixpLmNlPXIsZGVsZXRlIHQudm5vZGUuY2UsaX1jb25zdCBycz1lPT5lLnR5cGUuX19pc0tlZXBBbGl2ZSxpcz17bmFtZToiS2VlcEFsaXZlIixfX2lzS2VlcEFsaXZlOiEwLHByb3BzOntpbmNsdWRlOltTdHJpbmcsUmVnRXhwLEFycmF5XSxleGNsdWRlOltTdHJpbmcsUmVnRXhwLEFycmF5XSxtYXg6W1N0cmluZyxOdW1iZXJdfSxzZXR1cChlLHtzbG90czp0fSl7Y29uc3Qgbj11cigpLHM9bi5jdHgsbz1uZXcgTWFwLHI9bmV3IFNldDtsZXQgaT1udWxsO2NvbnN0IGw9bi5zdXNwZW5zZSx7cmVuZGVyZXI6e3A6YyxtOmEsdW06dSxvOntjcmVhdGVFbGVtZW50OmR9fX09cyxwPWQoImRpdiIpO2Z1bmN0aW9uIGgoZSl7cHMoZSksdShlLG4sbCwhMCl9ZnVuY3Rpb24gZihlKXtvLmZvckVhY2goKCh0LG4pPT57Y29uc3Qgcz1rcih0LnR5cGUpOyFzfHxlJiZlKHMpfHxtKG4pfSkpfWZ1bmN0aW9uIG0oZSl7Y29uc3QgdD1vLmdldChlKTtpJiZ6byh0LGkpP2kmJnBzKGkpOmgodCksby5kZWxldGUoZSksci5kZWxldGUoZSl9cy5hY3RpdmF0ZT0oZSx0LG4scyxvKT0+e2NvbnN0IHI9ZS5jb21wb25lbnQ7YShlLHQsbiwwLGwpLGMoci52bm9kZSxlLHQsbixyLGwscyxlLnNsb3RTY29wZUlkcyxvKSx5bygoKCk9PntyLmlzRGVhY3RpdmF0ZWQ9ITEsci5hJiZQKHIuYSk7Y29uc3QgdD1lLnByb3BzJiZlLnByb3BzLm9uVm5vZGVNb3VudGVkO3QmJmlyKHQsci5wYXJlbnQsZSl9KSxsKX0scy5kZWFjdGl2YXRlPWU9Pntjb25zdCB0PWUuY29tcG9uZW50O2EoZSxwLG51bGwsMSxsKSx5bygoKCk9Pnt0LmRhJiZQKHQuZGEpO2NvbnN0IG49ZS5wcm9wcyYmZS5wcm9wcy5vblZub2RlVW5tb3VudGVkO24mJmlyKG4sdC5wYXJlbnQsZSksdC5pc0RlYWN0aXZhdGVkPSEwfSksbCl9LEJuKCgoKT0+W2UuaW5jbHVkZSxlLmV4Y2x1ZGVdKSwoKFtlLHRdKT0+e2UmJmYoKHQ9PmxzKGUsdCkpKSx0JiZmKChlPT4hbHModCxlKSkpfSkse2ZsdXNoOiJwb3N0IixkZWVwOiEwfSk7bGV0IGc9bnVsbDtjb25zdCB2PSgpPT57bnVsbCE9ZyYmby5zZXQoZyxocyhuLnN1YlRyZWUpKX07cmV0dXJuIHZzKHYpLGJzKHYpLF9zKCgoKT0+e28uZm9yRWFjaCgoZT0+e2NvbnN0e3N1YlRyZWU6dCxzdXNwZW5zZTpzfT1uLG89aHModCk7aWYoZS50eXBlIT09by50eXBlfHxlLmtleSE9PW8ua2V5KWgoZSk7ZWxzZXtwcyhvKTtjb25zdCBlPW8uY29tcG9uZW50LmRhO2UmJnlvKGUscyl9fSkpfSkpLCgpPT57aWYoZz1udWxsLCF0LmRlZmF1bHQpcmV0dXJuIG51bGw7Y29uc3Qgbj10LmRlZmF1bHQoKSxzPW5bMF07aWYobi5sZW5ndGg+MSlyZXR1cm4gaT1udWxsLG47aWYoIShLbyhzKSYmKDQmcy5zaGFwZUZsYWd8fDEyOCZzLnNoYXBlRmxhZykpKXJldHVybiBpPW51bGwscztsZXQgbD1ocyhzKTtjb25zdCBjPWwudHlwZSxhPWtyKHNzKGwpP2wudHlwZS5fX2FzeW5jUmVzb2x2ZWR8fHt9OmMpLHtpbmNsdWRlOnUsZXhjbHVkZTpkLG1heDpwfT1lO2lmKHUmJighYXx8IWxzKHUsYSkpfHxkJiZhJiZscyhkLGEpKXJldHVybiBpPWwscztjb25zdCBoPW51bGw9PWwua2V5P2M6bC5rZXksZj1vLmdldChoKTtyZXR1cm4gbC5lbCYmKGw9ZXIobCksMTI4JnMuc2hhcGVGbGFnJiYocy5zc0NvbnRlbnQ9bCkpLGc9aCxmPyhsLmVsPWYuZWwsbC5jb21wb25lbnQ9Zi5jb21wb25lbnQsbC50cmFuc2l0aW9uJiZlcyhsLGwudHJhbnNpdGlvbiksbC5zaGFwZUZsYWd8PTUxMixyLmRlbGV0ZShoKSxyLmFkZChoKSk6KHIuYWRkKGgpLHAmJnIuc2l6ZT5wYXJzZUludChwLDEwKSYmbShyLnZhbHVlcygpLm5leHQoKS52YWx1ZSkpLGwuc2hhcGVGbGFnfD0yNTYsaT1sLHduKHMudHlwZSk/czpsfX19O2Z1bmN0aW9uIGxzKGUsdCl7cmV0dXJuIHAoZSk/ZS5zb21lKChlPT5scyhlLHQpKSk6dihlKT9lLnNwbGl0KCIsIikuaW5jbHVkZXModCk6IltvYmplY3QgUmVnRXhwXSI9PT14KGUpJiZlLnRlc3QodCl9ZnVuY3Rpb24gY3MoZSx0KXt1cyhlLCJhIix0KX1mdW5jdGlvbiBhcyhlLHQpe3VzKGUsImRhIix0KX1mdW5jdGlvbiB1cyhlLHQsbj1hcil7Y29uc3Qgcz1lLl9fd2RjfHwoZS5fX3dkYz0oKT0+e2xldCB0PW47Zm9yKDt0Oyl7aWYodC5pc0RlYWN0aXZhdGVkKXJldHVybjt0PXQucGFyZW50fXJldHVybiBlKCl9KTtpZihmcyh0LHMsbiksbil7bGV0IGU9bi5wYXJlbnQ7Zm9yKDtlJiZlLnBhcmVudDspcnMoZS5wYXJlbnQudm5vZGUpJiZkcyhzLHQsbixlKSxlPWUucGFyZW50fX1mdW5jdGlvbiBkcyhlLHQsbixzKXtjb25zdCBvPWZzKHQsZSxzLCEwKTtTcygoKCk9PnthKHNbdF0sbyl9KSxuKX1mdW5jdGlvbiBwcyhlKXtlLnNoYXBlRmxhZyY9LTI1NyxlLnNoYXBlRmxhZyY9LTUxM31mdW5jdGlvbiBocyhlKXtyZXR1cm4gMTI4JmUuc2hhcGVGbGFnP2Uuc3NDb250ZW50OmV9ZnVuY3Rpb24gZnMoZSx0LG49YXIscz0hMSl7aWYobil7Y29uc3Qgbz1uW2VdfHwobltlXT1bXSkscj10Ll9fd2VofHwodC5fX3dlaD0oLi4ucyk9PntpZihuLmlzVW5tb3VudGVkKXJldHVybjt5ZSgpO2NvbnN0IG89aHIobikscj1IdCh0LG4sZSxzKTtyZXR1cm4gbygpLGJlKCkscn0pO3JldHVybiBzP28udW5zaGlmdChyKTpvLnB1c2gocikscn19Y29uc3QgbXM9ZT0+KHQsbj1hcik9PigheXJ8fCJzcCI9PT1lKSYmZnMoZSwoKC4uLmUpPT50KC4uLmUpKSxuKSxncz1tcygiYm0iKSx2cz1tcygibSIpLHlzPW1zKCJidSIpLGJzPW1zKCJ1IiksX3M9bXMoImJ1bSIpLFNzPW1zKCJ1bSIpLHhzPW1zKCJzcCIpLENzPW1zKCJydGciKSxrcz1tcygicnRjIik7ZnVuY3Rpb24gVHMoZSx0PWFyKXtmcygiZWMiLGUsdCl9ZnVuY3Rpb24gd3MoZSl7cmV0dXJuIGUuc29tZSgoZT0+IUtvKGUpfHxlLnR5cGUhPT1QbyYmIShlLnR5cGU9PT1GbyYmIXdzKGUuY2hpbGRyZW4pKSkpP2U6bnVsbH1jb25zdCBFcz1lPT5lP21yKGUpP0NyKGUpfHxlLnByb3h5OkVzKGUucGFyZW50KTpudWxsLE5zPWMoT2JqZWN0LmNyZWF0ZShudWxsKSx7JDplPT5lLCRlbDplPT5lLnZub2RlLmVsLCRkYXRhOmU9PmUuZGF0YSwkcHJvcHM6ZT0+ZS5wcm9wcywkYXR0cnM6ZT0+ZS5hdHRycywkc2xvdHM6ZT0+ZS5zbG90cywkcmVmczplPT5lLnJlZnMsJHBhcmVudDplPT5FcyhlLnBhcmVudCksJHJvb3Q6ZT0+RXMoZS5yb290KSwkZW1pdDplPT5lLmVtaXQsJG9wdGlvbnM6ZT0+QnMoZSksJGZvcmNlVXBkYXRlOmU9PmUuZnx8KGUuZj0oKT0+e2UuZWZmZWN0LmRpcnR5PSEwLHRuKGUudXBkYXRlKX0pLCRuZXh0VGljazplPT5lLm58fChlLm49ZW4uYmluZChlLnByb3h5KSksJHdhdGNoOmU9PkRuLmJpbmQoZSl9KSxBcz0oZSx0KT0+ZSE9PW4mJiFlLl9faXNTY3JpcHRTZXR1cCYmZChlLHQpLElzPXtnZXQoe186ZX0sdCl7Y29uc3R7Y3R4OnMsc2V0dXBTdGF0ZTpvLGRhdGE6cixwcm9wczppLGFjY2Vzc0NhY2hlOmwsdHlwZTpjLGFwcENvbnRleHQ6YX09ZTtsZXQgdTtpZigiJCIhPT10WzBdKXtjb25zdCBjPWxbdF07aWYodm9pZCAwIT09Yylzd2l0Y2goYyl7Y2FzZSAxOnJldHVybiBvW3RdO2Nhc2UgMjpyZXR1cm4gclt0XTtjYXNlIDQ6cmV0dXJuIHNbdF07Y2FzZSAzOnJldHVybiBpW3RdfWVsc2V7aWYoQXMobyx0KSlyZXR1cm4gbFt0XT0xLG9bdF07aWYociE9PW4mJmQocix0KSlyZXR1cm4gbFt0XT0yLHJbdF07aWYoKHU9ZS5wcm9wc09wdGlvbnNbMF0pJiZkKHUsdCkpcmV0dXJuIGxbdF09MyxpW3RdO2lmKHMhPT1uJiZkKHMsdCkpcmV0dXJuIGxbdF09NCxzW3RdO0ZzJiYobFt0XT0wKX19Y29uc3QgcD1Oc1t0XTtsZXQgaCxmO3JldHVybiBwPygiJGF0dHJzIj09PXQmJkFlKGUsMCx0KSxwKGUpKTooaD1jLl9fY3NzTW9kdWxlcykmJihoPWhbdF0pP2g6cyE9PW4mJmQocyx0KT8obFt0XT00LHNbdF0pOihmPWEuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsZChmLHQpP2ZbdF06dm9pZCAwKX0sc2V0KHtfOmV9LHQscyl7Y29uc3R7ZGF0YTpvLHNldHVwU3RhdGU6cixjdHg6aX09ZTtyZXR1cm4gQXMocix0KT8oclt0XT1zLCEwKTpvIT09biYmZChvLHQpPyhvW3RdPXMsITApOiFkKGUucHJvcHMsdCkmJigoIiQiIT09dFswXXx8ISh0LnNsaWNlKDEpaW4gZSkpJiYoaVt0XT1zLCEwKSl9LGhhcyh7Xzp7ZGF0YTplLHNldHVwU3RhdGU6dCxhY2Nlc3NDYWNoZTpzLGN0eDpvLGFwcENvbnRleHQ6cixwcm9wc09wdGlvbnM6aX19LGwpe2xldCBjO3JldHVybiEhc1tsXXx8ZSE9PW4mJmQoZSxsKXx8QXModCxsKXx8KGM9aVswXSkmJmQoYyxsKXx8ZChvLGwpfHxkKE5zLGwpfHxkKHIuY29uZmlnLmdsb2JhbFByb3BlcnRpZXMsbCl9LGRlZmluZVByb3BlcnR5KGUsdCxuKXtyZXR1cm4gbnVsbCE9bi5nZXQ/ZS5fLmFjY2Vzc0NhY2hlW3RdPTA6ZChuLCJ2YWx1ZSIpJiZ0aGlzLnNldChlLHQsbi52YWx1ZSxudWxsKSxSZWZsZWN0LmRlZmluZVByb3BlcnR5KGUsdCxuKX19LFJzPWMoe30sSXMse2dldChlLHQpe2lmKHQhPT1TeW1ib2wudW5zY29wYWJsZXMpcmV0dXJuIElzLmdldChlLHQsZSl9LGhhczooZSx0KT0+Il8iIT09dFswXSYmIWoodCl9KTtmdW5jdGlvbiBPcygpe2NvbnN0IGU9dXIoKTtyZXR1cm4gZS5zZXR1cENvbnRleHR8fChlLnNldHVwQ29udGV4dD14cihlKSl9ZnVuY3Rpb24gTHMoZSl7cmV0dXJuIHAoZSk/ZS5yZWR1Y2UoKChlLHQpPT4oZVt0XT1udWxsLGUpKSx7fSk6ZX1sZXQgRnM9ITA7ZnVuY3Rpb24gTXMoZSl7Y29uc3QgdD1CcyhlKSxuPWUucHJveHkscz1lLmN0eDtGcz0hMSx0LmJlZm9yZUNyZWF0ZSYmUHModC5iZWZvcmVDcmVhdGUsZSwiYmMiKTtjb25zdHtkYXRhOnIsY29tcHV0ZWQ6aSxtZXRob2RzOmwsd2F0Y2g6Yyxwcm92aWRlOmEsaW5qZWN0OnUsY3JlYXRlZDpkLGJlZm9yZU1vdW50OmgsbW91bnRlZDpmLGJlZm9yZVVwZGF0ZTptLHVwZGF0ZWQ6dixhY3RpdmF0ZWQ6eSxkZWFjdGl2YXRlZDpfLGJlZm9yZVVubW91bnQ6Uyx1bm1vdW50ZWQ6eCxyZW5kZXI6QyxyZW5kZXJUcmFja2VkOmsscmVuZGVyVHJpZ2dlcmVkOlQsZXJyb3JDYXB0dXJlZDp3LHNlcnZlclByZWZldGNoOkUsZXhwb3NlOk4saW5oZXJpdEF0dHJzOkEsY29tcG9uZW50czpJLGRpcmVjdGl2ZXM6Un09dDtpZih1JiZmdW5jdGlvbihlLHQsbj1vKXtwKGUpJiYoZT1qcyhlKSk7Zm9yKGNvbnN0IHMgaW4gZSl7Y29uc3Qgbj1lW3NdO2xldCBvO289YihuKT8iZGVmYXVsdCJpbiBuP1FzKG4uZnJvbXx8cyxuLmRlZmF1bHQsITApOlFzKG4uZnJvbXx8cyk6UXMobiksSXQobyk/T2JqZWN0LmRlZmluZVByb3BlcnR5KHQscyx7ZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITAsZ2V0OigpPT5vLnZhbHVlLHNldDplPT5vLnZhbHVlPWV9KTp0W3NdPW99fSh1LHMsbnVsbCksbClmb3IoY29uc3QgbyBpbiBsKXtjb25zdCBlPWxbb107ZyhlKSYmKHNbb109ZS5iaW5kKG4pKX1pZihyKXtjb25zdCB0PXIuY2FsbChuLG4pO2IodCkmJihlLmRhdGE9bXQodCkpfWlmKEZzPSEwLGkpZm9yKGNvbnN0IHAgaW4gaSl7Y29uc3QgZT1pW3BdLHQ9ZyhlKT9lLmJpbmQobixuKTpnKGUuZ2V0KT9lLmdldC5iaW5kKG4sbik6byxyPSFnKGUpJiZnKGUuc2V0KT9lLnNldC5iaW5kKG4pOm8sbD1Ucih7Z2V0OnQsc2V0OnJ9KTtPYmplY3QuZGVmaW5lUHJvcGVydHkocyxwLHtlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCxnZXQ6KCk9PmwudmFsdWUsc2V0OmU9PmwudmFsdWU9ZX0pfWlmKGMpZm9yKGNvbnN0IG8gaW4gYykkcyhjW29dLHMsbixvKTtpZihhKXtjb25zdCBlPWcoYSk/YS5jYWxsKG4pOmE7UmVmbGVjdC5vd25LZXlzKGUpLmZvckVhY2goKHQ9PntYcyh0LGVbdF0pfSkpfWZ1bmN0aW9uIE8oZSx0KXtwKHQpP3QuZm9yRWFjaCgodD0+ZSh0LmJpbmQobikpKSk6dCYmZSh0LmJpbmQobikpfWlmKGQmJlBzKGQsZSwiYyIpLE8oZ3MsaCksTyh2cyxmKSxPKHlzLG0pLE8oYnMsdiksTyhjcyx5KSxPKGFzLF8pLE8oVHMsdyksTyhrcyxrKSxPKENzLFQpLE8oX3MsUyksTyhTcyx4KSxPKHhzLEUpLHAoTikpaWYoTi5sZW5ndGgpe2NvbnN0IHQ9ZS5leHBvc2VkfHwoZS5leHBvc2VkPXt9KTtOLmZvckVhY2goKGU9PntPYmplY3QuZGVmaW5lUHJvcGVydHkodCxlLHtnZXQ6KCk9Pm5bZV0sc2V0OnQ9Pm5bZV09dH0pfSkpfWVsc2UgZS5leHBvc2VkfHwoZS5leHBvc2VkPXt9KTtDJiZlLnJlbmRlcj09PW8mJihlLnJlbmRlcj1DKSxudWxsIT1BJiYoZS5pbmhlcml0QXR0cnM9QSksSSYmKGUuY29tcG9uZW50cz1JKSxSJiYoZS5kaXJlY3RpdmVzPVIpfWZ1bmN0aW9uIFBzKGUsdCxuKXtIdChwKGUpP2UubWFwKChlPT5lLmJpbmQodC5wcm94eSkpKTplLmJpbmQodC5wcm94eSksdCxuKX1mdW5jdGlvbiAkcyhlLHQsbixzKXtjb25zdCBvPXMuaW5jbHVkZXMoIi4iKT9VbihuLHMpOigpPT5uW3NdO2lmKHYoZSkpe2NvbnN0IG49dFtlXTtnKG4pJiZCbihvLG4pfWVsc2UgaWYoZyhlKSlCbihvLGUuYmluZChuKSk7ZWxzZSBpZihiKGUpKWlmKHAoZSkpZS5mb3JFYWNoKChlPT4kcyhlLHQsbixzKSkpO2Vsc2V7Y29uc3Qgcz1nKGUuaGFuZGxlcik/ZS5oYW5kbGVyLmJpbmQobik6dFtlLmhhbmRsZXJdO2cocykmJkJuKG8scyxlKX19ZnVuY3Rpb24gQnMoZSl7Y29uc3QgdD1lLnR5cGUse21peGluczpuLGV4dGVuZHM6c309dCx7bWl4aW5zOm8sb3B0aW9uc0NhY2hlOnIsY29uZmlnOntvcHRpb25NZXJnZVN0cmF0ZWdpZXM6aX19PWUuYXBwQ29udGV4dCxsPXIuZ2V0KHQpO2xldCBjO3JldHVybiBsP2M9bDpvLmxlbmd0aHx8bnx8cz8oYz17fSxvLmxlbmd0aCYmby5mb3JFYWNoKChlPT5WcyhjLGUsaSwhMCkpKSxWcyhjLHQsaSkpOmM9dCxiKHQpJiZyLnNldCh0LGMpLGN9ZnVuY3Rpb24gVnMoZSx0LG4scz0hMSl7Y29uc3R7bWl4aW5zOm8sZXh0ZW5kczpyfT10O3ImJlZzKGUscixuLCEwKSxvJiZvLmZvckVhY2goKHQ9PlZzKGUsdCxuLCEwKSkpO2Zvcihjb25zdCBpIGluIHQpaWYocyYmImV4cG9zZSI9PT1pKTtlbHNle2NvbnN0IHM9RHNbaV18fG4mJm5baV07ZVtpXT1zP3MoZVtpXSx0W2ldKTp0W2ldfXJldHVybiBlfWNvbnN0IERzPXtkYXRhOlVzLHByb3BzOldzLGVtaXRzOldzLG1ldGhvZHM6cXMsY29tcHV0ZWQ6cXMsYmVmb3JlQ3JlYXRlOkhzLGNyZWF0ZWQ6SHMsYmVmb3JlTW91bnQ6SHMsbW91bnRlZDpIcyxiZWZvcmVVcGRhdGU6SHMsdXBkYXRlZDpIcyxiZWZvcmVEZXN0cm95OkhzLGJlZm9yZVVubW91bnQ6SHMsZGVzdHJveWVkOkhzLHVubW91bnRlZDpIcyxhY3RpdmF0ZWQ6SHMsZGVhY3RpdmF0ZWQ6SHMsZXJyb3JDYXB0dXJlZDpIcyxzZXJ2ZXJQcmVmZXRjaDpIcyxjb21wb25lbnRzOnFzLGRpcmVjdGl2ZXM6cXMsd2F0Y2g6ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4gdDtpZighdClyZXR1cm4gZTtjb25zdCBuPWMoT2JqZWN0LmNyZWF0ZShudWxsKSxlKTtmb3IoY29uc3QgcyBpbiB0KW5bc109SHMoZVtzXSx0W3NdKTtyZXR1cm4gbn0scHJvdmlkZTpVcyxpbmplY3Q6ZnVuY3Rpb24oZSx0KXtyZXR1cm4gcXMoanMoZSksanModCkpfX07ZnVuY3Rpb24gVXMoZSx0KXtyZXR1cm4gdD9lP2Z1bmN0aW9uKCl7cmV0dXJuIGMoZyhlKT9lLmNhbGwodGhpcyx0aGlzKTplLGcodCk/dC5jYWxsKHRoaXMsdGhpcyk6dCl9OnQ6ZX1mdW5jdGlvbiBqcyhlKXtpZihwKGUpKXtjb25zdCB0PXt9O2ZvcihsZXQgbj0wO248ZS5sZW5ndGg7bisrKXRbZVtuXV09ZVtuXTtyZXR1cm4gdH1yZXR1cm4gZX1mdW5jdGlvbiBIcyhlLHQpe3JldHVybiBlP1suLi5uZXcgU2V0KFtdLmNvbmNhdChlLHQpKV06dH1mdW5jdGlvbiBxcyhlLHQpe3JldHVybiBlP2MoT2JqZWN0LmNyZWF0ZShudWxsKSxlLHQpOnR9ZnVuY3Rpb24gV3MoZSx0KXtyZXR1cm4gZT9wKGUpJiZwKHQpP1suLi5uZXcgU2V0KFsuLi5lLC4uLnRdKV06YyhPYmplY3QuY3JlYXRlKG51bGwpLExzKGUpLExzKG51bGwhPXQ/dDp7fSkpOnR9ZnVuY3Rpb24gS3MoKXtyZXR1cm57YXBwOm51bGwsY29uZmlnOntpc05hdGl2ZVRhZzpyLHBlcmZvcm1hbmNlOiExLGdsb2JhbFByb3BlcnRpZXM6e30sb3B0aW9uTWVyZ2VTdHJhdGVnaWVzOnt9LGVycm9ySGFuZGxlcjp2b2lkIDAsd2FybkhhbmRsZXI6dm9pZCAwLGNvbXBpbGVyT3B0aW9uczp7fX0sbWl4aW5zOltdLGNvbXBvbmVudHM6e30sZGlyZWN0aXZlczp7fSxwcm92aWRlczpPYmplY3QuY3JlYXRlKG51bGwpLG9wdGlvbnNDYWNoZTpuZXcgV2Vha01hcCxwcm9wc0NhY2hlOm5ldyBXZWFrTWFwLGVtaXRzQ2FjaGU6bmV3IFdlYWtNYXB9fWxldCB6cz0wO2Z1bmN0aW9uIEdzKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKG4scz1udWxsKXtnKG4pfHwobj1jKHt9LG4pKSxudWxsPT1zfHxiKHMpfHwocz1udWxsKTtjb25zdCBvPUtzKCkscj1uZXcgV2Vha1NldDtsZXQgaT0hMTtjb25zdCBsPW8uYXBwPXtfdWlkOnpzKyssX2NvbXBvbmVudDpuLF9wcm9wczpzLF9jb250YWluZXI6bnVsbCxfY29udGV4dDpvLF9pbnN0YW5jZTpudWxsLHZlcnNpb246TnIsZ2V0IGNvbmZpZygpe3JldHVybiBvLmNvbmZpZ30sc2V0IGNvbmZpZyhlKXt9LHVzZTooZSwuLi50KT0+KHIuaGFzKGUpfHwoZSYmZyhlLmluc3RhbGwpPyhyLmFkZChlKSxlLmluc3RhbGwobCwuLi50KSk6ZyhlKSYmKHIuYWRkKGUpLGUobCwuLi50KSkpLGwpLG1peGluOmU9PihvLm1peGlucy5pbmNsdWRlcyhlKXx8by5taXhpbnMucHVzaChlKSxsKSxjb21wb25lbnQ6KGUsdCk9PnQ/KG8uY29tcG9uZW50c1tlXT10LGwpOm8uY29tcG9uZW50c1tlXSxkaXJlY3RpdmU6KGUsdCk9PnQ/KG8uZGlyZWN0aXZlc1tlXT10LGwpOm8uZGlyZWN0aXZlc1tlXSxtb3VudChyLGMsYSl7aWYoIWkpe2NvbnN0IHU9Wm8obixzKTtyZXR1cm4gdS5hcHBDb250ZXh0PW8sITA9PT1hP2E9InN2ZyI6ITE9PT1hJiYoYT12b2lkIDApLGMmJnQ/dCh1LHIpOmUodSxyLGEpLGk9ITAsbC5fY29udGFpbmVyPXIsci5fX3Z1ZV9hcHBfXz1sLENyKHUuY29tcG9uZW50KXx8dS5jb21wb25lbnQucHJveHl9fSx1bm1vdW50KCl7aSYmKGUobnVsbCxsLl9jb250YWluZXIpLGRlbGV0ZSBsLl9jb250YWluZXIuX192dWVfYXBwX18pfSxwcm92aWRlOihlLHQpPT4oby5wcm92aWRlc1tlXT10LGwpLHJ1bldpdGhDb250ZXh0KGUpe2NvbnN0IHQ9SnM7SnM9bDt0cnl7cmV0dXJuIGUoKX1maW5hbGx5e0pzPXR9fX07cmV0dXJuIGx9fWxldCBKcz1udWxsO2Z1bmN0aW9uIFhzKGUsdCl7aWYoYXIpe2xldCBuPWFyLnByb3ZpZGVzO2NvbnN0IHM9YXIucGFyZW50JiZhci5wYXJlbnQucHJvdmlkZXM7cz09PW4mJihuPWFyLnByb3ZpZGVzPU9iamVjdC5jcmVhdGUocykpLG5bZV09dH1lbHNlO31mdW5jdGlvbiBRcyhlLHQsbj0hMSl7Y29uc3Qgcz1hcnx8aG47aWYoc3x8SnMpe2NvbnN0IG89cz9udWxsPT1zLnBhcmVudD9zLnZub2RlLmFwcENvbnRleHQmJnMudm5vZGUuYXBwQ29udGV4dC5wcm92aWRlczpzLnBhcmVudC5wcm92aWRlczpKcy5fY29udGV4dC5wcm92aWRlcztpZihvJiZlIGluIG8pcmV0dXJuIG9bZV07aWYoYXJndW1lbnRzLmxlbmd0aD4xKXJldHVybiBuJiZnKHQpP3QuY2FsbChzJiZzLnByb3h5KTp0fX1mdW5jdGlvbiBacyhlLHQscyxvKXtjb25zdFtyLGldPWUucHJvcHNPcHRpb25zO2xldCBsLGM9ITE7aWYodClmb3IobGV0IG4gaW4gdCl7aWYodyhuKSljb250aW51ZTtjb25zdCBhPXRbbl07bGV0IHU7ciYmZChyLHU9SShuKSk/aSYmaS5pbmNsdWRlcyh1KT8obHx8KGw9e30pKVt1XT1hOnNbdV09YTpwbihlLmVtaXRzT3B0aW9ucyxuKXx8biBpbiBvJiZhPT09b1tuXXx8KG9bbl09YSxjPSEwKX1pZihpKXtjb25zdCB0PUN0KHMpLG89bHx8bjtmb3IobGV0IG49MDtuPGkubGVuZ3RoO24rKyl7Y29uc3QgbD1pW25dO3NbbF09WXMocix0LGwsb1tsXSxlLCFkKG8sbCkpfX1yZXR1cm4gY31mdW5jdGlvbiBZcyhlLHQsbixzLG8scil7Y29uc3QgaT1lW25dO2lmKG51bGwhPWkpe2NvbnN0IGU9ZChpLCJkZWZhdWx0Iik7aWYoZSYmdm9pZCAwPT09cyl7Y29uc3QgZT1pLmRlZmF1bHQ7aWYoaS50eXBlIT09RnVuY3Rpb24mJiFpLnNraXBGYWN0b3J5JiZnKGUpKXtjb25zdHtwcm9wc0RlZmF1bHRzOnJ9PW87aWYobiBpbiByKXM9cltuXTtlbHNle2NvbnN0IGk9aHIobyk7cz1yW25dPWUuY2FsbChudWxsLHQpLGkoKX19ZWxzZSBzPWV9aVswXSYmKHImJiFlP3M9ITE6IWlbMV18fCIiIT09cyYmcyE9PU8obil8fChzPSEwKSl9cmV0dXJuIHN9ZnVuY3Rpb24gZW8oZSx0LG89ITEpe2NvbnN0IHI9dC5wcm9wc0NhY2hlLGk9ci5nZXQoZSk7aWYoaSlyZXR1cm4gaTtjb25zdCBsPWUucHJvcHMsYT17fSx1PVtdO2xldCBoPSExO2lmKCFnKGUpKXtjb25zdCBuPWU9PntoPSEwO2NvbnN0W24sc109ZW8oZSx0LCEwKTtjKGEsbikscyYmdS5wdXNoKC4uLnMpfTshbyYmdC5taXhpbnMubGVuZ3RoJiZ0Lm1peGlucy5mb3JFYWNoKG4pLGUuZXh0ZW5kcyYmbihlLmV4dGVuZHMpLGUubWl4aW5zJiZlLm1peGlucy5mb3JFYWNoKG4pfWlmKCFsJiYhaClyZXR1cm4gYihlKSYmci5zZXQoZSxzKSxzO2lmKHAobCkpZm9yKGxldCBzPTA7czxsLmxlbmd0aDtzKyspe2NvbnN0IGU9SShsW3NdKTt0byhlKSYmKGFbZV09bil9ZWxzZSBpZihsKWZvcihjb25zdCBuIGluIGwpe2NvbnN0IGU9SShuKTtpZih0byhlKSl7Y29uc3QgdD1sW25dLHM9YVtlXT1wKHQpfHxnKHQpP3t0eXBlOnR9OmMoe30sdCk7aWYocyl7Y29uc3QgdD1vbyhCb29sZWFuLHMudHlwZSksbj1vbyhTdHJpbmcscy50eXBlKTtzWzBdPXQ+LTEsc1sxXT1uPDB8fHQ8biwodD4tMXx8ZChzLCJkZWZhdWx0IikpJiZ1LnB1c2goZSl9fX1jb25zdCBmPVthLHVdO3JldHVybiBiKGUpJiZyLnNldChlLGYpLGZ9ZnVuY3Rpb24gdG8oZSl7cmV0dXJuIiQiIT09ZVswXSYmIXcoZSl9ZnVuY3Rpb24gbm8oZSl7aWYobnVsbD09PWUpcmV0dXJuIm51bGwiO2lmKCJmdW5jdGlvbiI9PXR5cGVvZiBlKXJldHVybiBlLm5hbWV8fCIiO2lmKCJvYmplY3QiPT10eXBlb2YgZSl7cmV0dXJuIGUuY29uc3RydWN0b3ImJmUuY29uc3RydWN0b3IubmFtZXx8IiJ9cmV0dXJuIiJ9ZnVuY3Rpb24gc28oZSx0KXtyZXR1cm4gbm8oZSk9PT1ubyh0KX1mdW5jdGlvbiBvbyhlLHQpe3JldHVybiBwKHQpP3QuZmluZEluZGV4KCh0PT5zbyh0LGUpKSk6Zyh0KSYmc28odCxlKT8wOi0xfWNvbnN0IHJvPWU9PiJfIj09PWVbMF18fCIkc3RhYmxlIj09PWUsaW89ZT0+cChlKT9lLm1hcChucik6W25yKGUpXSxsbz0oZSx0LG4pPT57aWYodC5fbilyZXR1cm4gdDtjb25zdCBzPWduKCgoLi4uZSk9PmlvKHQoLi4uZSkpKSxuKTtyZXR1cm4gcy5fYz0hMSxzfSxjbz0oZSx0LG4pPT57Y29uc3Qgcz1lLl9jdHg7Zm9yKGNvbnN0IG8gaW4gZSl7aWYocm8obykpY29udGludWU7Y29uc3Qgbj1lW29dO2lmKGcobikpdFtvXT1sbygwLG4scyk7ZWxzZSBpZihudWxsIT1uKXtjb25zdCBlPWlvKG4pO3Rbb109KCk9PmV9fX0sYW89KGUsdCk9Pntjb25zdCBuPWlvKHQpO2Uuc2xvdHMuZGVmYXVsdD0oKT0+bn0sdW89KGUsdCk9PntpZigzMiZlLnZub2RlLnNoYXBlRmxhZyl7Y29uc3Qgbj10Ll87bj8oZS5zbG90cz1DdCh0KSwkKHQsIl8iLG4pKTpjbyh0LGUuc2xvdHM9e30pfWVsc2UgZS5zbG90cz17fSx0JiZhbyhlLHQpOyQoZS5zbG90cyxHbywxKX0scG89KGUsdCxzKT0+e2NvbnN0e3Zub2RlOm8sc2xvdHM6cn09ZTtsZXQgaT0hMCxsPW47aWYoMzImby5zaGFwZUZsYWcpe2NvbnN0IGU9dC5fO2U/cyYmMT09PWU/aT0hMTooYyhyLHQpLHN8fDEhPT1lfHxkZWxldGUgci5fKTooaT0hdC4kc3RhYmxlLGNvKHQscikpLGw9dH1lbHNlIHQmJihhbyhlLHQpLGw9e2RlZmF1bHQ6MX0pO2lmKGkpZm9yKGNvbnN0IG4gaW4gcilybyhuKXx8bnVsbCE9bFtuXXx8ZGVsZXRlIHJbbl19O2Z1bmN0aW9uIGhvKGUsdCxzLG8scj0hMSl7aWYocChlKSlyZXR1cm4gdm9pZCBlLmZvckVhY2goKChlLG4pPT5obyhlLHQmJihwKHQpP3Rbbl06dCkscyxvLHIpKSk7aWYoc3MobykmJiFyKXJldHVybjtjb25zdCBpPTQmby5zaGFwZUZsYWc/Q3Ioby5jb21wb25lbnQpfHxvLmNvbXBvbmVudC5wcm94eTpvLmVsLGw9cj9udWxsOmkse2k6YyxyOnV9PWUsaD10JiZ0LnIsZj1jLnJlZnM9PT1uP2MucmVmcz17fTpjLnJlZnMsbT1jLnNldHVwU3RhdGU7aWYobnVsbCE9aCYmaCE9PXUmJih2KGgpPyhmW2hdPW51bGwsZChtLGgpJiYobVtoXT1udWxsKSk6SXQoaCkmJihoLnZhbHVlPW51bGwpKSxnKHUpKWp0KHUsYywxMixbbCxmXSk7ZWxzZXtjb25zdCB0PXYodSksbj1JdCh1KTtpZih0fHxuKXtjb25zdCBvPSgpPT57aWYoZS5mKXtjb25zdCBuPXQ/ZChtLHUpP21bdV06Zlt1XTp1LnZhbHVlO3I/cChuKSYmYShuLGkpOnAobik/bi5pbmNsdWRlcyhpKXx8bi5wdXNoKGkpOnQ/KGZbdV09W2ldLGQobSx1KSYmKG1bdV09Zlt1XSkpOih1LnZhbHVlPVtpXSxlLmsmJihmW2Uua109dS52YWx1ZSkpfWVsc2UgdD8oZlt1XT1sLGQobSx1KSYmKG1bdV09bCkpOm4mJih1LnZhbHVlPWwsZS5rJiYoZltlLmtdPWwpKX07bD8oby5pZD0tMSx5byhvLHMpKTpvKCl9fX1sZXQgZm89ITE7Y29uc3QgbW89ZT0+KGU9PmUubmFtZXNwYWNlVVJJLmluY2x1ZGVzKCJzdmciKSYmImZvcmVpZ25PYmplY3QiIT09ZS50YWdOYW1lKShlKT8ic3ZnIjooZT0+ZS5uYW1lc3BhY2VVUkkuaW5jbHVkZXMoIk1hdGhNTCIpKShlKT8ibWF0aG1sIjp2b2lkIDAsZ289ZT0+OD09PWUubm9kZVR5cGU7ZnVuY3Rpb24gdm8oZSl7Y29uc3R7bXQ6dCxwOm4sbzp7cGF0Y2hQcm9wOnMsY3JlYXRlVGV4dDpvLG5leHRTaWJsaW5nOnIscGFyZW50Tm9kZTpsLHJlbW92ZTpjLGluc2VydDphLGNyZWF0ZUNvbW1lbnQ6dX19PWUsZD0obixzLGksYyx1LGI9ITEpPT57Y29uc3QgXz1nbyhuKSYmIlsiPT09bi5kYXRhLFM9KCk9Pm0obixzLGksYyx1LF8pLHt0eXBlOngscmVmOkMsc2hhcGVGbGFnOmsscGF0Y2hGbGFnOlR9PXM7bGV0IHc9bi5ub2RlVHlwZTtzLmVsPW4sLTI9PT1UJiYoYj0hMSxzLmR5bmFtaWNDaGlsZHJlbj1udWxsKTtsZXQgRT1udWxsO3N3aXRjaCh4KXtjYXNlIE1vOjMhPT13PyIiPT09cy5jaGlsZHJlbj8oYShzLmVsPW8oIiIpLGwobiksbiksRT1uKTpFPVMoKToobi5kYXRhIT09cy5jaGlsZHJlbiYmKGZvPSEwLG4uZGF0YT1zLmNoaWxkcmVuKSxFPXIobikpO2JyZWFrO2Nhc2UgUG86eShuKT8oRT1yKG4pLHYocy5lbD1uLmNvbnRlbnQuZmlyc3RDaGlsZCxuLGkpKTpFPTghPT13fHxfP1MoKTpyKG4pO2JyZWFrO2Nhc2UgJG86aWYoXyYmKHc9KG49cihuKSkubm9kZVR5cGUpLDE9PT13fHwzPT09dyl7RT1uO2NvbnN0IGU9IXMuY2hpbGRyZW4ubGVuZ3RoO2ZvcihsZXQgdD0wO3Q8cy5zdGF0aWNDb3VudDt0KyspZSYmKHMuY2hpbGRyZW4rPTE9PT1FLm5vZGVUeXBlP0Uub3V0ZXJIVE1MOkUuZGF0YSksdD09PXMuc3RhdGljQ291bnQtMSYmKHMuYW5jaG9yPUUpLEU9cihFKTtyZXR1cm4gXz9yKEUpOkV9UygpO2JyZWFrO2Nhc2UgRm86RT1fP2YobixzLGksYyx1LGIpOlMoKTticmVhaztkZWZhdWx0OmlmKDEmaylFPTE9PT13JiZzLnR5cGUudG9Mb3dlckNhc2UoKT09PW4udGFnTmFtZS50b0xvd2VyQ2FzZSgpfHx5KG4pP3AobixzLGksYyx1LGIpOlMoKTtlbHNlIGlmKDYmayl7cy5zbG90U2NvcGVJZHM9dTtjb25zdCBlPWwobik7aWYoRT1fP2cobik6Z28obikmJiJ0ZWxlcG9ydCBzdGFydCI9PT1uLmRhdGE/ZyhuLG4uZGF0YSwidGVsZXBvcnQgZW5kIik6cihuKSx0KHMsZSxudWxsLGksYyxtbyhlKSxiKSxzcyhzKSl7bGV0IHQ7Xz8odD1abyhGbyksdC5hbmNob3I9RT9FLnByZXZpb3VzU2libGluZzplLmxhc3RDaGlsZCk6dD0zPT09bi5ub2RlVHlwZT90cigiIik6Wm8oImRpdiIpLHQuZWw9bixzLmNvbXBvbmVudC5zdWJUcmVlPXR9fWVsc2UgNjQmaz9FPTghPT13P1MoKTpzLnR5cGUuaHlkcmF0ZShuLHMsaSxjLHUsYixlLGgpOjEyOCZrJiYoRT1zLnR5cGUuaHlkcmF0ZShuLHMsaSxjLG1vKGwobikpLHUsYixlLGQpKX1yZXR1cm4gbnVsbCE9QyYmaG8oQyxudWxsLGMscyksRX0scD0oZSx0LG4sbyxyLGwpPT57bD1sfHwhIXQuZHluYW1pY0NoaWxkcmVuO2NvbnN0e3R5cGU6YSxwcm9wczp1LHBhdGNoRmxhZzpkLHNoYXBlRmxhZzpwLGRpcnM6Zix0cmFuc2l0aW9uOm19PXQsZz0iaW5wdXQiPT09YXx8Im9wdGlvbiI9PT1hO2lmKGd8fC0xIT09ZCl7ZiYmSG4odCxudWxsLG4sImNyZWF0ZWQiKTtsZXQgYSxiPSExO2lmKHkoZSkpe2I9a28obyxtKSYmbiYmbi52bm9kZS5wcm9wcyYmbi52bm9kZS5wcm9wcy5hcHBlYXI7Y29uc3Qgcz1lLmNvbnRlbnQuZmlyc3RDaGlsZDtiJiZtLmJlZm9yZUVudGVyKHMpLHYocyxlLG4pLHQuZWw9ZT1zfWlmKDE2JnAmJighdXx8IXUuaW5uZXJIVE1MJiYhdS50ZXh0Q29udGVudCkpe2xldCBzPWgoZS5maXJzdENoaWxkLHQsZSxuLG8scixsKTtmb3IoO3M7KXtmbz0hMDtjb25zdCBlPXM7cz1zLm5leHRTaWJsaW5nLGMoZSl9fWVsc2UgOCZwJiZlLnRleHRDb250ZW50IT09dC5jaGlsZHJlbiYmKGZvPSEwLGUudGV4dENvbnRlbnQ9dC5jaGlsZHJlbik7aWYodSlpZihnfHwhbHx8NDgmZClmb3IoY29uc3QgdCBpbiB1KShnJiYodC5lbmRzV2l0aCgidmFsdWUiKXx8ImluZGV0ZXJtaW5hdGUiPT09dCl8fGkodCkmJiF3KHQpfHwiLiI9PT10WzBdKSYmcyhlLHQsbnVsbCx1W3RdLHZvaWQgMCx2b2lkIDAsbik7ZWxzZSB1Lm9uQ2xpY2smJnMoZSwib25DbGljayIsbnVsbCx1Lm9uQ2xpY2ssdm9pZCAwLHZvaWQgMCxuKTsoYT11JiZ1Lm9uVm5vZGVCZWZvcmVNb3VudCkmJmlyKGEsbix0KSxmJiZIbih0LG51bGwsbiwiYmVmb3JlTW91bnQiKSwoKGE9dSYmdS5vblZub2RlTW91bnRlZCl8fGZ8fGIpJiZPbigoKCk9PnthJiZpcihhLG4sdCksYiYmbS5lbnRlcihlKSxmJiZIbih0LG51bGwsbiwibW91bnRlZCIpfSksbyl9cmV0dXJuIGUubmV4dFNpYmxpbmd9LGg9KGUsdCxzLG8scixpLGwpPT57bD1sfHwhIXQuZHluYW1pY0NoaWxkcmVuO2NvbnN0IGM9dC5jaGlsZHJlbixhPWMubGVuZ3RoO2ZvcihsZXQgdT0wO3U8YTt1Kyspe2NvbnN0IHQ9bD9jW3VdOmNbdV09bnIoY1t1XSk7aWYoZSllPWQoZSx0LG8scixpLGwpO2Vsc2V7aWYodC50eXBlPT09TW8mJiF0LmNoaWxkcmVuKWNvbnRpbnVlO2ZvPSEwLG4obnVsbCx0LHMsbnVsbCxvLHIsbW8ocyksaSl9fXJldHVybiBlfSxmPShlLHQsbixzLG8saSk9Pntjb25zdHtzbG90U2NvcGVJZHM6Y309dDtjJiYobz1vP28uY29uY2F0KGMpOmMpO2NvbnN0IGQ9bChlKSxwPWgocihlKSx0LGQsbixzLG8saSk7cmV0dXJuIHAmJmdvKHApJiYiXSI9PT1wLmRhdGE/cih0LmFuY2hvcj1wKTooZm89ITAsYSh0LmFuY2hvcj11KCJdIiksZCxwKSxwKX0sbT0oZSx0LHMsbyxpLGEpPT57aWYoZm89ITAsdC5lbD1udWxsLGEpe2NvbnN0IHQ9ZyhlKTtmb3IoOzspe2NvbnN0IG49cihlKTtpZighbnx8bj09PXQpYnJlYWs7YyhuKX19Y29uc3QgdT1yKGUpLGQ9bChlKTtyZXR1cm4gYyhlKSxuKG51bGwsdCxkLHUscyxvLG1vKGQpLGkpLHV9LGc9KGUsdD0iWyIsbj0iXSIpPT57bGV0IHM9MDtmb3IoO2U7KWlmKChlPXIoZSkpJiZnbyhlKSYmKGUuZGF0YT09PXQmJnMrKyxlLmRhdGE9PT1uKSl7aWYoMD09PXMpcmV0dXJuIHIoZSk7cy0tfXJldHVybiBlfSx2PShlLHQsbik9Pntjb25zdCBzPXQucGFyZW50Tm9kZTtzJiZzLnJlcGxhY2VDaGlsZChlLHQpO2xldCBvPW47Zm9yKDtvOylvLnZub2RlLmVsPT09dCYmKG8udm5vZGUuZWw9by5zdWJUcmVlLmVsPWUpLG89by5wYXJlbnR9LHk9ZT0+MT09PWUubm9kZVR5cGUmJiJ0ZW1wbGF0ZSI9PT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtyZXR1cm5bKGUsdCk9PntpZighdC5oYXNDaGlsZE5vZGVzKCkpcmV0dXJuIG4obnVsbCxlLHQpLHJuKCksdm9pZCh0Ll92bm9kZT1lKTtmbz0hMSxkKHQuZmlyc3RDaGlsZCxlLG51bGwsbnVsbCxudWxsKSxybigpLHQuX3Zub2RlPWUsZm8mJmNvbnNvbGUuZXJyb3IoIkh5ZHJhdGlvbiBjb21wbGV0ZWQgYnV0IGNvbnRhaW5zIG1pc21hdGNoZXMuIil9LGRdfWNvbnN0IHlvPU9uO2Z1bmN0aW9uIGJvKGUpe3JldHVybiBTbyhlKX1mdW5jdGlvbiBfbyhlKXtyZXR1cm4gU28oZSx2byl9ZnVuY3Rpb24gU28oZSx0KXtVKCkuX19WVUVfXz0hMDtjb25zdHtpbnNlcnQ6cixyZW1vdmU6aSxwYXRjaFByb3A6bCxjcmVhdGVFbGVtZW50OmMsY3JlYXRlVGV4dDphLGNyZWF0ZUNvbW1lbnQ6dSxzZXRUZXh0OnAsc2V0RWxlbWVudFRleHQ6aCxwYXJlbnROb2RlOmYsbmV4dFNpYmxpbmc6bSxzZXRTY29wZUlkOmc9byxpbnNlcnRTdGF0aWNDb250ZW50OnZ9PWUseT0oZSx0LG4scz1udWxsLG89bnVsbCxyPW51bGwsaT12b2lkIDAsbD1udWxsLGM9ISF0LmR5bmFtaWNDaGlsZHJlbik9PntpZihlPT09dClyZXR1cm47ZSYmIXpvKGUsdCkmJihzPVEoZSksSyhlLG8sciwhMCksZT1udWxsKSwtMj09PXQucGF0Y2hGbGFnJiYoYz0hMSx0LmR5bmFtaWNDaGlsZHJlbj1udWxsKTtjb25zdHt0eXBlOmEscmVmOnUsc2hhcGVGbGFnOmR9PXQ7c3dpdGNoKGEpe2Nhc2UgTW86YihlLHQsbixzKTticmVhaztjYXNlIFBvOlMoZSx0LG4scyk7YnJlYWs7Y2FzZSAkbzpudWxsPT1lJiZ4KHQsbixzLGkpO2JyZWFrO2Nhc2UgRm86TChlLHQsbixzLG8scixpLGwsYyk7YnJlYWs7ZGVmYXVsdDoxJmQ/QyhlLHQsbixzLG8scixpLGwsYyk6NiZkP0YoZSx0LG4scyxvLHIsaSxsLGMpOig2NCZkfHwxMjgmZCkmJmEucHJvY2VzcyhlLHQsbixzLG8scixpLGwsYyxlZSl9bnVsbCE9dSYmbyYmaG8odSxlJiZlLnJlZixyLHR8fGUsIXQpfSxiPShlLHQsbixzKT0+e2lmKG51bGw9PWUpcih0LmVsPWEodC5jaGlsZHJlbiksbixzKTtlbHNle2NvbnN0IG49dC5lbD1lLmVsO3QuY2hpbGRyZW4hPT1lLmNoaWxkcmVuJiZwKG4sdC5jaGlsZHJlbil9fSxTPShlLHQsbixzKT0+e251bGw9PWU/cih0LmVsPXUodC5jaGlsZHJlbnx8IiIpLG4scyk6dC5lbD1lLmVsfSx4PShlLHQsbixzKT0+e1tlLmVsLGUuYW5jaG9yXT12KGUuY2hpbGRyZW4sdCxuLHMsZS5lbCxlLmFuY2hvcil9LEM9KGUsdCxuLHMsbyxyLGksbCxjKT0+eyJzdmciPT09dC50eXBlP2k9InN2ZyI6Im1hdGgiPT09dC50eXBlJiYoaT0ibWF0aG1sIiksbnVsbD09ZT9rKHQsbixzLG8scixpLGwsYyk6TihlLHQsbyxyLGksbCxjKX0saz0oZSx0LG4scyxvLGksYSx1KT0+e2xldCBkLHA7Y29uc3R7cHJvcHM6ZixzaGFwZUZsYWc6bSx0cmFuc2l0aW9uOmcsZGlyczp2fT1lO2lmKGQ9ZS5lbD1jKGUudHlwZSxpLGYmJmYuaXMsZiksOCZtP2goZCxlLmNoaWxkcmVuKToxNiZtJiZFKGUuY2hpbGRyZW4sZCxudWxsLHMsbyx4byhlLGkpLGEsdSksdiYmSG4oZSxudWxsLHMsImNyZWF0ZWQiKSxUKGQsZSxlLnNjb3BlSWQsYSxzKSxmKXtmb3IoY29uc3QgdCBpbiBmKSJ2YWx1ZSI9PT10fHx3KHQpfHxsKGQsdCxudWxsLGZbdF0saSxlLmNoaWxkcmVuLHMsbyxYKTsidmFsdWUiaW4gZiYmbChkLCJ2YWx1ZSIsbnVsbCxmLnZhbHVlLGkpLChwPWYub25Wbm9kZUJlZm9yZU1vdW50KSYmaXIocCxzLGUpfXYmJkhuKGUsbnVsbCxzLCJiZWZvcmVNb3VudCIpO2NvbnN0IHk9a28obyxnKTt5JiZnLmJlZm9yZUVudGVyKGQpLHIoZCx0LG4pLCgocD1mJiZmLm9uVm5vZGVNb3VudGVkKXx8eXx8dikmJnlvKCgoKT0+e3AmJmlyKHAscyxlKSx5JiZnLmVudGVyKGQpLHYmJkhuKGUsbnVsbCxzLCJtb3VudGVkIil9KSxvKX0sVD0oZSx0LG4scyxvKT0+e2lmKG4mJmcoZSxuKSxzKWZvcihsZXQgcj0wO3I8cy5sZW5ndGg7cisrKWcoZSxzW3JdKTtpZihvKXtpZih0PT09by5zdWJUcmVlKXtjb25zdCB0PW8udm5vZGU7VChlLHQsdC5zY29wZUlkLHQuc2xvdFNjb3BlSWRzLG8ucGFyZW50KX19fSxFPShlLHQsbixzLG8scixpLGwsYz0wKT0+e2ZvcihsZXQgYT1jO2E8ZS5sZW5ndGg7YSsrKXtjb25zdCBjPWVbYV09bD9zcihlW2FdKTpucihlW2FdKTt5KG51bGwsYyx0LG4scyxvLHIsaSxsKX19LE49KGUsdCxzLG8scixpLGMpPT57Y29uc3QgYT10LmVsPWUuZWw7bGV0e3BhdGNoRmxhZzp1LGR5bmFtaWNDaGlsZHJlbjpkLGRpcnM6cH09dDt1fD0xNiZlLnBhdGNoRmxhZztjb25zdCBmPWUucHJvcHN8fG4sbT10LnByb3BzfHxuO2xldCBnO2lmKHMmJkNvKHMsITEpLChnPW0ub25Wbm9kZUJlZm9yZVVwZGF0ZSkmJmlyKGcscyx0LGUpLHAmJkhuKHQsZSxzLCJiZWZvcmVVcGRhdGUiKSxzJiZDbyhzLCEwKSxkP0EoZS5keW5hbWljQ2hpbGRyZW4sZCxhLHMsbyx4byh0LHIpLGkpOmN8fGooZSx0LGEsbnVsbCxzLG8seG8odCxyKSxpLCExKSx1PjApe2lmKDE2JnUpUihhLHQsZixtLHMsbyxyKTtlbHNlIGlmKDImdSYmZi5jbGFzcyE9PW0uY2xhc3MmJmwoYSwiY2xhc3MiLG51bGwsbS5jbGFzcyxyKSw0JnUmJmwoYSwic3R5bGUiLGYuc3R5bGUsbS5zdHlsZSxyKSw4JnUpe2NvbnN0IG49dC5keW5hbWljUHJvcHM7Zm9yKGxldCB0PTA7dDxuLmxlbmd0aDt0Kyspe2NvbnN0IGk9blt0XSxjPWZbaV0sdT1tW2ldO3U9PT1jJiYidmFsdWUiIT09aXx8bChhLGksYyx1LHIsZS5jaGlsZHJlbixzLG8sWCl9fTEmdSYmZS5jaGlsZHJlbiE9PXQuY2hpbGRyZW4mJmgoYSx0LmNoaWxkcmVuKX1lbHNlIGN8fG51bGwhPWR8fFIoYSx0LGYsbSxzLG8scik7KChnPW0ub25Wbm9kZVVwZGF0ZWQpfHxwKSYmeW8oKCgpPT57ZyYmaXIoZyxzLHQsZSkscCYmSG4odCxlLHMsInVwZGF0ZWQiKX0pLG8pfSxBPShlLHQsbixzLG8scixpKT0+e2ZvcihsZXQgbD0wO2w8dC5sZW5ndGg7bCsrKXtjb25zdCBjPWVbbF0sYT10W2xdLHU9Yy5lbCYmKGMudHlwZT09PUZvfHwhem8oYyxhKXx8NzAmYy5zaGFwZUZsYWcpP2YoYy5lbCk6bjt5KGMsYSx1LG51bGwscyxvLHIsaSwhMCl9fSxSPShlLHQscyxvLHIsaSxjKT0+e2lmKHMhPT1vKXtpZihzIT09bilmb3IoY29uc3QgbiBpbiBzKXcobil8fG4gaW4gb3x8bChlLG4sc1tuXSxudWxsLGMsdC5jaGlsZHJlbixyLGksWCk7Zm9yKGNvbnN0IG4gaW4gbyl7aWYodyhuKSljb250aW51ZTtjb25zdCBhPW9bbl0sdT1zW25dO2EhPT11JiYidmFsdWUiIT09biYmbChlLG4sdSxhLGMsdC5jaGlsZHJlbixyLGksWCl9InZhbHVlImluIG8mJmwoZSwidmFsdWUiLHMudmFsdWUsby52YWx1ZSxjKX19LEw9KGUsdCxuLHMsbyxpLGwsYyx1KT0+e2NvbnN0IGQ9dC5lbD1lP2UuZWw6YSgiIikscD10LmFuY2hvcj1lP2UuYW5jaG9yOmEoIiIpO2xldHtwYXRjaEZsYWc6aCxkeW5hbWljQ2hpbGRyZW46ZixzbG90U2NvcGVJZHM6bX09dDttJiYoYz1jP2MuY29uY2F0KG0pOm0pLG51bGw9PWU/KHIoZCxuLHMpLHIocCxuLHMpLEUodC5jaGlsZHJlbnx8W10sbixwLG8saSxsLGMsdSkpOmg+MCYmNjQmaCYmZiYmZS5keW5hbWljQ2hpbGRyZW4/KEEoZS5keW5hbWljQ2hpbGRyZW4sZixuLG8saSxsLGMpLChudWxsIT10LmtleXx8byYmdD09PW8uc3ViVHJlZSkmJlRvKGUsdCwhMCkpOmooZSx0LG4scCxvLGksbCxjLHUpfSxGPShlLHQsbixzLG8scixpLGwsYyk9Pnt0LnNsb3RTY29wZUlkcz1sLG51bGw9PWU/NTEyJnQuc2hhcGVGbGFnP28uY3R4LmFjdGl2YXRlKHQsbixzLGksYyk6TSh0LG4scyxvLHIsaSxjKTpCKGUsdCxjKX0sTT0oZSx0LHMsbyxyLGksbCk9Pntjb25zdCBjPWUuY29tcG9uZW50PWZ1bmN0aW9uKGUsdCxzKXtjb25zdCBvPWUudHlwZSxyPSh0P3QuYXBwQ29udGV4dDplLmFwcENvbnRleHQpfHxscixpPXt1aWQ6Y3IrKyx2bm9kZTplLHR5cGU6byxwYXJlbnQ6dCxhcHBDb250ZXh0OnIscm9vdDpudWxsLG5leHQ6bnVsbCxzdWJUcmVlOm51bGwsZWZmZWN0Om51bGwsdXBkYXRlOm51bGwsc2NvcGU6bmV3IGxlKCEwKSxyZW5kZXI6bnVsbCxwcm94eTpudWxsLGV4cG9zZWQ6bnVsbCxleHBvc2VQcm94eTpudWxsLHdpdGhQcm94eTpudWxsLHByb3ZpZGVzOnQ/dC5wcm92aWRlczpPYmplY3QuY3JlYXRlKHIucHJvdmlkZXMpLGFjY2Vzc0NhY2hlOm51bGwscmVuZGVyQ2FjaGU6W10sY29tcG9uZW50czpudWxsLGRpcmVjdGl2ZXM6bnVsbCxwcm9wc09wdGlvbnM6ZW8obyxyKSxlbWl0c09wdGlvbnM6ZG4obyxyKSxlbWl0Om51bGwsZW1pdHRlZDpudWxsLHByb3BzRGVmYXVsdHM6bixpbmhlcml0QXR0cnM6by5pbmhlcml0QXR0cnMsY3R4Om4sZGF0YTpuLHByb3BzOm4sYXR0cnM6bixzbG90czpuLHJlZnM6bixzZXR1cFN0YXRlOm4sc2V0dXBDb250ZXh0Om51bGwsYXR0cnNQcm94eTpudWxsLHNsb3RzUHJveHk6bnVsbCxzdXNwZW5zZTpzLHN1c3BlbnNlSWQ6cz9zLnBlbmRpbmdJZDowLGFzeW5jRGVwOm51bGwsYXN5bmNSZXNvbHZlZDohMSxpc01vdW50ZWQ6ITEsaXNVbm1vdW50ZWQ6ITEsaXNEZWFjdGl2YXRlZDohMSxiYzpudWxsLGM6bnVsbCxibTpudWxsLG06bnVsbCxidTpudWxsLHU6bnVsbCx1bTpudWxsLGJ1bTpudWxsLGRhOm51bGwsYTpudWxsLHJ0ZzpudWxsLHJ0YzpudWxsLGVjOm51bGwsc3A6bnVsbH07aS5jdHg9e186aX0saS5yb290PXQ/dC5yb290OmksaS5lbWl0PXVuLmJpbmQobnVsbCxpKSxlLmNlJiZlLmNlKGkpO3JldHVybiBpfShlLG8scik7aWYocnMoZSkmJihjLmN0eC5yZW5kZXJlcj1lZSksZnVuY3Rpb24oZSx0PSExKXt0JiZwcih0KTtjb25zdHtwcm9wczpuLGNoaWxkcmVuOnN9PWUudm5vZGUsbz1tcihlKTsoZnVuY3Rpb24oZSx0LG4scz0hMSl7Y29uc3Qgbz17fSxyPXt9OyQocixHbywxKSxlLnByb3BzRGVmYXVsdHM9T2JqZWN0LmNyZWF0ZShudWxsKSxacyhlLHQsbyxyKTtmb3IoY29uc3QgaSBpbiBlLnByb3BzT3B0aW9uc1swXSlpIGluIG98fChvW2ldPXZvaWQgMCk7ZS5wcm9wcz1uP3M/bzpndChvKTplLnR5cGUucHJvcHM/bzpyLGUuYXR0cnM9cn0pKGUsbixvLHQpLHVvKGUscyk7Y29uc3Qgcj1vP2Z1bmN0aW9uKGUsdCl7Y29uc3Qgbj1lLnR5cGU7ZS5hY2Nlc3NDYWNoZT1PYmplY3QuY3JlYXRlKG51bGwpLGUucHJveHk9a3QobmV3IFByb3h5KGUuY3R4LElzKSk7Y29uc3R7c2V0dXA6c309bjtpZihzKXtjb25zdCBuPWUuc2V0dXBDb250ZXh0PXMubGVuZ3RoPjE/eHIoZSk6bnVsbCxvPWhyKGUpO3llKCk7Y29uc3Qgcj1qdChzLGUsMCxbZS5wcm9wcyxuXSk7aWYoYmUoKSxvKCksXyhyKSl7aWYoci50aGVuKGZyLGZyKSx0KXJldHVybiByLnRoZW4oKG49PnticihlLG4sdCl9KSkuY2F0Y2goKHQ9PntxdCh0LGUsMCl9KSk7ZS5hc3luY0RlcD1yfWVsc2UgYnIoZSxyLHQpfWVsc2UgU3IoZSx0KX0oZSx0KTp2b2lkIDA7dCYmcHIoITEpfShjKSxjLmFzeW5jRGVwKXtpZihyJiZyLnJlZ2lzdGVyRGVwKGMsViksIWUuZWwpe2NvbnN0IGU9Yy5zdWJUcmVlPVpvKFBvKTtTKG51bGwsZSx0LHMpfX1lbHNlIFYoYyxlLHQscyxyLGksbCl9LEI9KGUsdCxuKT0+e2NvbnN0IHM9dC5jb21wb25lbnQ9ZS5jb21wb25lbnQ7aWYoZnVuY3Rpb24oZSx0LG4pe2NvbnN0e3Byb3BzOnMsY2hpbGRyZW46byxjb21wb25lbnQ6cn09ZSx7cHJvcHM6aSxjaGlsZHJlbjpsLHBhdGNoRmxhZzpjfT10LGE9ci5lbWl0c09wdGlvbnM7aWYodC5kaXJzfHx0LnRyYW5zaXRpb24pcmV0dXJuITA7aWYoIShuJiZjPj0wKSlyZXR1cm4hKCFvJiYhbHx8bCYmbC4kc3RhYmxlKXx8cyE9PWkmJihzPyFpfHxfbihzLGksYSk6ISFpKTtpZigxMDI0JmMpcmV0dXJuITA7aWYoMTYmYylyZXR1cm4gcz9fbihzLGksYSk6ISFpO2lmKDgmYyl7Y29uc3QgZT10LmR5bmFtaWNQcm9wcztmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbj1lW3RdO2lmKGlbbl0hPT1zW25dJiYhcG4oYSxuKSlyZXR1cm4hMH19cmV0dXJuITF9KGUsdCxuKSl7aWYocy5hc3luY0RlcCYmIXMuYXN5bmNSZXNvbHZlZClyZXR1cm4gdm9pZCBEKHMsdCxuKTtzLm5leHQ9dCxmdW5jdGlvbihlKXtjb25zdCB0PXp0LmluZGV4T2YoZSk7dD5HdCYmenQuc3BsaWNlKHQsMSl9KHMudXBkYXRlKSxzLmVmZmVjdC5kaXJ0eT0hMCxzLnVwZGF0ZSgpfWVsc2UgdC5lbD1lLmVsLHMudm5vZGU9dH0sVj0oZSx0LG4scyxyLGksbCk9Pntjb25zdCBjPSgpPT57aWYoZS5pc01vdW50ZWQpe2xldHtuZXh0OnQsYnU6bix1OnMscGFyZW50Om8sdm5vZGU6YX09ZTt7Y29uc3Qgbj13byhlKTtpZihuKXJldHVybiB0JiYodC5lbD1hLmVsLEQoZSx0LGwpKSx2b2lkIG4uYXN5bmNEZXAudGhlbigoKCk9PntlLmlzVW5tb3VudGVkfHxjKCl9KSl9bGV0IHUsZD10O0NvKGUsITEpLHQ/KHQuZWw9YS5lbCxEKGUsdCxsKSk6dD1hLG4mJlAobiksKHU9dC5wcm9wcyYmdC5wcm9wcy5vblZub2RlQmVmb3JlVXBkYXRlKSYmaXIodSxvLHQsYSksQ28oZSwhMCk7Y29uc3QgcD12bihlKSxoPWUuc3ViVHJlZTtlLnN1YlRyZWU9cCx5KGgscCxmKGguZWwpLFEoaCksZSxyLGkpLHQuZWw9cC5lbCxudWxsPT09ZCYmU24oZSxwLmVsKSxzJiZ5byhzLHIpLCh1PXQucHJvcHMmJnQucHJvcHMub25Wbm9kZVVwZGF0ZWQpJiZ5bygoKCk9PmlyKHUsbyx0LGEpKSxyKX1lbHNle2xldCBvO2NvbnN0e2VsOmwscHJvcHM6Y309dCx7Ym06YSxtOnUscGFyZW50OmR9PWUscD1zcyh0KTtpZihDbyhlLCExKSxhJiZQKGEpLCFwJiYobz1jJiZjLm9uVm5vZGVCZWZvcmVNb3VudCkmJmlyKG8sZCx0KSxDbyhlLCEwKSxsJiZuZSl7Y29uc3Qgbj0oKT0+e2Uuc3ViVHJlZT12bihlKSxuZShsLGUuc3ViVHJlZSxlLHIsbnVsbCl9O3A/dC50eXBlLl9fYXN5bmNMb2FkZXIoKS50aGVuKCgoKT0+IWUuaXNVbm1vdW50ZWQmJm4oKSkpOm4oKX1lbHNle2NvbnN0IG89ZS5zdWJUcmVlPXZuKGUpO3kobnVsbCxvLG4scyxlLHIsaSksdC5lbD1vLmVsfWlmKHUmJnlvKHUsciksIXAmJihvPWMmJmMub25Wbm9kZU1vdW50ZWQpKXtjb25zdCBlPXQ7eW8oKCgpPT5pcihvLGQsZSkpLHIpfSgyNTYmdC5zaGFwZUZsYWd8fGQmJnNzKGQudm5vZGUpJiYyNTYmZC52bm9kZS5zaGFwZUZsYWcpJiZlLmEmJnlvKGUuYSxyKSxlLmlzTW91bnRlZD0hMCx0PW49cz1udWxsfX0sYT1lLmVmZmVjdD1uZXcgdWUoYyxvLCgoKT0+dG4odSkpLGUuc2NvcGUpLHU9ZS51cGRhdGU9KCk9PnthLmRpcnR5JiZhLnJ1bigpfTt1LmlkPWUudWlkLENvKGUsITApLHUoKX0sRD0oZSx0LG4pPT57dC5jb21wb25lbnQ9ZTtjb25zdCBzPWUudm5vZGUucHJvcHM7ZS52bm9kZT10LGUubmV4dD1udWxsLGZ1bmN0aW9uKGUsdCxuLHMpe2NvbnN0e3Byb3BzOm8sYXR0cnM6cix2bm9kZTp7cGF0Y2hGbGFnOml9fT1lLGw9Q3QobyksW2NdPWUucHJvcHNPcHRpb25zO2xldCBhPSExO2lmKCEoc3x8aT4wKXx8MTYmaSl7bGV0IHM7WnMoZSx0LG8scikmJihhPSEwKTtmb3IoY29uc3QgciBpbiBsKXQmJihkKHQscil8fChzPU8ocikpIT09ciYmZCh0LHMpKXx8KGM/IW58fHZvaWQgMD09PW5bcl0mJnZvaWQgMD09PW5bc118fChvW3JdPVlzKGMsbCxyLHZvaWQgMCxlLCEwKSk6ZGVsZXRlIG9bcl0pO2lmKHIhPT1sKWZvcihjb25zdCBlIGluIHIpdCYmZCh0LGUpfHwoZGVsZXRlIHJbZV0sYT0hMCl9ZWxzZSBpZig4Jmkpe2NvbnN0IG49ZS52bm9kZS5keW5hbWljUHJvcHM7Zm9yKGxldCBzPTA7czxuLmxlbmd0aDtzKyspe2xldCBpPW5bc107aWYocG4oZS5lbWl0c09wdGlvbnMsaSkpY29udGludWU7Y29uc3QgdT10W2ldO2lmKGMpaWYoZChyLGkpKXUhPT1yW2ldJiYocltpXT11LGE9ITApO2Vsc2V7Y29uc3QgdD1JKGkpO29bdF09WXMoYyxsLHQsdSxlLCExKX1lbHNlIHUhPT1yW2ldJiYocltpXT11LGE9ITApfX1hJiZJZShlLCJzZXQiLCIkYXR0cnMiKX0oZSx0LnByb3BzLHMsbikscG8oZSx0LmNoaWxkcmVuLG4pLHllKCksb24oZSksYmUoKX0saj0oZSx0LG4scyxvLHIsaSxsLGM9ITEpPT57Y29uc3QgYT1lJiZlLmNoaWxkcmVuLHU9ZT9lLnNoYXBlRmxhZzowLGQ9dC5jaGlsZHJlbix7cGF0Y2hGbGFnOnAsc2hhcGVGbGFnOmZ9PXQ7aWYocD4wKXtpZigxMjgmcClyZXR1cm4gdm9pZCBxKGEsZCxuLHMsbyxyLGksbCxjKTtpZigyNTYmcClyZXR1cm4gdm9pZCBIKGEsZCxuLHMsbyxyLGksbCxjKX04JmY/KDE2JnUmJlgoYSxvLHIpLGQhPT1hJiZoKG4sZCkpOjE2JnU/MTYmZj9xKGEsZCxuLHMsbyxyLGksbCxjKTpYKGEsbyxyLCEwKTooOCZ1JiZoKG4sIiIpLDE2JmYmJkUoZCxuLHMsbyxyLGksbCxjKSl9LEg9KGUsdCxuLG8scixpLGwsYyxhKT0+e2NvbnN0IHU9KGU9ZXx8cykubGVuZ3RoLGQ9KHQ9dHx8cykubGVuZ3RoLHA9TWF0aC5taW4odSxkKTtsZXQgaDtmb3IoaD0wO2g8cDtoKyspe2NvbnN0IHM9dFtoXT1hP3NyKHRbaF0pOm5yKHRbaF0pO3koZVtoXSxzLG4sbnVsbCxyLGksbCxjLGEpfXU+ZD9YKGUscixpLCEwLCExLHApOkUodCxuLG8scixpLGwsYyxhLHApfSxxPShlLHQsbixvLHIsaSxsLGMsYSk9PntsZXQgdT0wO2NvbnN0IGQ9dC5sZW5ndGg7bGV0IHA9ZS5sZW5ndGgtMSxoPWQtMTtmb3IoO3U8PXAmJnU8PWg7KXtjb25zdCBzPWVbdV0sbz10W3VdPWE/c3IodFt1XSk6bnIodFt1XSk7aWYoIXpvKHMsbykpYnJlYWs7eShzLG8sbixudWxsLHIsaSxsLGMsYSksdSsrfWZvcig7dTw9cCYmdTw9aDspe2NvbnN0IHM9ZVtwXSxvPXRbaF09YT9zcih0W2hdKTpucih0W2hdKTtpZighem8ocyxvKSlicmVhazt5KHMsbyxuLG51bGwscixpLGwsYyxhKSxwLS0saC0tfWlmKHU+cCl7aWYodTw9aCl7Y29uc3QgZT1oKzEscz1lPGQ/dFtlXS5lbDpvO2Zvcig7dTw9aDspeShudWxsLHRbdV09YT9zcih0W3VdKTpucih0W3VdKSxuLHMscixpLGwsYyxhKSx1Kyt9fWVsc2UgaWYodT5oKWZvcig7dTw9cDspSyhlW3VdLHIsaSwhMCksdSsrO2Vsc2V7Y29uc3QgZj11LG09dSxnPW5ldyBNYXA7Zm9yKHU9bTt1PD1oO3UrKyl7Y29uc3QgZT10W3VdPWE/c3IodFt1XSk6bnIodFt1XSk7bnVsbCE9ZS5rZXkmJmcuc2V0KGUua2V5LHUpfWxldCB2LGI9MDtjb25zdCBfPWgtbSsxO2xldCBTPSExLHg9MDtjb25zdCBDPW5ldyBBcnJheShfKTtmb3IodT0wO3U8Xzt1KyspQ1t1XT0wO2Zvcih1PWY7dTw9cDt1Kyspe2NvbnN0IHM9ZVt1XTtpZihiPj1fKXtLKHMscixpLCEwKTtjb250aW51ZX1sZXQgbztpZihudWxsIT1zLmtleSlvPWcuZ2V0KHMua2V5KTtlbHNlIGZvcih2PW07djw9aDt2KyspaWYoMD09PUNbdi1tXSYmem8ocyx0W3ZdKSl7bz12O2JyZWFrfXZvaWQgMD09PW8/SyhzLHIsaSwhMCk6KENbby1tXT11KzEsbz49eD94PW86Uz0hMCx5KHMsdFtvXSxuLG51bGwscixpLGwsYyxhKSxiKyspfWNvbnN0IGs9Uz9mdW5jdGlvbihlKXtjb25zdCB0PWUuc2xpY2UoKSxuPVswXTtsZXQgcyxvLHIsaSxsO2NvbnN0IGM9ZS5sZW5ndGg7Zm9yKHM9MDtzPGM7cysrKXtjb25zdCBjPWVbc107aWYoMCE9PWMpe2lmKG89bltuLmxlbmd0aC0xXSxlW29dPGMpe3Rbc109byxuLnB1c2gocyk7Y29udGludWV9Zm9yKHI9MCxpPW4ubGVuZ3RoLTE7cjxpOylsPXIraT4+MSxlW25bbF1dPGM/cj1sKzE6aT1sO2M8ZVtuW3JdXSYmKHI+MCYmKHRbc109bltyLTFdKSxuW3JdPXMpfX1yPW4ubGVuZ3RoLGk9bltyLTFdO2Zvcig7ci0tID4wOyluW3JdPWksaT10W2ldO3JldHVybiBufShDKTpzO2Zvcih2PWsubGVuZ3RoLTEsdT1fLTE7dT49MDt1LS0pe2NvbnN0IGU9bSt1LHM9dFtlXSxwPWUrMTxkP3RbZSsxXS5lbDpvOzA9PT1DW3VdP3kobnVsbCxzLG4scCxyLGksbCxjLGEpOlMmJih2PDB8fHUhPT1rW3ZdP1cocyxuLHAsMik6di0tKX19fSxXPShlLHQsbixzLG89bnVsbCk9Pntjb25zdHtlbDppLHR5cGU6bCx0cmFuc2l0aW9uOmMsY2hpbGRyZW46YSxzaGFwZUZsYWc6dX09ZTtpZig2JnUpcmV0dXJuIHZvaWQgVyhlLmNvbXBvbmVudC5zdWJUcmVlLHQsbixzKTtpZigxMjgmdSlyZXR1cm4gdm9pZCBlLnN1c3BlbnNlLm1vdmUodCxuLHMpO2lmKDY0JnUpcmV0dXJuIHZvaWQgbC5tb3ZlKGUsdCxuLGVlKTtpZihsPT09Rm8pe3IoaSx0LG4pO2ZvcihsZXQgZT0wO2U8YS5sZW5ndGg7ZSsrKVcoYVtlXSx0LG4scyk7cmV0dXJuIHZvaWQgcihlLmFuY2hvcix0LG4pfWlmKGw9PT0kbylyZXR1cm4gdm9pZCgoe2VsOmUsYW5jaG9yOnR9LG4scyk9PntsZXQgbztmb3IoO2UmJmUhPT10OylvPW0oZSkscihlLG4scyksZT1vO3IodCxuLHMpfSkoZSx0LG4pO2lmKDIhPT1zJiYxJnUmJmMpaWYoMD09PXMpYy5iZWZvcmVFbnRlcihpKSxyKGksdCxuKSx5bygoKCk9PmMuZW50ZXIoaSkpLG8pO2Vsc2V7Y29uc3R7bGVhdmU6ZSxkZWxheUxlYXZlOnMsYWZ0ZXJMZWF2ZTpvfT1jLGw9KCk9PnIoaSx0LG4pLGE9KCk9PntlKGksKCgpPT57bCgpLG8mJm8oKX0pKX07cz9zKGksbCxhKTphKCl9ZWxzZSByKGksdCxuKX0sSz0oZSx0LG4scz0hMSxvPSExKT0+e2NvbnN0e3R5cGU6cixwcm9wczppLHJlZjpsLGNoaWxkcmVuOmMsZHluYW1pY0NoaWxkcmVuOmEsc2hhcGVGbGFnOnUscGF0Y2hGbGFnOmQsZGlyczpwfT1lO2lmKG51bGwhPWwmJmhvKGwsbnVsbCxuLGUsITApLDI1NiZ1KXJldHVybiB2b2lkIHQuY3R4LmRlYWN0aXZhdGUoZSk7Y29uc3QgaD0xJnUmJnAsZj0hc3MoZSk7bGV0IG07aWYoZiYmKG09aSYmaS5vblZub2RlQmVmb3JlVW5tb3VudCkmJmlyKG0sdCxlKSw2JnUpSihlLmNvbXBvbmVudCxuLHMpO2Vsc2V7aWYoMTI4JnUpcmV0dXJuIHZvaWQgZS5zdXNwZW5zZS51bm1vdW50KG4scyk7aCYmSG4oZSxudWxsLHQsImJlZm9yZVVubW91bnQiKSw2NCZ1P2UudHlwZS5yZW1vdmUoZSx0LG4sbyxlZSxzKTphJiYociE9PUZvfHxkPjAmJjY0JmQpP1goYSx0LG4sITEsITApOihyPT09Rm8mJjM4NCZkfHwhbyYmMTYmdSkmJlgoYyx0LG4pLHMmJnooZSl9KGYmJihtPWkmJmkub25Wbm9kZVVubW91bnRlZCl8fGgpJiZ5bygoKCk9PnttJiZpcihtLHQsZSksaCYmSG4oZSxudWxsLHQsInVubW91bnRlZCIpfSksbil9LHo9ZT0+e2NvbnN0e3R5cGU6dCxlbDpuLGFuY2hvcjpzLHRyYW5zaXRpb246b309ZTtpZih0PT09Rm8pcmV0dXJuIHZvaWQgRyhuLHMpO2lmKHQ9PT0kbylyZXR1cm4gdm9pZCgoe2VsOmUsYW5jaG9yOnR9KT0+e2xldCBuO2Zvcig7ZSYmZSE9PXQ7KW49bShlKSxpKGUpLGU9bjtpKHQpfSkoZSk7Y29uc3Qgcj0oKT0+e2kobiksbyYmIW8ucGVyc2lzdGVkJiZvLmFmdGVyTGVhdmUmJm8uYWZ0ZXJMZWF2ZSgpfTtpZigxJmUuc2hhcGVGbGFnJiZvJiYhby5wZXJzaXN0ZWQpe2NvbnN0e2xlYXZlOnQsZGVsYXlMZWF2ZTpzfT1vLGk9KCk9PnQobixyKTtzP3MoZS5lbCxyLGkpOmkoKX1lbHNlIHIoKX0sRz0oZSx0KT0+e2xldCBuO2Zvcig7ZSE9PXQ7KW49bShlKSxpKGUpLGU9bjtpKHQpfSxKPShlLHQsbik9Pntjb25zdHtidW06cyxzY29wZTpvLHVwZGF0ZTpyLHN1YlRyZWU6aSx1bTpsfT1lO3MmJlAocyksby5zdG9wKCksciYmKHIuYWN0aXZlPSExLEsoaSxlLHQsbikpLGwmJnlvKGwsdCkseW8oKCgpPT57ZS5pc1VubW91bnRlZD0hMH0pLHQpLHQmJnQucGVuZGluZ0JyYW5jaCYmIXQuaXNVbm1vdW50ZWQmJmUuYXN5bmNEZXAmJiFlLmFzeW5jUmVzb2x2ZWQmJmUuc3VzcGVuc2VJZD09PXQucGVuZGluZ0lkJiYodC5kZXBzLS0sMD09PXQuZGVwcyYmdC5yZXNvbHZlKCkpfSxYPShlLHQsbixzPSExLG89ITEscj0wKT0+e2ZvcihsZXQgaT1yO2k8ZS5sZW5ndGg7aSsrKUsoZVtpXSx0LG4scyxvKX0sUT1lPT42JmUuc2hhcGVGbGFnP1EoZS5jb21wb25lbnQuc3ViVHJlZSk6MTI4JmUuc2hhcGVGbGFnP2Uuc3VzcGVuc2UubmV4dCgpOm0oZS5hbmNob3J8fGUuZWwpO2xldCBaPSExO2NvbnN0IFk9KGUsdCxuKT0+e251bGw9PWU/dC5fdm5vZGUmJksodC5fdm5vZGUsbnVsbCxudWxsLCEwKTp5KHQuX3Zub2RlfHxudWxsLGUsdCxudWxsLG51bGwsbnVsbCxuKSxafHwoWj0hMCxvbigpLHJuKCksWj0hMSksdC5fdm5vZGU9ZX0sZWU9e3A6eSx1bTpLLG06VyxyOnosbXQ6TSxtYzpFLHBjOmoscGJjOkEsbjpRLG86ZX07bGV0IHRlLG5lO3JldHVybiB0JiYoW3RlLG5lXT10KGVlKSkse3JlbmRlcjpZLGh5ZHJhdGU6dGUsY3JlYXRlQXBwOkdzKFksdGUpfX1mdW5jdGlvbiB4byh7dHlwZTplLHByb3BzOnR9LG4pe3JldHVybiJzdmciPT09biYmImZvcmVpZ25PYmplY3QiPT09ZXx8Im1hdGhtbCI9PT1uJiYiYW5ub3RhdGlvbi14bWwiPT09ZSYmdCYmdC5lbmNvZGluZyYmdC5lbmNvZGluZy5pbmNsdWRlcygiaHRtbCIpP3ZvaWQgMDpufWZ1bmN0aW9uIENvKHtlZmZlY3Q6ZSx1cGRhdGU6dH0sbil7ZS5hbGxvd1JlY3Vyc2U9dC5hbGxvd1JlY3Vyc2U9bn1mdW5jdGlvbiBrbyhlLHQpe3JldHVybighZXx8ZSYmIWUucGVuZGluZ0JyYW5jaCkmJnQmJiF0LnBlcnNpc3RlZH1mdW5jdGlvbiBUbyhlLHQsbj0hMSl7Y29uc3Qgcz1lLmNoaWxkcmVuLG89dC5jaGlsZHJlbjtpZihwKHMpJiZwKG8pKWZvcihsZXQgcj0wO3I8cy5sZW5ndGg7cisrKXtjb25zdCBlPXNbcl07bGV0IHQ9b1tyXTsxJnQuc2hhcGVGbGFnJiYhdC5keW5hbWljQ2hpbGRyZW4mJigodC5wYXRjaEZsYWc8PTB8fDMyPT09dC5wYXRjaEZsYWcpJiYodD1vW3JdPXNyKG9bcl0pLHQuZWw9ZS5lbCksbnx8VG8oZSx0KSksdC50eXBlPT09TW8mJih0LmVsPWUuZWwpfX1mdW5jdGlvbiB3byhlKXtjb25zdCB0PWUuc3ViVHJlZS5jb21wb25lbnQ7aWYodClyZXR1cm4gdC5hc3luY0RlcCYmIXQuYXN5bmNSZXNvbHZlZD90OndvKHQpfWNvbnN0IEVvPWU9PmUmJihlLmRpc2FibGVkfHwiIj09PWUuZGlzYWJsZWQpLE5vPWU9PiJ1bmRlZmluZWQiIT10eXBlb2YgU1ZHRWxlbWVudCYmZSBpbnN0YW5jZW9mIFNWR0VsZW1lbnQsQW89ZT0+ImZ1bmN0aW9uIj09dHlwZW9mIE1hdGhNTEVsZW1lbnQmJmUgaW5zdGFuY2VvZiBNYXRoTUxFbGVtZW50LElvPShlLHQpPT57Y29uc3Qgbj1lJiZlLnRvO2lmKHYobikpe2lmKHQpe3JldHVybiB0KG4pfXJldHVybiBudWxsfXJldHVybiBufTtmdW5jdGlvbiBSbyhlLHQsbix7bzp7aW5zZXJ0OnN9LG06b30scj0yKXswPT09ciYmcyhlLnRhcmdldEFuY2hvcix0LG4pO2NvbnN0e2VsOmksYW5jaG9yOmwsc2hhcGVGbGFnOmMsY2hpbGRyZW46YSxwcm9wczp1fT1lLGQ9Mj09PXI7aWYoZCYmcyhpLHQsbiksKCFkfHxFbyh1KSkmJjE2JmMpZm9yKGxldCBwPTA7cDxhLmxlbmd0aDtwKyspbyhhW3BdLHQsbiwyKTtkJiZzKGwsdCxuKX1jb25zdCBPbz17bmFtZToiVGVsZXBvcnQiLF9faXNUZWxlcG9ydDohMCxwcm9jZXNzKGUsdCxuLHMsbyxyLGksbCxjLGEpe2NvbnN0e21jOnUscGM6ZCxwYmM6cCxvOntpbnNlcnQ6aCxxdWVyeVNlbGVjdG9yOmYsY3JlYXRlVGV4dDptfX09YSxnPUVvKHQucHJvcHMpO2xldHtzaGFwZUZsYWc6dixjaGlsZHJlbjp5LGR5bmFtaWNDaGlsZHJlbjpifT10O2lmKG51bGw9PWUpe2NvbnN0IGU9dC5lbD1tKCIiKSxhPXQuYW5jaG9yPW0oIiIpO2goZSxuLHMpLGgoYSxuLHMpO2NvbnN0IGQ9dC50YXJnZXQ9SW8odC5wcm9wcyxmKSxwPXQudGFyZ2V0QW5jaG9yPW0oIiIpO2QmJihoKHAsZCksInN2ZyI9PT1pfHxObyhkKT9pPSJzdmciOigibWF0aG1sIj09PWl8fEFvKGQpKSYmKGk9Im1hdGhtbCIpKTtjb25zdCBiPShlLHQpPT57MTYmdiYmdSh5LGUsdCxvLHIsaSxsLGMpfTtnP2IobixhKTpkJiZiKGQscCl9ZWxzZXt0LmVsPWUuZWw7Y29uc3Qgcz10LmFuY2hvcj1lLmFuY2hvcix1PXQudGFyZ2V0PWUudGFyZ2V0LGg9dC50YXJnZXRBbmNob3I9ZS50YXJnZXRBbmNob3IsbT1FbyhlLnByb3BzKSx2PW0/bjp1LHk9bT9zOmg7aWYoInN2ZyI9PT1pfHxObyh1KT9pPSJzdmciOigibWF0aG1sIj09PWl8fEFvKHUpKSYmKGk9Im1hdGhtbCIpLGI/KHAoZS5keW5hbWljQ2hpbGRyZW4sYix2LG8scixpLGwpLFRvKGUsdCwhMCkpOmN8fGQoZSx0LHYseSxvLHIsaSxsLCExKSxnKW0/dC5wcm9wcyYmZS5wcm9wcyYmdC5wcm9wcy50byE9PWUucHJvcHMudG8mJih0LnByb3BzLnRvPWUucHJvcHMudG8pOlJvKHQsbixzLGEsMSk7ZWxzZSBpZigodC5wcm9wcyYmdC5wcm9wcy50bykhPT0oZS5wcm9wcyYmZS5wcm9wcy50bykpe2NvbnN0IGU9dC50YXJnZXQ9SW8odC5wcm9wcyxmKTtlJiZSbyh0LGUsbnVsbCxhLDApfWVsc2UgbSYmUm8odCx1LGgsYSwxKX1Mbyh0KX0scmVtb3ZlKGUsdCxuLHMse3VtOm8sbzp7cmVtb3ZlOnJ9fSxpKXtjb25zdHtzaGFwZUZsYWc6bCxjaGlsZHJlbjpjLGFuY2hvcjphLHRhcmdldEFuY2hvcjp1LHRhcmdldDpkLHByb3BzOnB9PWU7aWYoZCYmcih1KSxpJiZyKGEpLDE2Jmwpe2NvbnN0IGU9aXx8IUVvKHApO2ZvcihsZXQgcz0wO3M8Yy5sZW5ndGg7cysrKXtjb25zdCByPWNbc107byhyLHQsbixlLCEhci5keW5hbWljQ2hpbGRyZW4pfX19LG1vdmU6Um8saHlkcmF0ZTpmdW5jdGlvbihlLHQsbixzLG8scix7bzp7bmV4dFNpYmxpbmc6aSxwYXJlbnROb2RlOmwscXVlcnlTZWxlY3RvcjpjfX0sYSl7Y29uc3QgdT10LnRhcmdldD1Jbyh0LnByb3BzLGMpO2lmKHUpe2NvbnN0IGM9dS5fbHBhfHx1LmZpcnN0Q2hpbGQ7aWYoMTYmdC5zaGFwZUZsYWcpaWYoRW8odC5wcm9wcykpdC5hbmNob3I9YShpKGUpLHQsbChlKSxuLHMsbyxyKSx0LnRhcmdldEFuY2hvcj1jO2Vsc2V7dC5hbmNob3I9aShlKTtsZXQgbD1jO2Zvcig7bDspaWYobD1pKGwpLGwmJjg9PT1sLm5vZGVUeXBlJiYidGVsZXBvcnQgYW5jaG9yIj09PWwuZGF0YSl7dC50YXJnZXRBbmNob3I9bCx1Ll9scGE9dC50YXJnZXRBbmNob3ImJmkodC50YXJnZXRBbmNob3IpO2JyZWFrfWEoYyx0LHUsbixzLG8scil9TG8odCl9cmV0dXJuIHQuYW5jaG9yJiZpKHQuYW5jaG9yKX19O2Z1bmN0aW9uIExvKGUpe2NvbnN0IHQ9ZS5jdHg7aWYodCYmdC51dCl7bGV0IG49ZS5jaGlsZHJlblswXS5lbDtmb3IoO24mJm4hPT1lLnRhcmdldEFuY2hvcjspMT09PW4ubm9kZVR5cGUmJm4uc2V0QXR0cmlidXRlKCJkYXRhLXYtb3duZXIiLHQudWlkKSxuPW4ubmV4dFNpYmxpbmc7dC51dCgpfX1jb25zdCBGbz1TeW1ib2wuZm9yKCJ2LWZndCIpLE1vPVN5bWJvbC5mb3IoInYtdHh0IiksUG89U3ltYm9sLmZvcigidi1jbXQiKSwkbz1TeW1ib2wuZm9yKCJ2LXN0YyIpLEJvPVtdO2xldCBWbz1udWxsO2Z1bmN0aW9uIERvKGU9ITEpe0JvLnB1c2goVm89ZT9udWxsOltdKX1mdW5jdGlvbiBVbygpe0JvLnBvcCgpLFZvPUJvW0JvLmxlbmd0aC0xXXx8bnVsbH1sZXQgam89MTtmdW5jdGlvbiBIbyhlKXtqbys9ZX1mdW5jdGlvbiBxbyhlKXtyZXR1cm4gZS5keW5hbWljQ2hpbGRyZW49am8+MD9Wb3x8czpudWxsLFVvKCksam8+MCYmVm8mJlZvLnB1c2goZSksZX1mdW5jdGlvbiBXbyhlLHQsbixzLG8pe3JldHVybiBxbyhabyhlLHQsbixzLG8sITApKX1mdW5jdGlvbiBLbyhlKXtyZXR1cm4hIWUmJiEwPT09ZS5fX3ZfaXNWTm9kZX1mdW5jdGlvbiB6byhlLHQpe3JldHVybiBlLnR5cGU9PT10LnR5cGUmJmUua2V5PT09dC5rZXl9Y29uc3QgR289Il9fdkludGVybmFsIixKbz0oe2tleTplfSk9Pm51bGwhPWU/ZTpudWxsLFhvPSh7cmVmOmUscmVmX2tleTp0LHJlZl9mb3I6bn0pPT4oIm51bWJlciI9PXR5cGVvZiBlJiYoZT0iIitlKSxudWxsIT1lP3YoZSl8fEl0KGUpfHxnKGUpP3tpOmhuLHI6ZSxrOnQsZjohIW59OmU6bnVsbCk7ZnVuY3Rpb24gUW8oZSx0PW51bGwsbj1udWxsLHM9MCxvPW51bGwscj0oZT09PUZvPzA6MSksaT0hMSxsPSExKXtjb25zdCBjPXtfX3ZfaXNWTm9kZTohMCxfX3Zfc2tpcDohMCx0eXBlOmUscHJvcHM6dCxrZXk6dCYmSm8odCkscmVmOnQmJlhvKHQpLHNjb3BlSWQ6Zm4sc2xvdFNjb3BlSWRzOm51bGwsY2hpbGRyZW46bixjb21wb25lbnQ6bnVsbCxzdXNwZW5zZTpudWxsLHNzQ29udGVudDpudWxsLHNzRmFsbGJhY2s6bnVsbCxkaXJzOm51bGwsdHJhbnNpdGlvbjpudWxsLGVsOm51bGwsYW5jaG9yOm51bGwsdGFyZ2V0Om51bGwsdGFyZ2V0QW5jaG9yOm51bGwsc3RhdGljQ291bnQ6MCxzaGFwZUZsYWc6cixwYXRjaEZsYWc6cyxkeW5hbWljUHJvcHM6byxkeW5hbWljQ2hpbGRyZW46bnVsbCxhcHBDb250ZXh0Om51bGwsY3R4OmhufTtyZXR1cm4gbD8ob3IoYyxuKSwxMjgmciYmZS5ub3JtYWxpemUoYykpOm4mJihjLnNoYXBlRmxhZ3w9dihuKT84OjE2KSxqbz4wJiYhaSYmVm8mJihjLnBhdGNoRmxhZz4wfHw2JnIpJiYzMiE9PWMucGF0Y2hGbGFnJiZWby5wdXNoKGMpLGN9Y29uc3QgWm89ZnVuY3Rpb24oZSx0PW51bGwsbj1udWxsLHM9MCxvPW51bGwscj0hMSl7ZSYmZSE9PUNufHwoZT1Qbyk7aWYoS28oZSkpe2NvbnN0IHM9ZXIoZSx0LCEwKTtyZXR1cm4gbiYmb3IocyxuKSxqbz4wJiYhciYmVm8mJig2JnMuc2hhcGVGbGFnP1ZvW1ZvLmluZGV4T2YoZSldPXM6Vm8ucHVzaChzKSkscy5wYXRjaEZsYWd8PS0yLHN9aT1lLGcoaSkmJiJfX3ZjY09wdHMiaW4gaSYmKGU9ZS5fX3ZjY09wdHMpO3ZhciBpO2lmKHQpe3Q9WW8odCk7bGV0e2NsYXNzOmUsc3R5bGU6bn09dDtlJiYhdihlKSYmKHQuY2xhc3M9RyhlKSksYihuKSYmKHh0KG4pJiYhcChuKSYmKG49Yyh7fSxuKSksdC5zdHlsZT1IKG4pKX1jb25zdCBsPXYoZSk/MTp3bihlKT8xMjg6KGU9PmUuX19pc1RlbGVwb3J0KShlKT82NDpiKGUpPzQ6ZyhlKT8yOjA7cmV0dXJuIFFvKGUsdCxuLHMsbyxsLHIsITApfTtmdW5jdGlvbiBZbyhlKXtyZXR1cm4gZT94dChlKXx8R28gaW4gZT9jKHt9LGUpOmU6bnVsbH1mdW5jdGlvbiBlcihlLHQsbj0hMSl7Y29uc3R7cHJvcHM6cyxyZWY6byxwYXRjaEZsYWc6cixjaGlsZHJlbjppfT1lLGw9dD9ycihzfHx7fSx0KTpzO3JldHVybntfX3ZfaXNWTm9kZTohMCxfX3Zfc2tpcDohMCx0eXBlOmUudHlwZSxwcm9wczpsLGtleTpsJiZKbyhsKSxyZWY6dCYmdC5yZWY/biYmbz9wKG8pP28uY29uY2F0KFhvKHQpKTpbbyxYbyh0KV06WG8odCk6byxzY29wZUlkOmUuc2NvcGVJZCxzbG90U2NvcGVJZHM6ZS5zbG90U2NvcGVJZHMsY2hpbGRyZW46aSx0YXJnZXQ6ZS50YXJnZXQsdGFyZ2V0QW5jaG9yOmUudGFyZ2V0QW5jaG9yLHN0YXRpY0NvdW50OmUuc3RhdGljQ291bnQsc2hhcGVGbGFnOmUuc2hhcGVGbGFnLHBhdGNoRmxhZzp0JiZlLnR5cGUhPT1Gbz8tMT09PXI/MTY6MTZ8cjpyLGR5bmFtaWNQcm9wczplLmR5bmFtaWNQcm9wcyxkeW5hbWljQ2hpbGRyZW46ZS5keW5hbWljQ2hpbGRyZW4sYXBwQ29udGV4dDplLmFwcENvbnRleHQsZGlyczplLmRpcnMsdHJhbnNpdGlvbjplLnRyYW5zaXRpb24sY29tcG9uZW50OmUuY29tcG9uZW50LHN1c3BlbnNlOmUuc3VzcGVuc2Usc3NDb250ZW50OmUuc3NDb250ZW50JiZlcihlLnNzQ29udGVudCksc3NGYWxsYmFjazplLnNzRmFsbGJhY2smJmVyKGUuc3NGYWxsYmFjayksZWw6ZS5lbCxhbmNob3I6ZS5hbmNob3IsY3R4OmUuY3R4LGNlOmUuY2V9fWZ1bmN0aW9uIHRyKGU9IiAiLHQ9MCl7cmV0dXJuIFpvKE1vLG51bGwsZSx0KX1mdW5jdGlvbiBucihlKXtyZXR1cm4gbnVsbD09ZXx8ImJvb2xlYW4iPT10eXBlb2YgZT9abyhQbyk6cChlKT9abyhGbyxudWxsLGUuc2xpY2UoKSk6Im9iamVjdCI9PXR5cGVvZiBlP3NyKGUpOlpvKE1vLG51bGwsU3RyaW5nKGUpKX1mdW5jdGlvbiBzcihlKXtyZXR1cm4gbnVsbD09PWUuZWwmJi0xIT09ZS5wYXRjaEZsYWd8fGUubWVtbz9lOmVyKGUpfWZ1bmN0aW9uIG9yKGUsdCl7bGV0IG49MDtjb25zdHtzaGFwZUZsYWc6c309ZTtpZihudWxsPT10KXQ9bnVsbDtlbHNlIGlmKHAodCkpbj0xNjtlbHNlIGlmKCJvYmplY3QiPT10eXBlb2YgdCl7aWYoNjUmcyl7Y29uc3Qgbj10LmRlZmF1bHQ7cmV0dXJuIHZvaWQobiYmKG4uX2MmJihuLl9kPSExKSxvcihlLG4oKSksbi5fYyYmKG4uX2Q9ITApKSl9e249MzI7Y29uc3Qgcz10Ll87c3x8R28gaW4gdD8zPT09cyYmaG4mJigxPT09aG4uc2xvdHMuXz90Ll89MToodC5fPTIsZS5wYXRjaEZsYWd8PTEwMjQpKTp0Ll9jdHg9aG59fWVsc2UgZyh0KT8odD17ZGVmYXVsdDp0LF9jdHg6aG59LG49MzIpOih0PVN0cmluZyh0KSw2NCZzPyhuPTE2LHQ9W3RyKHQpXSk6bj04KTtlLmNoaWxkcmVuPXQsZS5zaGFwZUZsYWd8PW59ZnVuY3Rpb24gcnIoLi4uZSl7Y29uc3QgdD17fTtmb3IobGV0IG49MDtuPGUubGVuZ3RoO24rKyl7Y29uc3Qgcz1lW25dO2Zvcihjb25zdCBlIGluIHMpaWYoImNsYXNzIj09PWUpdC5jbGFzcyE9PXMuY2xhc3MmJih0LmNsYXNzPUcoW3QuY2xhc3Mscy5jbGFzc10pKTtlbHNlIGlmKCJzdHlsZSI9PT1lKXQuc3R5bGU9SChbdC5zdHlsZSxzLnN0eWxlXSk7ZWxzZSBpZihpKGUpKXtjb25zdCBuPXRbZV0sbz1zW2VdOyFvfHxuPT09b3x8cChuKSYmbi5pbmNsdWRlcyhvKXx8KHRbZV09bj9bXS5jb25jYXQobixvKTpvKX1lbHNlIiIhPT1lJiYodFtlXT1zW2VdKX1yZXR1cm4gdH1mdW5jdGlvbiBpcihlLHQsbixzPW51bGwpe0h0KGUsdCw3LFtuLHNdKX1jb25zdCBscj1LcygpO2xldCBjcj0wO2xldCBhcj1udWxsO2NvbnN0IHVyPSgpPT5hcnx8aG47bGV0IGRyLHByO2RyPWU9Pnthcj1lfSxwcj1lPT57eXI9ZX07Y29uc3QgaHI9ZT0+e2NvbnN0IHQ9YXI7cmV0dXJuIGRyKGUpLGUuc2NvcGUub24oKSwoKT0+e2Uuc2NvcGUub2ZmKCksZHIodCl9fSxmcj0oKT0+e2FyJiZhci5zY29wZS5vZmYoKSxkcihudWxsKX07ZnVuY3Rpb24gbXIoZSl7cmV0dXJuIDQmZS52bm9kZS5zaGFwZUZsYWd9bGV0IGdyLHZyLHlyPSExO2Z1bmN0aW9uIGJyKGUsdCxuKXtnKHQpP2UucmVuZGVyPXQ6Yih0KSYmKGUuc2V0dXBTdGF0ZT1QdCh0KSksU3IoZSxuKX1mdW5jdGlvbiBfcihlKXtncj1lLHZyPWU9PntlLnJlbmRlci5fcmMmJihlLndpdGhQcm94eT1uZXcgUHJveHkoZS5jdHgsUnMpKX19ZnVuY3Rpb24gU3IoZSx0LG4pe2NvbnN0IHM9ZS50eXBlO2lmKCFlLnJlbmRlcil7aWYoIXQmJmdyJiYhcy5yZW5kZXIpe2NvbnN0IHQ9cy50ZW1wbGF0ZXx8QnMoZSkudGVtcGxhdGU7aWYodCl7Y29uc3R7aXNDdXN0b21FbGVtZW50Om4sY29tcGlsZXJPcHRpb25zOm99PWUuYXBwQ29udGV4dC5jb25maWcse2RlbGltaXRlcnM6cixjb21waWxlck9wdGlvbnM6aX09cyxsPWMoYyh7aXNDdXN0b21FbGVtZW50Om4sZGVsaW1pdGVyczpyfSxvKSxpKTtzLnJlbmRlcj1ncih0LGwpfX1lLnJlbmRlcj1zLnJlbmRlcnx8byx2ciYmdnIoZSl9e2NvbnN0IHQ9aHIoZSk7eWUoKTt0cnl7TXMoZSl9ZmluYWxseXtiZSgpLHQoKX19fWZ1bmN0aW9uIHhyKGUpe2NvbnN0IHQ9dD0+e2UuZXhwb3NlZD10fHx7fX07cmV0dXJue2dldCBhdHRycygpe3JldHVybiBmdW5jdGlvbihlKXtyZXR1cm4gZS5hdHRyc1Byb3h5fHwoZS5hdHRyc1Byb3h5PW5ldyBQcm94eShlLmF0dHJzLHtnZXQ6KHQsbik9PihBZShlLDAsIiRhdHRycyIpLHRbbl0pfSkpfShlKX0sc2xvdHM6ZS5zbG90cyxlbWl0OmUuZW1pdCxleHBvc2U6dH19ZnVuY3Rpb24gQ3IoZSl7aWYoZS5leHBvc2VkKXJldHVybiBlLmV4cG9zZVByb3h5fHwoZS5leHBvc2VQcm94eT1uZXcgUHJveHkoUHQoa3QoZS5leHBvc2VkKSkse2dldDoodCxuKT0+biBpbiB0P3Rbbl06biBpbiBOcz9Oc1tuXShlKTp2b2lkIDAsaGFzOihlLHQpPT50IGluIGV8fHQgaW4gTnN9KSl9ZnVuY3Rpb24ga3IoZSx0PSEwKXtyZXR1cm4gZyhlKT9lLmRpc3BsYXlOYW1lfHxlLm5hbWU6ZS5uYW1lfHx0JiZlLl9fbmFtZX1jb25zdCBUcj0oZSx0KT0+e2NvbnN0IG49ZnVuY3Rpb24oZSx0LG49ITEpe2xldCBzLHI7Y29uc3QgaT1nKGUpO3JldHVybiBpPyhzPWUscj1vKToocz1lLmdldCxyPWUuc2V0KSxuZXcgRXQocyxyLGl8fCFyLG4pfShlLDAseXIpO3JldHVybiBufTtmdW5jdGlvbiB3cihlLHQsbil7Y29uc3Qgcz1hcmd1bWVudHMubGVuZ3RoO3JldHVybiAyPT09cz9iKHQpJiYhcCh0KT9Lbyh0KT9abyhlLG51bGwsW3RdKTpabyhlLHQpOlpvKGUsbnVsbCx0KToocz4zP249QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLDIpOjM9PT1zJiZLbyhuKSYmKG49W25dKSxabyhlLHQsbikpfWZ1bmN0aW9uIEVyKGUsdCl7Y29uc3Qgbj1lLm1lbW87aWYobi5sZW5ndGghPXQubGVuZ3RoKXJldHVybiExO2ZvcihsZXQgcz0wO3M8bi5sZW5ndGg7cysrKWlmKE0obltzXSx0W3NdKSlyZXR1cm4hMTtyZXR1cm4gam8+MCYmVm8mJlZvLnB1c2goZSksITB9Y29uc3QgTnI9IjMuNC4yMSIsQXI9byxJcj1vLFJyPSJ1bmRlZmluZWQiIT10eXBlb2YgZG9jdW1lbnQ/ZG9jdW1lbnQ6bnVsbCxPcj1SciYmUnIuY3JlYXRlRWxlbWVudCgidGVtcGxhdGUiKSxMcj17aW5zZXJ0OihlLHQsbik9Pnt0Lmluc2VydEJlZm9yZShlLG58fG51bGwpfSxyZW1vdmU6ZT0+e2NvbnN0IHQ9ZS5wYXJlbnROb2RlO3QmJnQucmVtb3ZlQ2hpbGQoZSl9LGNyZWF0ZUVsZW1lbnQ6KGUsdCxuLHMpPT57Y29uc3Qgbz0ic3ZnIj09PXQ/UnIuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIsZSk6Im1hdGhtbCI9PT10P1JyLmNyZWF0ZUVsZW1lbnROUygiaHR0cDovL3d3dy53My5vcmcvMTk5OC9NYXRoL01hdGhNTCIsZSk6UnIuY3JlYXRlRWxlbWVudChlLG4/e2lzOm59OnZvaWQgMCk7cmV0dXJuInNlbGVjdCI9PT1lJiZzJiZudWxsIT1zLm11bHRpcGxlJiZvLnNldEF0dHJpYnV0ZSgibXVsdGlwbGUiLHMubXVsdGlwbGUpLG99LGNyZWF0ZVRleHQ6ZT0+UnIuY3JlYXRlVGV4dE5vZGUoZSksY3JlYXRlQ29tbWVudDplPT5Sci5jcmVhdGVDb21tZW50KGUpLHNldFRleHQ6KGUsdCk9PntlLm5vZGVWYWx1ZT10fSxzZXRFbGVtZW50VGV4dDooZSx0KT0+e2UudGV4dENvbnRlbnQ9dH0scGFyZW50Tm9kZTplPT5lLnBhcmVudE5vZGUsbmV4dFNpYmxpbmc6ZT0+ZS5uZXh0U2libGluZyxxdWVyeVNlbGVjdG9yOmU9PlJyLnF1ZXJ5U2VsZWN0b3IoZSksc2V0U2NvcGVJZChlLHQpe2Uuc2V0QXR0cmlidXRlKHQsIiIpfSxpbnNlcnRTdGF0aWNDb250ZW50KGUsdCxuLHMsbyxyKXtjb25zdCBpPW4/bi5wcmV2aW91c1NpYmxpbmc6dC5sYXN0Q2hpbGQ7aWYobyYmKG89PT1yfHxvLm5leHRTaWJsaW5nKSlmb3IoO3QuaW5zZXJ0QmVmb3JlKG8uY2xvbmVOb2RlKCEwKSxuKSxvIT09ciYmKG89by5uZXh0U2libGluZyk7KTtlbHNle09yLmlubmVySFRNTD0ic3ZnIj09PXM/YDxzdmc+JHtlfTwvc3ZnPmA6Im1hdGhtbCI9PT1zP2A8bWF0aD4ke2V9PC9tYXRoPmA6ZTtjb25zdCBvPU9yLmNvbnRlbnQ7aWYoInN2ZyI9PT1zfHwibWF0aG1sIj09PXMpe2NvbnN0IGU9by5maXJzdENoaWxkO2Zvcig7ZS5maXJzdENoaWxkOylvLmFwcGVuZENoaWxkKGUuZmlyc3RDaGlsZCk7by5yZW1vdmVDaGlsZChlKX10Lmluc2VydEJlZm9yZShvLG4pfXJldHVybltpP2kubmV4dFNpYmxpbmc6dC5maXJzdENoaWxkLG4/bi5wcmV2aW91c1NpYmxpbmc6dC5sYXN0Q2hpbGRdfX0sRnI9InRyYW5zaXRpb24iLE1yPSJhbmltYXRpb24iLFByPVN5bWJvbCgiX3Z0YyIpLCRyPShlLHtzbG90czp0fSk9PndyKEpuLGpyKGUpLHQpOyRyLmRpc3BsYXlOYW1lPSJUcmFuc2l0aW9uIjtjb25zdCBCcj17bmFtZTpTdHJpbmcsdHlwZTpTdHJpbmcsY3NzOnt0eXBlOkJvb2xlYW4sZGVmYXVsdDohMH0sZHVyYXRpb246W1N0cmluZyxOdW1iZXIsT2JqZWN0XSxlbnRlckZyb21DbGFzczpTdHJpbmcsZW50ZXJBY3RpdmVDbGFzczpTdHJpbmcsZW50ZXJUb0NsYXNzOlN0cmluZyxhcHBlYXJGcm9tQ2xhc3M6U3RyaW5nLGFwcGVhckFjdGl2ZUNsYXNzOlN0cmluZyxhcHBlYXJUb0NsYXNzOlN0cmluZyxsZWF2ZUZyb21DbGFzczpTdHJpbmcsbGVhdmVBY3RpdmVDbGFzczpTdHJpbmcsbGVhdmVUb0NsYXNzOlN0cmluZ30sVnI9JHIucHJvcHM9Yyh7fSxHbixCciksRHI9KGUsdD1bXSk9PntwKGUpP2UuZm9yRWFjaCgoZT0+ZSguLi50KSkpOmUmJmUoLi4udCl9LFVyPWU9PiEhZSYmKHAoZSk/ZS5zb21lKChlPT5lLmxlbmd0aD4xKSk6ZS5sZW5ndGg+MSk7ZnVuY3Rpb24ganIoZSl7Y29uc3QgdD17fTtmb3IoY29uc3QgYyBpbiBlKWMgaW4gQnJ8fCh0W2NdPWVbY10pO2lmKCExPT09ZS5jc3MpcmV0dXJuIHQ7Y29uc3R7bmFtZTpuPSJ2Iix0eXBlOnMsZHVyYXRpb246byxlbnRlckZyb21DbGFzczpyPWAke259LWVudGVyLWZyb21gLGVudGVyQWN0aXZlQ2xhc3M6aT1gJHtufS1lbnRlci1hY3RpdmVgLGVudGVyVG9DbGFzczpsPWAke259LWVudGVyLXRvYCxhcHBlYXJGcm9tQ2xhc3M6YT1yLGFwcGVhckFjdGl2ZUNsYXNzOnU9aSxhcHBlYXJUb0NsYXNzOmQ9bCxsZWF2ZUZyb21DbGFzczpwPWAke259LWxlYXZlLWZyb21gLGxlYXZlQWN0aXZlQ2xhc3M6aD1gJHtufS1sZWF2ZS1hY3RpdmVgLGxlYXZlVG9DbGFzczpmPWAke259LWxlYXZlLXRvYH09ZSxtPWZ1bmN0aW9uKGUpe2lmKG51bGw9PWUpcmV0dXJuIG51bGw7aWYoYihlKSlyZXR1cm5bSHIoZS5lbnRlciksSHIoZS5sZWF2ZSldO3tjb25zdCB0PUhyKGUpO3JldHVyblt0LHRdfX0obyksZz1tJiZtWzBdLHY9bSYmbVsxXSx7b25CZWZvcmVFbnRlcjp5LG9uRW50ZXI6XyxvbkVudGVyQ2FuY2VsbGVkOlMsb25MZWF2ZTp4LG9uTGVhdmVDYW5jZWxsZWQ6QyxvbkJlZm9yZUFwcGVhcjprPXksb25BcHBlYXI6VD1fLG9uQXBwZWFyQ2FuY2VsbGVkOnc9U309dCxFPShlLHQsbik9PntXcihlLHQ/ZDpsKSxXcihlLHQ/dTppKSxuJiZuKCl9LE49KGUsdCk9PntlLl9pc0xlYXZpbmc9ITEsV3IoZSxwKSxXcihlLGYpLFdyKGUsaCksdCYmdCgpfSxBPWU9Pih0LG4pPT57Y29uc3Qgbz1lP1Q6XyxpPSgpPT5FKHQsZSxuKTtEcihvLFt0LGldKSxLcigoKCk9PntXcih0LGU/YTpyKSxxcih0LGU/ZDpsKSxVcihvKXx8R3IodCxzLGcsaSl9KSl9O3JldHVybiBjKHQse29uQmVmb3JlRW50ZXIoZSl7RHIoeSxbZV0pLHFyKGUscikscXIoZSxpKX0sb25CZWZvcmVBcHBlYXIoZSl7RHIoayxbZV0pLHFyKGUsYSkscXIoZSx1KX0sb25FbnRlcjpBKCExKSxvbkFwcGVhcjpBKCEwKSxvbkxlYXZlKGUsdCl7ZS5faXNMZWF2aW5nPSEwO2NvbnN0IG49KCk9Pk4oZSx0KTtxcihlLHApLFpyKCkscXIoZSxoKSxLcigoKCk9PntlLl9pc0xlYXZpbmcmJihXcihlLHApLHFyKGUsZiksVXIoeCl8fEdyKGUscyx2LG4pKX0pKSxEcih4LFtlLG5dKX0sb25FbnRlckNhbmNlbGxlZChlKXtFKGUsITEpLERyKFMsW2VdKX0sb25BcHBlYXJDYW5jZWxsZWQoZSl7RShlLCEwKSxEcih3LFtlXSl9LG9uTGVhdmVDYW5jZWxsZWQoZSl7TihlKSxEcihDLFtlXSl9fSl9ZnVuY3Rpb24gSHIoZSl7cmV0dXJuIFYoZSl9ZnVuY3Rpb24gcXIoZSx0KXt0LnNwbGl0KC9ccysvKS5mb3JFYWNoKCh0PT50JiZlLmNsYXNzTGlzdC5hZGQodCkpKSwoZVtQcl18fChlW1ByXT1uZXcgU2V0KSkuYWRkKHQpfWZ1bmN0aW9uIFdyKGUsdCl7dC5zcGxpdCgvXHMrLykuZm9yRWFjaCgodD0+dCYmZS5jbGFzc0xpc3QucmVtb3ZlKHQpKSk7Y29uc3Qgbj1lW1ByXTtuJiYobi5kZWxldGUodCksbi5zaXplfHwoZVtQcl09dm9pZCAwKSl9ZnVuY3Rpb24gS3IoZSl7cmVxdWVzdEFuaW1hdGlvbkZyYW1lKCgoKT0+e3JlcXVlc3RBbmltYXRpb25GcmFtZShlKX0pKX1sZXQgenI9MDtmdW5jdGlvbiBHcihlLHQsbixzKXtjb25zdCBvPWUuX2VuZElkPSsrenIscj0oKT0+e289PT1lLl9lbmRJZCYmcygpfTtpZihuKXJldHVybiBzZXRUaW1lb3V0KHIsbik7Y29uc3R7dHlwZTppLHRpbWVvdXQ6bCxwcm9wQ291bnQ6Y309SnIoZSx0KTtpZighaSlyZXR1cm4gcygpO2NvbnN0IGE9aSsiZW5kIjtsZXQgdT0wO2NvbnN0IGQ9KCk9PntlLnJlbW92ZUV2ZW50TGlzdGVuZXIoYSxwKSxyKCl9LHA9dD0+e3QudGFyZ2V0PT09ZSYmKyt1Pj1jJiZkKCl9O3NldFRpbWVvdXQoKCgpPT57dTxjJiZkKCl9KSxsKzEpLGUuYWRkRXZlbnRMaXN0ZW5lcihhLHApfWZ1bmN0aW9uIEpyKGUsdCl7Y29uc3Qgbj13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlKSxzPWU9PihuW2VdfHwiIikuc3BsaXQoIiwgIiksbz1zKGAke0ZyfURlbGF5YCkscj1zKGAke0ZyfUR1cmF0aW9uYCksaT1YcihvLHIpLGw9cyhgJHtNcn1EZWxheWApLGM9cyhgJHtNcn1EdXJhdGlvbmApLGE9WHIobCxjKTtsZXQgdT1udWxsLGQ9MCxwPTA7dD09PUZyP2k+MCYmKHU9RnIsZD1pLHA9ci5sZW5ndGgpOnQ9PT1Ncj9hPjAmJih1PU1yLGQ9YSxwPWMubGVuZ3RoKTooZD1NYXRoLm1heChpLGEpLHU9ZD4wP2k+YT9GcjpNcjpudWxsLHA9dT91PT09RnI/ci5sZW5ndGg6Yy5sZW5ndGg6MCk7cmV0dXJue3R5cGU6dSx0aW1lb3V0OmQscHJvcENvdW50OnAsaGFzVHJhbnNmb3JtOnU9PT1GciYmL1xiKHRyYW5zZm9ybXxhbGwpKCx8JCkvLnRlc3QocyhgJHtGcn1Qcm9wZXJ0eWApLnRvU3RyaW5nKCkpfX1mdW5jdGlvbiBYcihlLHQpe2Zvcig7ZS5sZW5ndGg8dC5sZW5ndGg7KWU9ZS5jb25jYXQoZSk7cmV0dXJuIE1hdGgubWF4KC4uLnQubWFwKCgodCxuKT0+UXIodCkrUXIoZVtuXSkpKSl9ZnVuY3Rpb24gUXIoZSl7cmV0dXJuImF1dG8iPT09ZT8wOjFlMypOdW1iZXIoZS5zbGljZSgwLC0xKS5yZXBsYWNlKCIsIiwiLiIpKX1mdW5jdGlvbiBacigpe3JldHVybiBkb2N1bWVudC5ib2R5Lm9mZnNldEhlaWdodH1jb25zdCBZcj1TeW1ib2woIl92b2QiKSxlaT1TeW1ib2woIl92c2giKSx0aT17YmVmb3JlTW91bnQoZSx7dmFsdWU6dH0se3RyYW5zaXRpb246bn0pe2VbWXJdPSJub25lIj09PWUuc3R5bGUuZGlzcGxheT8iIjplLnN0eWxlLmRpc3BsYXksbiYmdD9uLmJlZm9yZUVudGVyKGUpOm5pKGUsdCl9LG1vdW50ZWQoZSx7dmFsdWU6dH0se3RyYW5zaXRpb246bn0pe24mJnQmJm4uZW50ZXIoZSl9LHVwZGF0ZWQoZSx7dmFsdWU6dCxvbGRWYWx1ZTpufSx7dHJhbnNpdGlvbjpzfSl7IXQhPSFuJiYocz90PyhzLmJlZm9yZUVudGVyKGUpLG5pKGUsITApLHMuZW50ZXIoZSkpOnMubGVhdmUoZSwoKCk9PntuaShlLCExKX0pKTpuaShlLHQpKX0sYmVmb3JlVW5tb3VudChlLHt2YWx1ZTp0fSl7bmkoZSx0KX19O2Z1bmN0aW9uIG5pKGUsdCl7ZS5zdHlsZS5kaXNwbGF5PXQ/ZVtZcl06Im5vbmUiLGVbZWldPSF0fWNvbnN0IHNpPVN5bWJvbCgiIik7ZnVuY3Rpb24gb2koZSx0KXtpZigxMjgmZS5zaGFwZUZsYWcpe2NvbnN0IG49ZS5zdXNwZW5zZTtlPW4uYWN0aXZlQnJhbmNoLG4ucGVuZGluZ0JyYW5jaCYmIW4uaXNIeWRyYXRpbmcmJm4uZWZmZWN0cy5wdXNoKCgoKT0+e29pKG4uYWN0aXZlQnJhbmNoLHQpfSkpfWZvcig7ZS5jb21wb25lbnQ7KWU9ZS5jb21wb25lbnQuc3ViVHJlZTtpZigxJmUuc2hhcGVGbGFnJiZlLmVsKXJpKGUuZWwsdCk7ZWxzZSBpZihlLnR5cGU9PT1GbyllLmNoaWxkcmVuLmZvckVhY2goKGU9Pm9pKGUsdCkpKTtlbHNlIGlmKGUudHlwZT09PSRvKXtsZXR7ZWw6bixhbmNob3I6c309ZTtmb3IoO24mJihyaShuLHQpLG4hPT1zKTspbj1uLm5leHRTaWJsaW5nfX1mdW5jdGlvbiByaShlLHQpe2lmKDE9PT1lLm5vZGVUeXBlKXtjb25zdCBuPWUuc3R5bGU7bGV0IHM9IiI7Zm9yKGNvbnN0IGUgaW4gdCluLnNldFByb3BlcnR5KGAtLSR7ZX1gLHRbZV0pLHMrPWAtLSR7ZX06ICR7dFtlXX07YDtuW3NpXT1zfX1jb25zdCBpaT0vKF58OylccypkaXNwbGF5XHMqOi87Y29uc3QgbGk9L1xzKiFpbXBvcnRhbnQkLztmdW5jdGlvbiBjaShlLHQsbil7aWYocChuKSluLmZvckVhY2goKG49PmNpKGUsdCxuKSkpO2Vsc2UgaWYobnVsbD09biYmKG49IiIpLHQuc3RhcnRzV2l0aCgiLS0iKSllLnNldFByb3BlcnR5KHQsbik7ZWxzZXtjb25zdCBzPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj11aVt0XTtpZihuKXJldHVybiBuO2xldCBzPUkodCk7aWYoImZpbHRlciIhPT1zJiZzIGluIGUpcmV0dXJuIHVpW3RdPXM7cz1MKHMpO2ZvcihsZXQgbz0wO288YWkubGVuZ3RoO28rKyl7Y29uc3Qgbj1haVtvXStzO2lmKG4gaW4gZSlyZXR1cm4gdWlbdF09bn1yZXR1cm4gdH0oZSx0KTtsaS50ZXN0KG4pP2Uuc2V0UHJvcGVydHkoTyhzKSxuLnJlcGxhY2UobGksIiIpLCJpbXBvcnRhbnQiKTplW3NdPW59fWNvbnN0IGFpPVsiV2Via2l0IiwiTW96IiwibXMiXSx1aT17fTtjb25zdCBkaT0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI7ZnVuY3Rpb24gcGkoZSx0LG4scyl7ZS5hZGRFdmVudExpc3RlbmVyKHQsbixzKX1jb25zdCBoaT1TeW1ib2woIl92ZWkiKTtmdW5jdGlvbiBmaShlLHQsbixzLG89bnVsbCl7Y29uc3Qgcj1lW2hpXXx8KGVbaGldPXt9KSxpPXJbdF07aWYocyYmaSlpLnZhbHVlPXM7ZWxzZXtjb25zdFtuLGxdPWZ1bmN0aW9uKGUpe2xldCB0O2lmKG1pLnRlc3QoZSkpe2xldCBuO2Zvcih0PXt9O249ZS5tYXRjaChtaSk7KWU9ZS5zbGljZSgwLGUubGVuZ3RoLW5bMF0ubGVuZ3RoKSx0W25bMF0udG9Mb3dlckNhc2UoKV09ITB9Y29uc3Qgbj0iOiI9PT1lWzJdP2Uuc2xpY2UoMyk6TyhlLnNsaWNlKDIpKTtyZXR1cm5bbix0XX0odCk7aWYocyl7Y29uc3QgaT1yW3RdPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1lPT57aWYoZS5fdnRzKXtpZihlLl92dHM8PW4uYXR0YWNoZWQpcmV0dXJufWVsc2UgZS5fdnRzPURhdGUubm93KCk7SHQoZnVuY3Rpb24oZSx0KXtpZihwKHQpKXtjb25zdCBuPWUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uO3JldHVybiBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbj0oKT0+e24uY2FsbChlKSxlLl9zdG9wcGVkPSEwfSx0Lm1hcCgoZT0+dD0+IXQuX3N0b3BwZWQmJmUmJmUodCkpKX1yZXR1cm4gdH0oZSxuLnZhbHVlKSx0LDUsW2VdKX07cmV0dXJuIG4udmFsdWU9ZSxuLmF0dGFjaGVkPXlpKCksbn0ocyxvKTtwaShlLG4saSxsKX1lbHNlIGkmJighZnVuY3Rpb24oZSx0LG4scyl7ZS5yZW1vdmVFdmVudExpc3RlbmVyKHQsbixzKX0oZSxuLGksbCksclt0XT12b2lkIDApfX1jb25zdCBtaT0vKD86T25jZXxQYXNzaXZlfENhcHR1cmUpJC87bGV0IGdpPTA7Y29uc3Qgdmk9UHJvbWlzZS5yZXNvbHZlKCkseWk9KCk9PmdpfHwodmkudGhlbigoKCk9PmdpPTApKSxnaT1EYXRlLm5vdygpKTtjb25zdCBiaT1lPT4xMTE9PT1lLmNoYXJDb2RlQXQoMCkmJjExMD09PWUuY2hhckNvZGVBdCgxKSYmZS5jaGFyQ29kZUF0KDIpPjk2JiZlLmNoYXJDb2RlQXQoMik8MTIzOwovKiEgI19fTk9fU0lERV9FRkZFQ1RTX18gKi8KZnVuY3Rpb24gX2koZSx0KXtjb25zdCBuPW5zKGUpO2NsYXNzIHMgZXh0ZW5kcyB4aXtjb25zdHJ1Y3RvcihlKXtzdXBlcihuLGUsdCl9fXJldHVybiBzLmRlZj1uLHN9Ci8qISAjX19OT19TSURFX0VGRkVDVFNfXyAqL2NvbnN0IFNpPSJ1bmRlZmluZWQiIT10eXBlb2YgSFRNTEVsZW1lbnQ/SFRNTEVsZW1lbnQ6Y2xhc3N7fTtjbGFzcyB4aSBleHRlbmRzIFNpe2NvbnN0cnVjdG9yKGUsdD17fSxuKXtzdXBlcigpLHRoaXMuX2RlZj1lLHRoaXMuX3Byb3BzPXQsdGhpcy5faW5zdGFuY2U9bnVsbCx0aGlzLl9jb25uZWN0ZWQ9ITEsdGhpcy5fcmVzb2x2ZWQ9ITEsdGhpcy5fbnVtYmVyUHJvcHM9bnVsbCx0aGlzLl9vYj1udWxsLHRoaXMuc2hhZG93Um9vdCYmbj9uKHRoaXMuX2NyZWF0ZVZOb2RlKCksdGhpcy5zaGFkb3dSb290KToodGhpcy5hdHRhY2hTaGFkb3coe21vZGU6Im9wZW4ifSksdGhpcy5fZGVmLl9fYXN5bmNMb2FkZXJ8fHRoaXMuX3Jlc29sdmVQcm9wcyh0aGlzLl9kZWYpKX1jb25uZWN0ZWRDYWxsYmFjaygpe3RoaXMuX2Nvbm5lY3RlZD0hMCx0aGlzLl9pbnN0YW5jZXx8KHRoaXMuX3Jlc29sdmVkP3RoaXMuX3VwZGF0ZSgpOnRoaXMuX3Jlc29sdmVEZWYoKSl9ZGlzY29ubmVjdGVkQ2FsbGJhY2soKXt0aGlzLl9jb25uZWN0ZWQ9ITEsdGhpcy5fb2ImJih0aGlzLl9vYi5kaXNjb25uZWN0KCksdGhpcy5fb2I9bnVsbCksZW4oKCgpPT57dGhpcy5fY29ubmVjdGVkfHwoZWwobnVsbCx0aGlzLnNoYWRvd1Jvb3QpLHRoaXMuX2luc3RhbmNlPW51bGwpfSkpfV9yZXNvbHZlRGVmKCl7dGhpcy5fcmVzb2x2ZWQ9ITA7Zm9yKGxldCBuPTA7bjx0aGlzLmF0dHJpYnV0ZXMubGVuZ3RoO24rKyl0aGlzLl9zZXRBdHRyKHRoaXMuYXR0cmlidXRlc1tuXS5uYW1lKTt0aGlzLl9vYj1uZXcgTXV0YXRpb25PYnNlcnZlcigoZT0+e2Zvcihjb25zdCB0IG9mIGUpdGhpcy5fc2V0QXR0cih0LmF0dHJpYnV0ZU5hbWUpfSkpLHRoaXMuX29iLm9ic2VydmUodGhpcyx7YXR0cmlidXRlczohMH0pO2NvbnN0IGU9KGUsdD0hMSk9Pntjb25zdHtwcm9wczpuLHN0eWxlczpzfT1lO2xldCBvO2lmKG4mJiFwKG4pKWZvcihjb25zdCByIGluIG4pe2NvbnN0IGU9bltyXTsoZT09PU51bWJlcnx8ZSYmZS50eXBlPT09TnVtYmVyKSYmKHIgaW4gdGhpcy5fcHJvcHMmJih0aGlzLl9wcm9wc1tyXT1WKHRoaXMuX3Byb3BzW3JdKSksKG98fChvPU9iamVjdC5jcmVhdGUobnVsbCkpKVtJKHIpXT0hMCl9dGhpcy5fbnVtYmVyUHJvcHM9byx0JiZ0aGlzLl9yZXNvbHZlUHJvcHMoZSksdGhpcy5fYXBwbHlTdHlsZXMocyksdGhpcy5fdXBkYXRlKCl9LHQ9dGhpcy5fZGVmLl9fYXN5bmNMb2FkZXI7dD90KCkudGhlbigodD0+ZSh0LCEwKSkpOmUodGhpcy5fZGVmKX1fcmVzb2x2ZVByb3BzKGUpe2NvbnN0e3Byb3BzOnR9PWUsbj1wKHQpP3Q6T2JqZWN0LmtleXModHx8e30pO2Zvcihjb25zdCBzIG9mIE9iamVjdC5rZXlzKHRoaXMpKSJfIiE9PXNbMF0mJm4uaW5jbHVkZXMocykmJnRoaXMuX3NldFByb3Aocyx0aGlzW3NdLCEwLCExKTtmb3IoY29uc3QgcyBvZiBuLm1hcChJKSlPYmplY3QuZGVmaW5lUHJvcGVydHkodGhpcyxzLHtnZXQoKXtyZXR1cm4gdGhpcy5fZ2V0UHJvcChzKX0sc2V0KGUpe3RoaXMuX3NldFByb3AocyxlKX19KX1fc2V0QXR0cihlKXtsZXQgdD10aGlzLmdldEF0dHJpYnV0ZShlKTtjb25zdCBuPUkoZSk7dGhpcy5fbnVtYmVyUHJvcHMmJnRoaXMuX251bWJlclByb3BzW25dJiYodD1WKHQpKSx0aGlzLl9zZXRQcm9wKG4sdCwhMSl9X2dldFByb3AoZSl7cmV0dXJuIHRoaXMuX3Byb3BzW2VdfV9zZXRQcm9wKGUsdCxuPSEwLHM9ITApe3QhPT10aGlzLl9wcm9wc1tlXSYmKHRoaXMuX3Byb3BzW2VdPXQscyYmdGhpcy5faW5zdGFuY2UmJnRoaXMuX3VwZGF0ZSgpLG4mJighMD09PXQ/dGhpcy5zZXRBdHRyaWJ1dGUoTyhlKSwiIik6InN0cmluZyI9PXR5cGVvZiB0fHwibnVtYmVyIj09dHlwZW9mIHQ/dGhpcy5zZXRBdHRyaWJ1dGUoTyhlKSx0KyIiKTp0fHx0aGlzLnJlbW92ZUF0dHJpYnV0ZShPKGUpKSkpfV91cGRhdGUoKXtlbCh0aGlzLl9jcmVhdGVWTm9kZSgpLHRoaXMuc2hhZG93Um9vdCl9X2NyZWF0ZVZOb2RlKCl7Y29uc3QgZT1abyh0aGlzLl9kZWYsYyh7fSx0aGlzLl9wcm9wcykpO3JldHVybiB0aGlzLl9pbnN0YW5jZXx8KGUuY2U9ZT0+e3RoaXMuX2luc3RhbmNlPWUsZS5pc0NFPSEwO2NvbnN0IHQ9KGUsdCk9Pnt0aGlzLmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KGUse2RldGFpbDp0fSkpfTtlLmVtaXQ9KGUsLi4ubik9Pnt0KGUsbiksTyhlKSE9PWUmJnQoTyhlKSxuKX07bGV0IG49dGhpcztmb3IoO249biYmKG4ucGFyZW50Tm9kZXx8bi5ob3N0KTspaWYobiBpbnN0YW5jZW9mIHhpKXtlLnBhcmVudD1uLl9pbnN0YW5jZSxlLnByb3ZpZGVzPW4uX2luc3RhbmNlLnByb3ZpZGVzO2JyZWFrfX0pLGV9X2FwcGx5U3R5bGVzKGUpe2UmJmUuZm9yRWFjaCgoZT0+e2NvbnN0IHQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKTt0LnRleHRDb250ZW50PWUsdGhpcy5zaGFkb3dSb290LmFwcGVuZENoaWxkKHQpfSkpfX1jb25zdCBDaT1uZXcgV2Vha01hcCxraT1uZXcgV2Vha01hcCxUaT1TeW1ib2woIl9tb3ZlQ2IiKSx3aT1TeW1ib2woIl9lbnRlckNiIiksRWk9e25hbWU6IlRyYW5zaXRpb25Hcm91cCIscHJvcHM6Yyh7fSxWcix7dGFnOlN0cmluZyxtb3ZlQ2xhc3M6U3RyaW5nfSksc2V0dXAoZSx7c2xvdHM6dH0pe2NvbnN0IG49dXIoKSxzPUtuKCk7bGV0IG8scjtyZXR1cm4gYnMoKCgpPT57aWYoIW8ubGVuZ3RoKXJldHVybjtjb25zdCB0PWUubW92ZUNsYXNzfHxgJHtlLm5hbWV8fCJ2In0tbW92ZWA7aWYoIWZ1bmN0aW9uKGUsdCxuKXtjb25zdCBzPWUuY2xvbmVOb2RlKCksbz1lW1ByXTtvJiZvLmZvckVhY2goKGU9PntlLnNwbGl0KC9ccysvKS5mb3JFYWNoKChlPT5lJiZzLmNsYXNzTGlzdC5yZW1vdmUoZSkpKX0pKTtuLnNwbGl0KC9ccysvKS5mb3JFYWNoKChlPT5lJiZzLmNsYXNzTGlzdC5hZGQoZSkpKSxzLnN0eWxlLmRpc3BsYXk9Im5vbmUiO2NvbnN0IHI9MT09PXQubm9kZVR5cGU/dDp0LnBhcmVudE5vZGU7ci5hcHBlbmRDaGlsZChzKTtjb25zdHtoYXNUcmFuc2Zvcm06aX09SnIocyk7cmV0dXJuIHIucmVtb3ZlQ2hpbGQocyksaX0ob1swXS5lbCxuLnZub2RlLmVsLHQpKXJldHVybjtvLmZvckVhY2goQWkpLG8uZm9yRWFjaChJaSk7Y29uc3Qgcz1vLmZpbHRlcihSaSk7WnIoKSxzLmZvckVhY2goKGU9Pntjb25zdCBuPWUuZWwscz1uLnN0eWxlO3FyKG4sdCkscy50cmFuc2Zvcm09cy53ZWJraXRUcmFuc2Zvcm09cy50cmFuc2l0aW9uRHVyYXRpb249IiI7Y29uc3Qgbz1uW1RpXT1lPT57ZSYmZS50YXJnZXQhPT1ufHxlJiYhL3RyYW5zZm9ybSQvLnRlc3QoZS5wcm9wZXJ0eU5hbWUpfHwobi5yZW1vdmVFdmVudExpc3RlbmVyKCJ0cmFuc2l0aW9uZW5kIixvKSxuW1RpXT1udWxsLFdyKG4sdCkpfTtuLmFkZEV2ZW50TGlzdGVuZXIoInRyYW5zaXRpb25lbmQiLG8pfSkpfSkpLCgpPT57Y29uc3QgaT1DdChlKSxsPWpyKGkpO2xldCBjPWkudGFnfHxGbztvPXIscj10LmRlZmF1bHQ/dHModC5kZWZhdWx0KCkpOltdO2ZvcihsZXQgZT0wO2U8ci5sZW5ndGg7ZSsrKXtjb25zdCB0PXJbZV07bnVsbCE9dC5rZXkmJmVzKHQsUW4odCxsLHMsbikpfWlmKG8pZm9yKGxldCBlPTA7ZTxvLmxlbmd0aDtlKyspe2NvbnN0IHQ9b1tlXTtlcyh0LFFuKHQsbCxzLG4pKSxDaS5zZXQodCx0LmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKX1yZXR1cm4gWm8oYyxudWxsLHIpfX19LE5pPUVpO2Z1bmN0aW9uIEFpKGUpe2NvbnN0IHQ9ZS5lbDt0W1RpXSYmdFtUaV0oKSx0W3dpXSYmdFt3aV0oKX1mdW5jdGlvbiBJaShlKXtraS5zZXQoZSxlLmVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpKX1mdW5jdGlvbiBSaShlKXtjb25zdCB0PUNpLmdldChlKSxuPWtpLmdldChlKSxzPXQubGVmdC1uLmxlZnQsbz10LnRvcC1uLnRvcDtpZihzfHxvKXtjb25zdCB0PWUuZWwuc3R5bGU7cmV0dXJuIHQudHJhbnNmb3JtPXQud2Via2l0VHJhbnNmb3JtPWB0cmFuc2xhdGUoJHtzfXB4LCR7b31weClgLHQudHJhbnNpdGlvbkR1cmF0aW9uPSIwcyIsZX19Y29uc3QgT2k9ZT0+e2NvbnN0IHQ9ZS5wcm9wc1sib25VcGRhdGU6bW9kZWxWYWx1ZSJdfHwhMTtyZXR1cm4gcCh0KT9lPT5QKHQsZSk6dH07ZnVuY3Rpb24gTGkoZSl7ZS50YXJnZXQuY29tcG9zaW5nPSEwfWZ1bmN0aW9uIEZpKGUpe2NvbnN0IHQ9ZS50YXJnZXQ7dC5jb21wb3NpbmcmJih0LmNvbXBvc2luZz0hMSx0LmRpc3BhdGNoRXZlbnQobmV3IEV2ZW50KCJpbnB1dCIpKSl9Y29uc3QgTWk9U3ltYm9sKCJfYXNzaWduIiksUGk9e2NyZWF0ZWQoZSx7bW9kaWZpZXJzOntsYXp5OnQsdHJpbTpuLG51bWJlcjpzfX0sbyl7ZVtNaV09T2kobyk7Y29uc3Qgcj1zfHxvLnByb3BzJiYibnVtYmVyIj09PW8ucHJvcHMudHlwZTtwaShlLHQ/ImNoYW5nZSI6ImlucHV0IiwodD0+e2lmKHQudGFyZ2V0LmNvbXBvc2luZylyZXR1cm47bGV0IHM9ZS52YWx1ZTtuJiYocz1zLnRyaW0oKSksciYmKHM9QihzKSksZVtNaV0ocyl9KSksbiYmcGkoZSwiY2hhbmdlIiwoKCk9PntlLnZhbHVlPWUudmFsdWUudHJpbSgpfSkpLHR8fChwaShlLCJjb21wb3NpdGlvbnN0YXJ0IixMaSkscGkoZSwiY29tcG9zaXRpb25lbmQiLEZpKSxwaShlLCJjaGFuZ2UiLEZpKSl9LG1vdW50ZWQoZSx7dmFsdWU6dH0pe2UudmFsdWU9bnVsbD09dD8iIjp0fSxiZWZvcmVVcGRhdGUoZSx7dmFsdWU6dCxtb2RpZmllcnM6e2xhenk6bix0cmltOnMsbnVtYmVyOm99fSxyKXtpZihlW01pXT1PaShyKSxlLmNvbXBvc2luZylyZXR1cm47Y29uc3QgaT1udWxsPT10PyIiOnQ7aWYoKG98fCJudW1iZXIiPT09ZS50eXBlP0IoZS52YWx1ZSk6ZS52YWx1ZSkhPT1pKXtpZihkb2N1bWVudC5hY3RpdmVFbGVtZW50PT09ZSYmInJhbmdlIiE9PWUudHlwZSl7aWYobilyZXR1cm47aWYocyYmZS52YWx1ZS50cmltKCk9PT1pKXJldHVybn1lLnZhbHVlPWl9fX0sJGk9e2RlZXA6ITAsY3JlYXRlZChlLHQsbil7ZVtNaV09T2kobikscGkoZSwiY2hhbmdlIiwoKCk9Pntjb25zdCB0PWUuX21vZGVsVmFsdWUsbj1qaShlKSxzPWUuY2hlY2tlZCxvPWVbTWldO2lmKHAodCkpe2NvbnN0IGU9bmUodCxuKSxyPS0xIT09ZTtpZihzJiYhcilvKHQuY29uY2F0KG4pKTtlbHNlIGlmKCFzJiZyKXtjb25zdCBuPVsuLi50XTtuLnNwbGljZShlLDEpLG8obil9fWVsc2UgaWYoZih0KSl7Y29uc3QgZT1uZXcgU2V0KHQpO3M/ZS5hZGQobik6ZS5kZWxldGUobiksbyhlKX1lbHNlIG8oSGkoZSxzKSl9KSl9LG1vdW50ZWQ6QmksYmVmb3JlVXBkYXRlKGUsdCxuKXtlW01pXT1PaShuKSxCaShlLHQsbil9fTtmdW5jdGlvbiBCaShlLHt2YWx1ZTp0LG9sZFZhbHVlOm59LHMpe2UuX21vZGVsVmFsdWU9dCxwKHQpP2UuY2hlY2tlZD1uZSh0LHMucHJvcHMudmFsdWUpPi0xOmYodCk/ZS5jaGVja2VkPXQuaGFzKHMucHJvcHMudmFsdWUpOnQhPT1uJiYoZS5jaGVja2VkPXRlKHQsSGkoZSwhMCkpKX1jb25zdCBWaT17Y3JlYXRlZChlLHt2YWx1ZTp0fSxuKXtlLmNoZWNrZWQ9dGUodCxuLnByb3BzLnZhbHVlKSxlW01pXT1PaShuKSxwaShlLCJjaGFuZ2UiLCgoKT0+e2VbTWldKGppKGUpKX0pKX0sYmVmb3JlVXBkYXRlKGUse3ZhbHVlOnQsb2xkVmFsdWU6bn0scyl7ZVtNaV09T2kocyksdCE9PW4mJihlLmNoZWNrZWQ9dGUodCxzLnByb3BzLnZhbHVlKSl9fSxEaT17ZGVlcDohMCxjcmVhdGVkKGUse3ZhbHVlOnQsbW9kaWZpZXJzOntudW1iZXI6bn19LHMpe2NvbnN0IG89Zih0KTtwaShlLCJjaGFuZ2UiLCgoKT0+e2NvbnN0IHQ9QXJyYXkucHJvdG90eXBlLmZpbHRlci5jYWxsKGUub3B0aW9ucywoZT0+ZS5zZWxlY3RlZCkpLm1hcCgoZT0+bj9CKGppKGUpKTpqaShlKSkpO2VbTWldKGUubXVsdGlwbGU/bz9uZXcgU2V0KHQpOnQ6dFswXSksZS5fYXNzaWduaW5nPSEwLGVuKCgoKT0+e2UuX2Fzc2lnbmluZz0hMX0pKX0pKSxlW01pXT1PaShzKX0sbW91bnRlZChlLHt2YWx1ZTp0LG1vZGlmaWVyczp7bnVtYmVyOm59fSl7VWkoZSx0LG4pfSxiZWZvcmVVcGRhdGUoZSx0LG4pe2VbTWldPU9pKG4pfSx1cGRhdGVkKGUse3ZhbHVlOnQsbW9kaWZpZXJzOntudW1iZXI6bn19KXtlLl9hc3NpZ25pbmd8fFVpKGUsdCxuKX19O2Z1bmN0aW9uIFVpKGUsdCxuKXtjb25zdCBzPWUubXVsdGlwbGUsbz1wKHQpO2lmKCFzfHxvfHxmKHQpKXtmb3IobGV0IHI9MCxpPWUub3B0aW9ucy5sZW5ndGg7cjxpO3IrKyl7Y29uc3QgaT1lLm9wdGlvbnNbcl0sbD1qaShpKTtpZihzKWlmKG8pe2NvbnN0IGU9dHlwZW9mIGw7aS5zZWxlY3RlZD0ic3RyaW5nIj09PWV8fCJudW1iZXIiPT09ZT90LmluY2x1ZGVzKG4/QihsKTpsKTpuZSh0LGwpPi0xfWVsc2UgaS5zZWxlY3RlZD10LmhhcyhsKTtlbHNlIGlmKHRlKGppKGkpLHQpKXJldHVybiB2b2lkKGUuc2VsZWN0ZWRJbmRleCE9PXImJihlLnNlbGVjdGVkSW5kZXg9cikpfXN8fC0xPT09ZS5zZWxlY3RlZEluZGV4fHwoZS5zZWxlY3RlZEluZGV4PS0xKX19ZnVuY3Rpb24gamkoZSl7cmV0dXJuIl92YWx1ZSJpbiBlP2UuX3ZhbHVlOmUudmFsdWV9ZnVuY3Rpb24gSGkoZSx0KXtjb25zdCBuPXQ/Il90cnVlVmFsdWUiOiJfZmFsc2VWYWx1ZSI7cmV0dXJuIG4gaW4gZT9lW25dOnR9Y29uc3QgcWk9e2NyZWF0ZWQoZSx0LG4pe1dpKGUsdCxuLG51bGwsImNyZWF0ZWQiKX0sbW91bnRlZChlLHQsbil7V2koZSx0LG4sbnVsbCwibW91bnRlZCIpfSxiZWZvcmVVcGRhdGUoZSx0LG4scyl7V2koZSx0LG4scywiYmVmb3JlVXBkYXRlIil9LHVwZGF0ZWQoZSx0LG4scyl7V2koZSx0LG4scywidXBkYXRlZCIpfX07ZnVuY3Rpb24gV2koZSx0LG4scyxvKXtjb25zdCByPWZ1bmN0aW9uKGUsdCl7c3dpdGNoKGUpe2Nhc2UiU0VMRUNUIjpyZXR1cm4gRGk7Y2FzZSJURVhUQVJFQSI6cmV0dXJuIFBpO2RlZmF1bHQ6c3dpdGNoKHQpe2Nhc2UiY2hlY2tib3giOnJldHVybiAkaTtjYXNlInJhZGlvIjpyZXR1cm4gVmk7ZGVmYXVsdDpyZXR1cm4gUGl9fX0oZS50YWdOYW1lLG4ucHJvcHMmJm4ucHJvcHMudHlwZSlbb107ciYmcihlLHQsbixzKX1jb25zdCBLaT1bImN0cmwiLCJzaGlmdCIsImFsdCIsIm1ldGEiXSx6aT17c3RvcDplPT5lLnN0b3BQcm9wYWdhdGlvbigpLHByZXZlbnQ6ZT0+ZS5wcmV2ZW50RGVmYXVsdCgpLHNlbGY6ZT0+ZS50YXJnZXQhPT1lLmN1cnJlbnRUYXJnZXQsY3RybDplPT4hZS5jdHJsS2V5LHNoaWZ0OmU9PiFlLnNoaWZ0S2V5LGFsdDplPT4hZS5hbHRLZXksbWV0YTplPT4hZS5tZXRhS2V5LGxlZnQ6ZT0+ImJ1dHRvbiJpbiBlJiYwIT09ZS5idXR0b24sbWlkZGxlOmU9PiJidXR0b24iaW4gZSYmMSE9PWUuYnV0dG9uLHJpZ2h0OmU9PiJidXR0b24iaW4gZSYmMiE9PWUuYnV0dG9uLGV4YWN0OihlLHQpPT5LaS5zb21lKChuPT5lW2Ake259S2V5YF0mJiF0LmluY2x1ZGVzKG4pKSl9LEdpPXtlc2M6ImVzY2FwZSIsc3BhY2U6IiAiLHVwOiJhcnJvdy11cCIsbGVmdDoiYXJyb3ctbGVmdCIscmlnaHQ6ImFycm93LXJpZ2h0Iixkb3duOiJhcnJvdy1kb3duIixkZWxldGU6ImJhY2tzcGFjZSJ9LEppPWMoe3BhdGNoUHJvcDooZSx0LG4scyxvLHIsYyxhLHUpPT57Y29uc3QgZD0ic3ZnIj09PW87ImNsYXNzIj09PXQ/ZnVuY3Rpb24oZSx0LG4pe2NvbnN0IHM9ZVtQcl07cyYmKHQ9KHQ/W3QsLi4uc106Wy4uLnNdKS5qb2luKCIgIikpLG51bGw9PXQ/ZS5yZW1vdmVBdHRyaWJ1dGUoImNsYXNzIik6bj9lLnNldEF0dHJpYnV0ZSgiY2xhc3MiLHQpOmUuY2xhc3NOYW1lPXR9KGUscyxkKToic3R5bGUiPT09dD9mdW5jdGlvbihlLHQsbil7Y29uc3Qgcz1lLnN0eWxlLG89dihuKTtsZXQgcj0hMTtpZihuJiYhbyl7aWYodClpZih2KHQpKWZvcihjb25zdCBlIG9mIHQuc3BsaXQoIjsiKSl7Y29uc3QgdD1lLnNsaWNlKDAsZS5pbmRleE9mKCI6IikpLnRyaW0oKTtudWxsPT1uW3RdJiZjaShzLHQsIiIpfWVsc2UgZm9yKGNvbnN0IGUgaW4gdCludWxsPT1uW2VdJiZjaShzLGUsIiIpO2Zvcihjb25zdCBlIGluIG4pImRpc3BsYXkiPT09ZSYmKHI9ITApLGNpKHMsZSxuW2VdKX1lbHNlIGlmKG8pe2lmKHQhPT1uKXtjb25zdCBlPXNbc2ldO2UmJihuKz0iOyIrZSkscy5jc3NUZXh0PW4scj1paS50ZXN0KG4pfX1lbHNlIHQmJmUucmVtb3ZlQXR0cmlidXRlKCJzdHlsZSIpO1lyIGluIGUmJihlW1lyXT1yP3MuZGlzcGxheToiIixlW2VpXSYmKHMuZGlzcGxheT0ibm9uZSIpKX0oZSxuLHMpOmkodCk/bCh0KXx8ZmkoZSx0LDAscyxjKTooIi4iPT09dFswXT8odD10LnNsaWNlKDEpLDEpOiJeIj09PXRbMF0/KHQ9dC5zbGljZSgxKSwwKTpmdW5jdGlvbihlLHQsbixzKXtpZihzKXJldHVybiJpbm5lckhUTUwiPT09dHx8InRleHRDb250ZW50Ij09PXR8fCEhKHQgaW4gZSYmYmkodCkmJmcobikpO2lmKCJzcGVsbGNoZWNrIj09PXR8fCJkcmFnZ2FibGUiPT09dHx8InRyYW5zbGF0ZSI9PT10KXJldHVybiExO2lmKCJmb3JtIj09PXQpcmV0dXJuITE7aWYoImxpc3QiPT09dCYmIklOUFVUIj09PWUudGFnTmFtZSlyZXR1cm4hMTtpZigidHlwZSI9PT10JiYiVEVYVEFSRUEiPT09ZS50YWdOYW1lKXJldHVybiExO2lmKCJ3aWR0aCI9PT10fHwiaGVpZ2h0Ij09PXQpe2NvbnN0IHQ9ZS50YWdOYW1lO2lmKCJJTUciPT09dHx8IlZJREVPIj09PXR8fCJDQU5WQVMiPT09dHx8IlNPVVJDRSI9PT10KXJldHVybiExfWlmKGJpKHQpJiZ2KG4pKXJldHVybiExO3JldHVybiB0IGluIGV9KGUsdCxzLGQpKT9mdW5jdGlvbihlLHQsbixzLG8scixpKXtpZigiaW5uZXJIVE1MIj09PXR8fCJ0ZXh0Q29udGVudCI9PT10KXJldHVybiBzJiZpKHMsbyxyKSx2b2lkKGVbdF09bnVsbD09bj8iIjpuKTtjb25zdCBsPWUudGFnTmFtZTtpZigidmFsdWUiPT09dCYmIlBST0dSRVNTIiE9PWwmJiFsLmluY2x1ZGVzKCItIikpe2NvbnN0IHM9bnVsbD09bj8iIjpuO3JldHVybigiT1BUSU9OIj09PWw/ZS5nZXRBdHRyaWJ1dGUoInZhbHVlIil8fCIiOmUudmFsdWUpPT09cyYmIl92YWx1ZSJpbiBlfHwoZS52YWx1ZT1zKSxudWxsPT1uJiZlLnJlbW92ZUF0dHJpYnV0ZSh0KSx2b2lkKGUuX3ZhbHVlPW4pfWxldCBjPSExO2lmKCIiPT09bnx8bnVsbD09bil7Y29uc3Qgcz10eXBlb2YgZVt0XTsiYm9vbGVhbiI9PT1zP249ZWUobik6bnVsbD09biYmInN0cmluZyI9PT1zPyhuPSIiLGM9ITApOiJudW1iZXIiPT09cyYmKG49MCxjPSEwKX10cnl7ZVt0XT1ufWNhdGNoKGEpe31jJiZlLnJlbW92ZUF0dHJpYnV0ZSh0KX0oZSx0LHMscixjLGEsdSk6KCJ0cnVlLXZhbHVlIj09PXQ/ZS5fdHJ1ZVZhbHVlPXM6ImZhbHNlLXZhbHVlIj09PXQmJihlLl9mYWxzZVZhbHVlPXMpLGZ1bmN0aW9uKGUsdCxuLHMsbyl7aWYocyYmdC5zdGFydHNXaXRoKCJ4bGluazoiKSludWxsPT1uP2UucmVtb3ZlQXR0cmlidXRlTlMoZGksdC5zbGljZSg2LHQubGVuZ3RoKSk6ZS5zZXRBdHRyaWJ1dGVOUyhkaSx0LG4pO2Vsc2V7Y29uc3Qgcz1ZKHQpO251bGw9PW58fHMmJiFlZShuKT9lLnJlbW92ZUF0dHJpYnV0ZSh0KTplLnNldEF0dHJpYnV0ZSh0LHM/IiI6bil9fShlLHQscyxkKSl9fSxMcik7bGV0IFhpLFFpPSExO2Z1bmN0aW9uIFppKCl7cmV0dXJuIFhpfHwoWGk9Ym8oSmkpKX1mdW5jdGlvbiBZaSgpe3JldHVybiBYaT1RaT9YaTpfbyhKaSksUWk9ITAsWGl9Y29uc3QgZWw9KC4uLmUpPT57WmkoKS5yZW5kZXIoLi4uZSl9LHRsPSguLi5lKT0+e1lpKCkuaHlkcmF0ZSguLi5lKX07ZnVuY3Rpb24gbmwoZSl7cmV0dXJuIGUgaW5zdGFuY2VvZiBTVkdFbGVtZW50PyJzdmciOiJmdW5jdGlvbiI9PXR5cGVvZiBNYXRoTUxFbGVtZW50JiZlIGluc3RhbmNlb2YgTWF0aE1MRWxlbWVudD8ibWF0aG1sIjp2b2lkIDB9ZnVuY3Rpb24gc2woZSl7aWYodihlKSl7cmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoZSl9cmV0dXJuIGV9Y29uc3Qgb2w9byxybD1TeW1ib2woIiIpLGlsPVN5bWJvbCgiIiksbGw9U3ltYm9sKCIiKSxjbD1TeW1ib2woIiIpLGFsPVN5bWJvbCgiIiksdWw9U3ltYm9sKCIiKSxkbD1TeW1ib2woIiIpLHBsPVN5bWJvbCgiIiksaGw9U3ltYm9sKCIiKSxmbD1TeW1ib2woIiIpLG1sPVN5bWJvbCgiIiksZ2w9U3ltYm9sKCIiKSx2bD1TeW1ib2woIiIpLHlsPVN5bWJvbCgiIiksYmw9U3ltYm9sKCIiKSxfbD1TeW1ib2woIiIpLFNsPVN5bWJvbCgiIikseGw9U3ltYm9sKCIiKSxDbD1TeW1ib2woIiIpLGtsPVN5bWJvbCgiIiksVGw9U3ltYm9sKCIiKSx3bD1TeW1ib2woIiIpLEVsPVN5bWJvbCgiIiksTmw9U3ltYm9sKCIiKSxBbD1TeW1ib2woIiIpLElsPVN5bWJvbCgiIiksUmw9U3ltYm9sKCIiKSxPbD1TeW1ib2woIiIpLExsPVN5bWJvbCgiIiksRmw9U3ltYm9sKCIiKSxNbD1TeW1ib2woIiIpLFBsPVN5bWJvbCgiIiksJGw9U3ltYm9sKCIiKSxCbD1TeW1ib2woIiIpLFZsPVN5bWJvbCgiIiksRGw9U3ltYm9sKCIiKSxVbD1TeW1ib2woIiIpLGpsPVN5bWJvbCgiIiksSGw9U3ltYm9sKCIiKSxxbD17W3JsXToiRnJhZ21lbnQiLFtpbF06IlRlbGVwb3J0IixbbGxdOiJTdXNwZW5zZSIsW2NsXToiS2VlcEFsaXZlIixbYWxdOiJCYXNlVHJhbnNpdGlvbiIsW3VsXToib3BlbkJsb2NrIixbZGxdOiJjcmVhdGVCbG9jayIsW3BsXToiY3JlYXRlRWxlbWVudEJsb2NrIixbaGxdOiJjcmVhdGVWTm9kZSIsW2ZsXToiY3JlYXRlRWxlbWVudFZOb2RlIixbbWxdOiJjcmVhdGVDb21tZW50Vk5vZGUiLFtnbF06ImNyZWF0ZVRleHRWTm9kZSIsW3ZsXToiY3JlYXRlU3RhdGljVk5vZGUiLFt5bF06InJlc29sdmVDb21wb25lbnQiLFtibF06InJlc29sdmVEeW5hbWljQ29tcG9uZW50IixbX2xdOiJyZXNvbHZlRGlyZWN0aXZlIixbU2xdOiJyZXNvbHZlRmlsdGVyIixbeGxdOiJ3aXRoRGlyZWN0aXZlcyIsW0NsXToicmVuZGVyTGlzdCIsW2tsXToicmVuZGVyU2xvdCIsW1RsXToiY3JlYXRlU2xvdHMiLFt3bF06InRvRGlzcGxheVN0cmluZyIsW0VsXToibWVyZ2VQcm9wcyIsW05sXToibm9ybWFsaXplQ2xhc3MiLFtBbF06Im5vcm1hbGl6ZVN0eWxlIixbSWxdOiJub3JtYWxpemVQcm9wcyIsW1JsXToiZ3VhcmRSZWFjdGl2ZVByb3BzIixbT2xdOiJ0b0hhbmRsZXJzIixbTGxdOiJjYW1lbGl6ZSIsW0ZsXToiY2FwaXRhbGl6ZSIsW01sXToidG9IYW5kbGVyS2V5IixbUGxdOiJzZXRCbG9ja1RyYWNraW5nIixbJGxdOiJwdXNoU2NvcGVJZCIsW0JsXToicG9wU2NvcGVJZCIsW1ZsXToid2l0aEN0eCIsW0RsXToidW5yZWYiLFtVbF06ImlzUmVmIixbamxdOiJ3aXRoTWVtbyIsW0hsXToiaXNNZW1vU2FtZSJ9O2NvbnN0IFdsPXtzdGFydDp7bGluZToxLGNvbHVtbjoxLG9mZnNldDowfSxlbmQ6e2xpbmU6MSxjb2x1bW46MSxvZmZzZXQ6MH0sc291cmNlOiIifTtmdW5jdGlvbiBLbChlLHQsbixzLG8scixpLGw9ITEsYz0hMSxhPSExLHU9V2wpe3JldHVybiBlJiYobD8oZS5oZWxwZXIodWwpLGUuaGVscGVyKG5jKGUuaW5TU1IsYSkpKTplLmhlbHBlcih0YyhlLmluU1NSLGEpKSxpJiZlLmhlbHBlcih4bCkpLHt0eXBlOjEzLHRhZzp0LHByb3BzOm4sY2hpbGRyZW46cyxwYXRjaEZsYWc6byxkeW5hbWljUHJvcHM6cixkaXJlY3RpdmVzOmksaXNCbG9jazpsLGRpc2FibGVUcmFja2luZzpjLGlzQ29tcG9uZW50OmEsbG9jOnV9fWZ1bmN0aW9uIHpsKGUsdD1XbCl7cmV0dXJue3R5cGU6MTcsbG9jOnQsZWxlbWVudHM6ZX19ZnVuY3Rpb24gR2woZSx0PVdsKXtyZXR1cm57dHlwZToxNSxsb2M6dCxwcm9wZXJ0aWVzOmV9fWZ1bmN0aW9uIEpsKGUsdCl7cmV0dXJue3R5cGU6MTYsbG9jOldsLGtleTp2KGUpP1hsKGUsITApOmUsdmFsdWU6dH19ZnVuY3Rpb24gWGwoZSx0PSExLG49V2wscz0wKXtyZXR1cm57dHlwZTo0LGxvYzpuLGNvbnRlbnQ6ZSxpc1N0YXRpYzp0LGNvbnN0VHlwZTp0PzM6c319ZnVuY3Rpb24gUWwoZSx0PVdsKXtyZXR1cm57dHlwZTo4LGxvYzp0LGNoaWxkcmVuOmV9fWZ1bmN0aW9uIFpsKGUsdD1bXSxuPVdsKXtyZXR1cm57dHlwZToxNCxsb2M6bixjYWxsZWU6ZSxhcmd1bWVudHM6dH19ZnVuY3Rpb24gWWwoZSx0PXZvaWQgMCxuPSExLHM9ITEsbz1XbCl7cmV0dXJue3R5cGU6MTgscGFyYW1zOmUscmV0dXJuczp0LG5ld2xpbmU6bixpc1Nsb3Q6cyxsb2M6b319ZnVuY3Rpb24gZWMoZSx0LG4scz0hMCl7cmV0dXJue3R5cGU6MTksdGVzdDplLGNvbnNlcXVlbnQ6dCxhbHRlcm5hdGU6bixuZXdsaW5lOnMsbG9jOldsfX1mdW5jdGlvbiB0YyhlLHQpe3JldHVybiBlfHx0P2hsOmZsfWZ1bmN0aW9uIG5jKGUsdCl7cmV0dXJuIGV8fHQ/ZGw6cGx9ZnVuY3Rpb24gc2MoZSx7aGVscGVyOnQscmVtb3ZlSGVscGVyOm4saW5TU1I6c30pe2UuaXNCbG9ja3x8KGUuaXNCbG9jaz0hMCxuKHRjKHMsZS5pc0NvbXBvbmVudCkpLHQodWwpLHQobmMocyxlLmlzQ29tcG9uZW50KSkpfWNvbnN0IG9jPW5ldyBVaW50OEFycmF5KFsxMjMsMTIzXSkscmM9bmV3IFVpbnQ4QXJyYXkoWzEyNSwxMjVdKTtmdW5jdGlvbiBpYyhlKXtyZXR1cm4gZT49OTcmJmU8PTEyMnx8ZT49NjUmJmU8PTkwfWZ1bmN0aW9uIGxjKGUpe3JldHVybiAzMj09PWV8fDEwPT09ZXx8OT09PWV8fDEyPT09ZXx8MTM9PT1lfWZ1bmN0aW9uIGNjKGUpe3JldHVybiA0Nz09PWV8fDYyPT09ZXx8bGMoZSl9ZnVuY3Rpb24gYWMoZSl7Y29uc3QgdD1uZXcgVWludDhBcnJheShlLmxlbmd0aCk7Zm9yKGxldCBuPTA7bjxlLmxlbmd0aDtuKyspdFtuXT1lLmNoYXJDb2RlQXQobik7cmV0dXJuIHR9Y29uc3QgdWM9e0NkYXRhOm5ldyBVaW50OEFycmF5KFs2Nyw2OCw2NSw4NCw2NSw5MV0pLENkYXRhRW5kOm5ldyBVaW50OEFycmF5KFs5Myw5Myw2Ml0pLENvbW1lbnRFbmQ6bmV3IFVpbnQ4QXJyYXkoWzQ1LDQ1LDYyXSksU2NyaXB0RW5kOm5ldyBVaW50OEFycmF5KFs2MCw0NywxMTUsOTksMTE0LDEwNSwxMTIsMTE2XSksU3R5bGVFbmQ6bmV3IFVpbnQ4QXJyYXkoWzYwLDQ3LDExNSwxMTYsMTIxLDEwOCwxMDFdKSxUaXRsZUVuZDpuZXcgVWludDhBcnJheShbNjAsNDcsMTE2LDEwNSwxMTYsMTA4LDEwMV0pLFRleHRhcmVhRW5kOm5ldyBVaW50OEFycmF5KFs2MCw0NywxMTYsMTAxLDEyMCwxMTYsOTcsMTE0LDEwMSw5N10pfTtmdW5jdGlvbiBkYyhlKXt0aHJvdyBlfWZ1bmN0aW9uIHBjKGUpe31mdW5jdGlvbiBoYyhlLHQsbixzKXtjb25zdCBvPW5ldyBTeW50YXhFcnJvcihTdHJpbmcoYGh0dHBzOi8vdnVlanMub3JnL2Vycm9yLXJlZmVyZW5jZS8jY29tcGlsZXItJHtlfWApKTtyZXR1cm4gby5jb2RlPWUsby5sb2M9dCxvfWNvbnN0IGZjPWU9PjQ9PT1lLnR5cGUmJmUuaXNTdGF0aWM7ZnVuY3Rpb24gbWMoZSl7c3dpdGNoKGUpe2Nhc2UiVGVsZXBvcnQiOmNhc2UidGVsZXBvcnQiOnJldHVybiBpbDtjYXNlIlN1c3BlbnNlIjpjYXNlInN1c3BlbnNlIjpyZXR1cm4gbGw7Y2FzZSJLZWVwQWxpdmUiOmNhc2Uia2VlcC1hbGl2ZSI6cmV0dXJuIGNsO2Nhc2UiQmFzZVRyYW5zaXRpb24iOmNhc2UiYmFzZS10cmFuc2l0aW9uIjpyZXR1cm4gYWx9fWNvbnN0IGdjPS9eXGR8W15cJFx3XS8sdmM9ZT0+IWdjLnRlc3QoZSkseWM9L1tBLVphLXpfJFx4QTAtXHVGRkZGXS8sYmM9L1tcLlw/XHckXHhBMC1cdUZGRkZdLyxfYz0vXHMrWy5bXVxzKnxccypbLltdXHMrL2csU2M9ZT0+e2U9ZS50cmltKCkucmVwbGFjZShfYywoZT0+ZS50cmltKCkpKTtsZXQgdD0wLG49W10scz0wLG89MCxyPW51bGw7Zm9yKGxldCBpPTA7aTxlLmxlbmd0aDtpKyspe2NvbnN0IGw9ZS5jaGFyQXQoaSk7c3dpdGNoKHQpe2Nhc2UgMDppZigiWyI9PT1sKW4ucHVzaCh0KSx0PTEscysrO2Vsc2UgaWYoIigiPT09bCluLnB1c2godCksdD0yLG8rKztlbHNlIGlmKCEoMD09PWk/eWM6YmMpLnRlc3QobCkpcmV0dXJuITE7YnJlYWs7Y2FzZSAxOiInIj09PWx8fCciJz09PWx8fCJgIj09PWw/KG4ucHVzaCh0KSx0PTMscj1sKToiWyI9PT1sP3MrKzoiXSI9PT1sJiYoLS1zfHwodD1uLnBvcCgpKSk7YnJlYWs7Y2FzZSAyOmlmKCInIj09PWx8fCciJz09PWx8fCJgIj09PWwpbi5wdXNoKHQpLHQ9MyxyPWw7ZWxzZSBpZigiKCI9PT1sKW8rKztlbHNlIGlmKCIpIj09PWwpe2lmKGk9PT1lLmxlbmd0aC0xKXJldHVybiExOy0tb3x8KHQ9bi5wb3AoKSl9YnJlYWs7Y2FzZSAzOmw9PT1yJiYodD1uLnBvcCgpLHI9bnVsbCl9fXJldHVybiFzJiYhb307ZnVuY3Rpb24geGMoZSx0LG49ITEpe2ZvcihsZXQgcz0wO3M8ZS5wcm9wcy5sZW5ndGg7cysrKXtjb25zdCBvPWUucHJvcHNbc107aWYoNz09PW8udHlwZSYmKG58fG8uZXhwKSYmKHYodCk/by5uYW1lPT09dDp0LnRlc3Qoby5uYW1lKSkpcmV0dXJuIG99fWZ1bmN0aW9uIENjKGUsdCxuPSExLHM9ITEpe2ZvcihsZXQgbz0wO288ZS5wcm9wcy5sZW5ndGg7bysrKXtjb25zdCByPWUucHJvcHNbb107aWYoNj09PXIudHlwZSl7aWYobiljb250aW51ZTtpZihyLm5hbWU9PT10JiYoci52YWx1ZXx8cykpcmV0dXJuIHJ9ZWxzZSBpZigiYmluZCI9PT1yLm5hbWUmJihyLmV4cHx8cykmJmtjKHIuYXJnLHQpKXJldHVybiByfX1mdW5jdGlvbiBrYyhlLHQpe3JldHVybiEoIWV8fCFmYyhlKXx8ZS5jb250ZW50IT09dCl9ZnVuY3Rpb24gVGMoZSl7cmV0dXJuIDU9PT1lLnR5cGV8fDI9PT1lLnR5cGV9ZnVuY3Rpb24gd2MoZSl7cmV0dXJuIDc9PT1lLnR5cGUmJiJzbG90Ij09PWUubmFtZX1mdW5jdGlvbiBFYyhlKXtyZXR1cm4gMT09PWUudHlwZSYmMz09PWUudGFnVHlwZX1mdW5jdGlvbiBOYyhlKXtyZXR1cm4gMT09PWUudHlwZSYmMj09PWUudGFnVHlwZX1jb25zdCBBYz1uZXcgU2V0KFtJbCxSbF0pO2Z1bmN0aW9uIEljKGUsdD1bXSl7aWYoZSYmIXYoZSkmJjE0PT09ZS50eXBlKXtjb25zdCBuPWUuY2FsbGVlO2lmKCF2KG4pJiZBYy5oYXMobikpcmV0dXJuIEljKGUuYXJndW1lbnRzWzBdLHQuY29uY2F0KGUpKX1yZXR1cm5bZSx0XX1mdW5jdGlvbiBSYyhlLHQsbil7bGV0IHMsbyxyPTEzPT09ZS50eXBlP2UucHJvcHM6ZS5hcmd1bWVudHNbMl0saT1bXTtpZihyJiYhdihyKSYmMTQ9PT1yLnR5cGUpe2NvbnN0IGU9SWMocik7cj1lWzBdLGk9ZVsxXSxvPWlbaS5sZW5ndGgtMV19aWYobnVsbD09cnx8dihyKSlzPUdsKFt0XSk7ZWxzZSBpZigxND09PXIudHlwZSl7Y29uc3QgZT1yLmFyZ3VtZW50c1swXTt2KGUpfHwxNSE9PWUudHlwZT9yLmNhbGxlZT09PU9sP3M9Wmwobi5oZWxwZXIoRWwpLFtHbChbdF0pLHJdKTpyLmFyZ3VtZW50cy51bnNoaWZ0KEdsKFt0XSkpOk9jKHQsZSl8fGUucHJvcGVydGllcy51bnNoaWZ0KHQpLCFzJiYocz1yKX1lbHNlIDE1PT09ci50eXBlPyhPYyh0LHIpfHxyLnByb3BlcnRpZXMudW5zaGlmdCh0KSxzPXIpOihzPVpsKG4uaGVscGVyKEVsKSxbR2woW3RdKSxyXSksbyYmby5jYWxsZWU9PT1SbCYmKG89aVtpLmxlbmd0aC0yXSkpOzEzPT09ZS50eXBlP28/by5hcmd1bWVudHNbMF09czplLnByb3BzPXM6bz9vLmFyZ3VtZW50c1swXT1zOmUuYXJndW1lbnRzWzJdPXN9ZnVuY3Rpb24gT2MoZSx0KXtsZXQgbj0hMTtpZig0PT09ZS5rZXkudHlwZSl7Y29uc3Qgcz1lLmtleS5jb250ZW50O249dC5wcm9wZXJ0aWVzLnNvbWUoKGU9PjQ9PT1lLmtleS50eXBlJiZlLmtleS5jb250ZW50PT09cykpfXJldHVybiBufWZ1bmN0aW9uIExjKGUsdCl7cmV0dXJuYF8ke3R9XyR7ZS5yZXBsYWNlKC9bXlx3XS9nLCgodCxuKT0+Ii0iPT09dD8iXyI6ZS5jaGFyQ29kZUF0KG4pLnRvU3RyaW5nKCkpKX1gfWNvbnN0IEZjPS8oW1xzXFNdKj8pXHMrKD86aW58b2YpXHMrKFtcc1xTXSopLyxNYz17cGFyc2VNb2RlOiJiYXNlIixuczowLGRlbGltaXRlcnM6WyJ7eyIsIn19Il0sZ2V0TmFtZXNwYWNlOigpPT4wLGlzVm9pZFRhZzpyLGlzUHJlVGFnOnIsaXNDdXN0b21FbGVtZW50OnIsb25FcnJvcjpkYyxvbldhcm46cGMsY29tbWVudHM6ITEscHJlZml4SWRlbnRpZmllcnM6ITF9O2xldCBQYz1NYywkYz1udWxsLEJjPSIiLFZjPW51bGwsRGM9bnVsbCxVYz0iIixqYz0tMSxIYz0tMSxxYz0wLFdjPSExLEtjPW51bGw7Y29uc3QgemM9W10sR2M9bmV3IGNsYXNze2NvbnN0cnVjdG9yKGUsdCl7dGhpcy5zdGFjaz1lLHRoaXMuY2JzPXQsdGhpcy5zdGF0ZT0xLHRoaXMuYnVmZmVyPSIiLHRoaXMuc2VjdGlvblN0YXJ0PTAsdGhpcy5pbmRleD0wLHRoaXMuZW50aXR5U3RhcnQ9MCx0aGlzLmJhc2VTdGF0ZT0xLHRoaXMuaW5SQ0RBVEE9ITEsdGhpcy5pblhNTD0hMSx0aGlzLmluVlByZT0hMSx0aGlzLm5ld2xpbmVzPVtdLHRoaXMubW9kZT0wLHRoaXMuZGVsaW1pdGVyT3Blbj1vYyx0aGlzLmRlbGltaXRlckNsb3NlPXJjLHRoaXMuZGVsaW1pdGVySW5kZXg9LTEsdGhpcy5jdXJyZW50U2VxdWVuY2U9dm9pZCAwLHRoaXMuc2VxdWVuY2VJbmRleD0wfWdldCBpblNGQ1Jvb3QoKXtyZXR1cm4gMj09PXRoaXMubW9kZSYmMD09PXRoaXMuc3RhY2subGVuZ3RofXJlc2V0KCl7dGhpcy5zdGF0ZT0xLHRoaXMubW9kZT0wLHRoaXMuYnVmZmVyPSIiLHRoaXMuc2VjdGlvblN0YXJ0PTAsdGhpcy5pbmRleD0wLHRoaXMuYmFzZVN0YXRlPTEsdGhpcy5pblJDREFUQT0hMSx0aGlzLmN1cnJlbnRTZXF1ZW5jZT12b2lkIDAsdGhpcy5uZXdsaW5lcy5sZW5ndGg9MCx0aGlzLmRlbGltaXRlck9wZW49b2MsdGhpcy5kZWxpbWl0ZXJDbG9zZT1yY31nZXRQb3MoZSl7bGV0IHQ9MSxuPWUrMTtmb3IobGV0IHM9dGhpcy5uZXdsaW5lcy5sZW5ndGgtMTtzPj0wO3MtLSl7Y29uc3Qgbz10aGlzLm5ld2xpbmVzW3NdO2lmKGU+byl7dD1zKzIsbj1lLW87YnJlYWt9fXJldHVybntjb2x1bW46bixsaW5lOnQsb2Zmc2V0OmV9fXBlZWsoKXtyZXR1cm4gdGhpcy5idWZmZXIuY2hhckNvZGVBdCh0aGlzLmluZGV4KzEpfXN0YXRlVGV4dChlKXs2MD09PWU/KHRoaXMuaW5kZXg+dGhpcy5zZWN0aW9uU3RhcnQmJnRoaXMuY2JzLm9udGV4dCh0aGlzLnNlY3Rpb25TdGFydCx0aGlzLmluZGV4KSx0aGlzLnN0YXRlPTUsdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCk6dGhpcy5pblZQcmV8fGUhPT10aGlzLmRlbGltaXRlck9wZW5bMF18fCh0aGlzLnN0YXRlPTIsdGhpcy5kZWxpbWl0ZXJJbmRleD0wLHRoaXMuc3RhdGVJbnRlcnBvbGF0aW9uT3BlbihlKSl9c3RhdGVJbnRlcnBvbGF0aW9uT3BlbihlKXtpZihlPT09dGhpcy5kZWxpbWl0ZXJPcGVuW3RoaXMuZGVsaW1pdGVySW5kZXhdKWlmKHRoaXMuZGVsaW1pdGVySW5kZXg9PT10aGlzLmRlbGltaXRlck9wZW4ubGVuZ3RoLTEpe2NvbnN0IGU9dGhpcy5pbmRleCsxLXRoaXMuZGVsaW1pdGVyT3Blbi5sZW5ndGg7ZT50aGlzLnNlY3Rpb25TdGFydCYmdGhpcy5jYnMub250ZXh0KHRoaXMuc2VjdGlvblN0YXJ0LGUpLHRoaXMuc3RhdGU9Myx0aGlzLnNlY3Rpb25TdGFydD1lfWVsc2UgdGhpcy5kZWxpbWl0ZXJJbmRleCsrO2Vsc2UgdGhpcy5pblJDREFUQT8odGhpcy5zdGF0ZT0zMix0aGlzLnN0YXRlSW5SQ0RBVEEoZSkpOih0aGlzLnN0YXRlPTEsdGhpcy5zdGF0ZVRleHQoZSkpfXN0YXRlSW50ZXJwb2xhdGlvbihlKXtlPT09dGhpcy5kZWxpbWl0ZXJDbG9zZVswXSYmKHRoaXMuc3RhdGU9NCx0aGlzLmRlbGltaXRlckluZGV4PTAsdGhpcy5zdGF0ZUludGVycG9sYXRpb25DbG9zZShlKSl9c3RhdGVJbnRlcnBvbGF0aW9uQ2xvc2UoZSl7ZT09PXRoaXMuZGVsaW1pdGVyQ2xvc2VbdGhpcy5kZWxpbWl0ZXJJbmRleF0/dGhpcy5kZWxpbWl0ZXJJbmRleD09PXRoaXMuZGVsaW1pdGVyQ2xvc2UubGVuZ3RoLTE/KHRoaXMuY2JzLm9uaW50ZXJwb2xhdGlvbih0aGlzLnNlY3Rpb25TdGFydCx0aGlzLmluZGV4KzEpLHRoaXMuc3RhdGU9dGhpcy5pblJDREFUQT8zMjoxLHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgrMSk6dGhpcy5kZWxpbWl0ZXJJbmRleCsrOih0aGlzLnN0YXRlPTMsdGhpcy5zdGF0ZUludGVycG9sYXRpb24oZSkpfXN0YXRlU3BlY2lhbFN0YXJ0U2VxdWVuY2UoZSl7Y29uc3QgdD10aGlzLnNlcXVlbmNlSW5kZXg9PT10aGlzLmN1cnJlbnRTZXF1ZW5jZS5sZW5ndGg7aWYodD9jYyhlKTooMzJ8ZSk9PT10aGlzLmN1cnJlbnRTZXF1ZW5jZVt0aGlzLnNlcXVlbmNlSW5kZXhdKXtpZighdClyZXR1cm4gdm9pZCB0aGlzLnNlcXVlbmNlSW5kZXgrK31lbHNlIHRoaXMuaW5SQ0RBVEE9ITE7dGhpcy5zZXF1ZW5jZUluZGV4PTAsdGhpcy5zdGF0ZT02LHRoaXMuc3RhdGVJblRhZ05hbWUoZSl9c3RhdGVJblJDREFUQShlKXtpZih0aGlzLnNlcXVlbmNlSW5kZXg9PT10aGlzLmN1cnJlbnRTZXF1ZW5jZS5sZW5ndGgpe2lmKDYyPT09ZXx8bGMoZSkpe2NvbnN0IHQ9dGhpcy5pbmRleC10aGlzLmN1cnJlbnRTZXF1ZW5jZS5sZW5ndGg7aWYodGhpcy5zZWN0aW9uU3RhcnQ8dCl7Y29uc3QgZT10aGlzLmluZGV4O3RoaXMuaW5kZXg9dCx0aGlzLmNicy5vbnRleHQodGhpcy5zZWN0aW9uU3RhcnQsdCksdGhpcy5pbmRleD1lfXJldHVybiB0aGlzLnNlY3Rpb25TdGFydD10KzIsdGhpcy5zdGF0ZUluQ2xvc2luZ1RhZ05hbWUoZSksdm9pZCh0aGlzLmluUkNEQVRBPSExKX10aGlzLnNlcXVlbmNlSW5kZXg9MH0oMzJ8ZSk9PT10aGlzLmN1cnJlbnRTZXF1ZW5jZVt0aGlzLnNlcXVlbmNlSW5kZXhdP3RoaXMuc2VxdWVuY2VJbmRleCs9MTowPT09dGhpcy5zZXF1ZW5jZUluZGV4P3RoaXMuY3VycmVudFNlcXVlbmNlPT09dWMuVGl0bGVFbmR8fHRoaXMuY3VycmVudFNlcXVlbmNlPT09dWMuVGV4dGFyZWFFbmQmJiF0aGlzLmluU0ZDUm9vdD9lPT09dGhpcy5kZWxpbWl0ZXJPcGVuWzBdJiYodGhpcy5zdGF0ZT0yLHRoaXMuZGVsaW1pdGVySW5kZXg9MCx0aGlzLnN0YXRlSW50ZXJwb2xhdGlvbk9wZW4oZSkpOnRoaXMuZmFzdEZvcndhcmRUbyg2MCkmJih0aGlzLnNlcXVlbmNlSW5kZXg9MSk6dGhpcy5zZXF1ZW5jZUluZGV4PU51bWJlcig2MD09PWUpfXN0YXRlQ0RBVEFTZXF1ZW5jZShlKXtlPT09dWMuQ2RhdGFbdGhpcy5zZXF1ZW5jZUluZGV4XT8rK3RoaXMuc2VxdWVuY2VJbmRleD09PXVjLkNkYXRhLmxlbmd0aCYmKHRoaXMuc3RhdGU9MjgsdGhpcy5jdXJyZW50U2VxdWVuY2U9dWMuQ2RhdGFFbmQsdGhpcy5zZXF1ZW5jZUluZGV4PTAsdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCsxKToodGhpcy5zZXF1ZW5jZUluZGV4PTAsdGhpcy5zdGF0ZT0yMyx0aGlzLnN0YXRlSW5EZWNsYXJhdGlvbihlKSl9ZmFzdEZvcndhcmRUbyhlKXtmb3IoOysrdGhpcy5pbmRleDx0aGlzLmJ1ZmZlci5sZW5ndGg7KXtjb25zdCB0PXRoaXMuYnVmZmVyLmNoYXJDb2RlQXQodGhpcy5pbmRleCk7aWYoMTA9PT10JiZ0aGlzLm5ld2xpbmVzLnB1c2godGhpcy5pbmRleCksdD09PWUpcmV0dXJuITB9cmV0dXJuIHRoaXMuaW5kZXg9dGhpcy5idWZmZXIubGVuZ3RoLTEsITF9c3RhdGVJbkNvbW1lbnRMaWtlKGUpe2U9PT10aGlzLmN1cnJlbnRTZXF1ZW5jZVt0aGlzLnNlcXVlbmNlSW5kZXhdPysrdGhpcy5zZXF1ZW5jZUluZGV4PT09dGhpcy5jdXJyZW50U2VxdWVuY2UubGVuZ3RoJiYodGhpcy5jdXJyZW50U2VxdWVuY2U9PT11Yy5DZGF0YUVuZD90aGlzLmNicy5vbmNkYXRhKHRoaXMuc2VjdGlvblN0YXJ0LHRoaXMuaW5kZXgtMik6dGhpcy5jYnMub25jb21tZW50KHRoaXMuc2VjdGlvblN0YXJ0LHRoaXMuaW5kZXgtMiksdGhpcy5zZXF1ZW5jZUluZGV4PTAsdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCsxLHRoaXMuc3RhdGU9MSk6MD09PXRoaXMuc2VxdWVuY2VJbmRleD90aGlzLmZhc3RGb3J3YXJkVG8odGhpcy5jdXJyZW50U2VxdWVuY2VbMF0pJiYodGhpcy5zZXF1ZW5jZUluZGV4PTEpOmUhPT10aGlzLmN1cnJlbnRTZXF1ZW5jZVt0aGlzLnNlcXVlbmNlSW5kZXgtMV0mJih0aGlzLnNlcXVlbmNlSW5kZXg9MCl9c3RhcnRTcGVjaWFsKGUsdCl7dGhpcy5lbnRlclJDREFUQShlLHQpLHRoaXMuc3RhdGU9MzF9ZW50ZXJSQ0RBVEEoZSx0KXt0aGlzLmluUkNEQVRBPSEwLHRoaXMuY3VycmVudFNlcXVlbmNlPWUsdGhpcy5zZXF1ZW5jZUluZGV4PXR9c3RhdGVCZWZvcmVUYWdOYW1lKGUpezMzPT09ZT8odGhpcy5zdGF0ZT0yMix0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KzEpOjYzPT09ZT8odGhpcy5zdGF0ZT0yNCx0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KzEpOmljKGUpPyh0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4LHRoaXMuc3RhdGU9MD09PXRoaXMubW9kZT82OnRoaXMuaW5TRkNSb290PzM0OnRoaXMuaW5YTUw/NjoxMTY9PT1lPzMwOjExNT09PWU/Mjk6Nik6NDc9PT1lP3RoaXMuc3RhdGU9ODoodGhpcy5zdGF0ZT0xLHRoaXMuc3RhdGVUZXh0KGUpKX1zdGF0ZUluVGFnTmFtZShlKXtjYyhlKSYmdGhpcy5oYW5kbGVUYWdOYW1lKGUpfXN0YXRlSW5TRkNSb290VGFnTmFtZShlKXtpZihjYyhlKSl7Y29uc3QgdD10aGlzLmJ1ZmZlci5zbGljZSh0aGlzLnNlY3Rpb25TdGFydCx0aGlzLmluZGV4KTsidGVtcGxhdGUiIT09dCYmdGhpcy5lbnRlclJDREFUQShhYygiPC8iK3QpLDApLHRoaXMuaGFuZGxlVGFnTmFtZShlKX19aGFuZGxlVGFnTmFtZShlKXt0aGlzLmNicy5vbm9wZW50YWduYW1lKHRoaXMuc2VjdGlvblN0YXJ0LHRoaXMuaW5kZXgpLHRoaXMuc2VjdGlvblN0YXJ0PS0xLHRoaXMuc3RhdGU9MTEsdGhpcy5zdGF0ZUJlZm9yZUF0dHJOYW1lKGUpfXN0YXRlQmVmb3JlQ2xvc2luZ1RhZ05hbWUoZSl7bGMoZSl8fCg2Mj09PWU/KHRoaXMuc3RhdGU9MSx0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KzEpOih0aGlzLnN0YXRlPWljKGUpPzk6MjcsdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCkpfXN0YXRlSW5DbG9zaW5nVGFnTmFtZShlKXsoNjI9PT1lfHxsYyhlKSkmJih0aGlzLmNicy5vbmNsb3NldGFnKHRoaXMuc2VjdGlvblN0YXJ0LHRoaXMuaW5kZXgpLHRoaXMuc2VjdGlvblN0YXJ0PS0xLHRoaXMuc3RhdGU9MTAsdGhpcy5zdGF0ZUFmdGVyQ2xvc2luZ1RhZ05hbWUoZSkpfXN0YXRlQWZ0ZXJDbG9zaW5nVGFnTmFtZShlKXs2Mj09PWUmJih0aGlzLnN0YXRlPTEsdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCsxKX1zdGF0ZUJlZm9yZUF0dHJOYW1lKGUpezYyPT09ZT8odGhpcy5jYnMub25vcGVudGFnZW5kKHRoaXMuaW5kZXgpLHRoaXMuc3RhdGU9dGhpcy5pblJDREFUQT8zMjoxLHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgrMSk6NDc9PT1lP3RoaXMuc3RhdGU9Nzo2MD09PWUmJjQ3PT09dGhpcy5wZWVrKCk/KHRoaXMuY2JzLm9ub3BlbnRhZ2VuZCh0aGlzLmluZGV4KSx0aGlzLnN0YXRlPTUsdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCk6bGMoZSl8fHRoaXMuaGFuZGxlQXR0clN0YXJ0KGUpfWhhbmRsZUF0dHJTdGFydChlKXsxMTg9PT1lJiY0NT09PXRoaXMucGVlaygpPyh0aGlzLnN0YXRlPTEzLHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgpOjQ2PT09ZXx8NTg9PT1lfHw2ND09PWV8fDM1PT09ZT8odGhpcy5jYnMub25kaXJuYW1lKHRoaXMuaW5kZXgsdGhpcy5pbmRleCsxKSx0aGlzLnN0YXRlPTE0LHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgrMSk6KHRoaXMuc3RhdGU9MTIsdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCl9c3RhdGVJblNlbGZDbG9zaW5nVGFnKGUpezYyPT09ZT8odGhpcy5jYnMub25zZWxmY2xvc2luZ3RhZyh0aGlzLmluZGV4KSx0aGlzLnN0YXRlPTEsdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCsxLHRoaXMuaW5SQ0RBVEE9ITEpOmxjKGUpfHwodGhpcy5zdGF0ZT0xMSx0aGlzLnN0YXRlQmVmb3JlQXR0ck5hbWUoZSkpfXN0YXRlSW5BdHRyTmFtZShlKXsoNjE9PT1lfHxjYyhlKSkmJih0aGlzLmNicy5vbmF0dHJpYm5hbWUodGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCksdGhpcy5oYW5kbGVBdHRyTmFtZUVuZChlKSl9c3RhdGVJbkRpck5hbWUoZSl7NjE9PT1lfHxjYyhlKT8odGhpcy5jYnMub25kaXJuYW1lKHRoaXMuc2VjdGlvblN0YXJ0LHRoaXMuaW5kZXgpLHRoaXMuaGFuZGxlQXR0ck5hbWVFbmQoZSkpOjU4PT09ZT8odGhpcy5jYnMub25kaXJuYW1lKHRoaXMuc2VjdGlvblN0YXJ0LHRoaXMuaW5kZXgpLHRoaXMuc3RhdGU9MTQsdGhpcy5zZWN0aW9uU3RhcnQ9dGhpcy5pbmRleCsxKTo0Nj09PWUmJih0aGlzLmNicy5vbmRpcm5hbWUodGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCksdGhpcy5zdGF0ZT0xNix0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KzEpfXN0YXRlSW5EaXJBcmcoZSl7NjE9PT1lfHxjYyhlKT8odGhpcy5jYnMub25kaXJhcmcodGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCksdGhpcy5oYW5kbGVBdHRyTmFtZUVuZChlKSk6OTE9PT1lP3RoaXMuc3RhdGU9MTU6NDY9PT1lJiYodGhpcy5jYnMub25kaXJhcmcodGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCksdGhpcy5zdGF0ZT0xNix0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KzEpfXN0YXRlSW5EeW5hbWljRGlyQXJnKGUpezkzPT09ZT90aGlzLnN0YXRlPTE0Oig2MT09PWV8fGNjKGUpKSYmKHRoaXMuY2JzLm9uZGlyYXJnKHRoaXMuc2VjdGlvblN0YXJ0LHRoaXMuaW5kZXgrMSksdGhpcy5oYW5kbGVBdHRyTmFtZUVuZChlKSl9c3RhdGVJbkRpck1vZGlmaWVyKGUpezYxPT09ZXx8Y2MoZSk/KHRoaXMuY2JzLm9uZGlybW9kaWZpZXIodGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCksdGhpcy5oYW5kbGVBdHRyTmFtZUVuZChlKSk6NDY9PT1lJiYodGhpcy5jYnMub25kaXJtb2RpZmllcih0aGlzLnNlY3Rpb25TdGFydCx0aGlzLmluZGV4KSx0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KzEpfWhhbmRsZUF0dHJOYW1lRW5kKGUpe3RoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgsdGhpcy5zdGF0ZT0xNyx0aGlzLmNicy5vbmF0dHJpYm5hbWVlbmQodGhpcy5pbmRleCksdGhpcy5zdGF0ZUFmdGVyQXR0ck5hbWUoZSl9c3RhdGVBZnRlckF0dHJOYW1lKGUpezYxPT09ZT90aGlzLnN0YXRlPTE4OjQ3PT09ZXx8NjI9PT1lPyh0aGlzLmNicy5vbmF0dHJpYmVuZCgwLHRoaXMuc2VjdGlvblN0YXJ0KSx0aGlzLnNlY3Rpb25TdGFydD0tMSx0aGlzLnN0YXRlPTExLHRoaXMuc3RhdGVCZWZvcmVBdHRyTmFtZShlKSk6bGMoZSl8fCh0aGlzLmNicy5vbmF0dHJpYmVuZCgwLHRoaXMuc2VjdGlvblN0YXJ0KSx0aGlzLmhhbmRsZUF0dHJTdGFydChlKSl9c3RhdGVCZWZvcmVBdHRyVmFsdWUoZSl7MzQ9PT1lPyh0aGlzLnN0YXRlPTE5LHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgrMSk6Mzk9PT1lPyh0aGlzLnN0YXRlPTIwLHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgrMSk6bGMoZSl8fCh0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4LHRoaXMuc3RhdGU9MjEsdGhpcy5zdGF0ZUluQXR0clZhbHVlTm9RdW90ZXMoZSkpfWhhbmRsZUluQXR0clZhbHVlKGUsdCl7KGU9PT10fHx0aGlzLmZhc3RGb3J3YXJkVG8odCkpJiYodGhpcy5jYnMub25hdHRyaWJkYXRhKHRoaXMuc2VjdGlvblN0YXJ0LHRoaXMuaW5kZXgpLHRoaXMuc2VjdGlvblN0YXJ0PS0xLHRoaXMuY2JzLm9uYXR0cmliZW5kKDM0PT09dD8zOjIsdGhpcy5pbmRleCsxKSx0aGlzLnN0YXRlPTExKX1zdGF0ZUluQXR0clZhbHVlRG91YmxlUXVvdGVzKGUpe3RoaXMuaGFuZGxlSW5BdHRyVmFsdWUoZSwzNCl9c3RhdGVJbkF0dHJWYWx1ZVNpbmdsZVF1b3RlcyhlKXt0aGlzLmhhbmRsZUluQXR0clZhbHVlKGUsMzkpfXN0YXRlSW5BdHRyVmFsdWVOb1F1b3RlcyhlKXtsYyhlKXx8NjI9PT1lPyh0aGlzLmNicy5vbmF0dHJpYmRhdGEodGhpcy5zZWN0aW9uU3RhcnQsdGhpcy5pbmRleCksdGhpcy5zZWN0aW9uU3RhcnQ9LTEsdGhpcy5jYnMub25hdHRyaWJlbmQoMSx0aGlzLmluZGV4KSx0aGlzLnN0YXRlPTExLHRoaXMuc3RhdGVCZWZvcmVBdHRyTmFtZShlKSk6MzkhPT1lJiY2MCE9PWUmJjYxIT09ZSYmOTYhPT1lfHx0aGlzLmNicy5vbmVycigxOCx0aGlzLmluZGV4KX1zdGF0ZUJlZm9yZURlY2xhcmF0aW9uKGUpezkxPT09ZT8odGhpcy5zdGF0ZT0yNix0aGlzLnNlcXVlbmNlSW5kZXg9MCk6dGhpcy5zdGF0ZT00NT09PWU/MjU6MjN9c3RhdGVJbkRlY2xhcmF0aW9uKGUpeyg2Mj09PWV8fHRoaXMuZmFzdEZvcndhcmRUbyg2MikpJiYodGhpcy5zdGF0ZT0xLHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgrMSl9c3RhdGVJblByb2Nlc3NpbmdJbnN0cnVjdGlvbihlKXsoNjI9PT1lfHx0aGlzLmZhc3RGb3J3YXJkVG8oNjIpKSYmKHRoaXMuY2JzLm9ucHJvY2Vzc2luZ2luc3RydWN0aW9uKHRoaXMuc2VjdGlvblN0YXJ0LHRoaXMuaW5kZXgpLHRoaXMuc3RhdGU9MSx0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KzEpfXN0YXRlQmVmb3JlQ29tbWVudChlKXs0NT09PWU/KHRoaXMuc3RhdGU9MjgsdGhpcy5jdXJyZW50U2VxdWVuY2U9dWMuQ29tbWVudEVuZCx0aGlzLnNlcXVlbmNlSW5kZXg9Mix0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KzEpOnRoaXMuc3RhdGU9MjN9c3RhdGVJblNwZWNpYWxDb21tZW50KGUpeyg2Mj09PWV8fHRoaXMuZmFzdEZvcndhcmRUbyg2MikpJiYodGhpcy5jYnMub25jb21tZW50KHRoaXMuc2VjdGlvblN0YXJ0LHRoaXMuaW5kZXgpLHRoaXMuc3RhdGU9MSx0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KzEpfXN0YXRlQmVmb3JlU3BlY2lhbFMoZSl7ZT09PXVjLlNjcmlwdEVuZFszXT90aGlzLnN0YXJ0U3BlY2lhbCh1Yy5TY3JpcHRFbmQsNCk6ZT09PXVjLlN0eWxlRW5kWzNdP3RoaXMuc3RhcnRTcGVjaWFsKHVjLlN0eWxlRW5kLDQpOih0aGlzLnN0YXRlPTYsdGhpcy5zdGF0ZUluVGFnTmFtZShlKSl9c3RhdGVCZWZvcmVTcGVjaWFsVChlKXtlPT09dWMuVGl0bGVFbmRbM10/dGhpcy5zdGFydFNwZWNpYWwodWMuVGl0bGVFbmQsNCk6ZT09PXVjLlRleHRhcmVhRW5kWzNdP3RoaXMuc3RhcnRTcGVjaWFsKHVjLlRleHRhcmVhRW5kLDQpOih0aGlzLnN0YXRlPTYsdGhpcy5zdGF0ZUluVGFnTmFtZShlKSl9c3RhcnRFbnRpdHkoKXt9c3RhdGVJbkVudGl0eSgpe31wYXJzZShlKXtmb3IodGhpcy5idWZmZXI9ZTt0aGlzLmluZGV4PHRoaXMuYnVmZmVyLmxlbmd0aDspe2NvbnN0IGU9dGhpcy5idWZmZXIuY2hhckNvZGVBdCh0aGlzLmluZGV4KTtzd2l0Y2goMTA9PT1lJiZ0aGlzLm5ld2xpbmVzLnB1c2godGhpcy5pbmRleCksdGhpcy5zdGF0ZSl7Y2FzZSAxOnRoaXMuc3RhdGVUZXh0KGUpO2JyZWFrO2Nhc2UgMjp0aGlzLnN0YXRlSW50ZXJwb2xhdGlvbk9wZW4oZSk7YnJlYWs7Y2FzZSAzOnRoaXMuc3RhdGVJbnRlcnBvbGF0aW9uKGUpO2JyZWFrO2Nhc2UgNDp0aGlzLnN0YXRlSW50ZXJwb2xhdGlvbkNsb3NlKGUpO2JyZWFrO2Nhc2UgMzE6dGhpcy5zdGF0ZVNwZWNpYWxTdGFydFNlcXVlbmNlKGUpO2JyZWFrO2Nhc2UgMzI6dGhpcy5zdGF0ZUluUkNEQVRBKGUpO2JyZWFrO2Nhc2UgMjY6dGhpcy5zdGF0ZUNEQVRBU2VxdWVuY2UoZSk7YnJlYWs7Y2FzZSAxOTp0aGlzLnN0YXRlSW5BdHRyVmFsdWVEb3VibGVRdW90ZXMoZSk7YnJlYWs7Y2FzZSAxMjp0aGlzLnN0YXRlSW5BdHRyTmFtZShlKTticmVhaztjYXNlIDEzOnRoaXMuc3RhdGVJbkRpck5hbWUoZSk7YnJlYWs7Y2FzZSAxNDp0aGlzLnN0YXRlSW5EaXJBcmcoZSk7YnJlYWs7Y2FzZSAxNTp0aGlzLnN0YXRlSW5EeW5hbWljRGlyQXJnKGUpO2JyZWFrO2Nhc2UgMTY6dGhpcy5zdGF0ZUluRGlyTW9kaWZpZXIoZSk7YnJlYWs7Y2FzZSAyODp0aGlzLnN0YXRlSW5Db21tZW50TGlrZShlKTticmVhaztjYXNlIDI3OnRoaXMuc3RhdGVJblNwZWNpYWxDb21tZW50KGUpO2JyZWFrO2Nhc2UgMTE6dGhpcy5zdGF0ZUJlZm9yZUF0dHJOYW1lKGUpO2JyZWFrO2Nhc2UgNjp0aGlzLnN0YXRlSW5UYWdOYW1lKGUpO2JyZWFrO2Nhc2UgMzQ6dGhpcy5zdGF0ZUluU0ZDUm9vdFRhZ05hbWUoZSk7YnJlYWs7Y2FzZSA5OnRoaXMuc3RhdGVJbkNsb3NpbmdUYWdOYW1lKGUpO2JyZWFrO2Nhc2UgNTp0aGlzLnN0YXRlQmVmb3JlVGFnTmFtZShlKTticmVhaztjYXNlIDE3OnRoaXMuc3RhdGVBZnRlckF0dHJOYW1lKGUpO2JyZWFrO2Nhc2UgMjA6dGhpcy5zdGF0ZUluQXR0clZhbHVlU2luZ2xlUXVvdGVzKGUpO2JyZWFrO2Nhc2UgMTg6dGhpcy5zdGF0ZUJlZm9yZUF0dHJWYWx1ZShlKTticmVhaztjYXNlIDg6dGhpcy5zdGF0ZUJlZm9yZUNsb3NpbmdUYWdOYW1lKGUpO2JyZWFrO2Nhc2UgMTA6dGhpcy5zdGF0ZUFmdGVyQ2xvc2luZ1RhZ05hbWUoZSk7YnJlYWs7Y2FzZSAyOTp0aGlzLnN0YXRlQmVmb3JlU3BlY2lhbFMoZSk7YnJlYWs7Y2FzZSAzMDp0aGlzLnN0YXRlQmVmb3JlU3BlY2lhbFQoZSk7YnJlYWs7Y2FzZSAyMTp0aGlzLnN0YXRlSW5BdHRyVmFsdWVOb1F1b3RlcyhlKTticmVhaztjYXNlIDc6dGhpcy5zdGF0ZUluU2VsZkNsb3NpbmdUYWcoZSk7YnJlYWs7Y2FzZSAyMzp0aGlzLnN0YXRlSW5EZWNsYXJhdGlvbihlKTticmVhaztjYXNlIDIyOnRoaXMuc3RhdGVCZWZvcmVEZWNsYXJhdGlvbihlKTticmVhaztjYXNlIDI1OnRoaXMuc3RhdGVCZWZvcmVDb21tZW50KGUpO2JyZWFrO2Nhc2UgMjQ6dGhpcy5zdGF0ZUluUHJvY2Vzc2luZ0luc3RydWN0aW9uKGUpO2JyZWFrO2Nhc2UgMzM6dGhpcy5zdGF0ZUluRW50aXR5KCl9dGhpcy5pbmRleCsrfXRoaXMuY2xlYW51cCgpLHRoaXMuZmluaXNoKCl9Y2xlYW51cCgpe3RoaXMuc2VjdGlvblN0YXJ0IT09dGhpcy5pbmRleCYmKDE9PT10aGlzLnN0YXRlfHwzMj09PXRoaXMuc3RhdGUmJjA9PT10aGlzLnNlcXVlbmNlSW5kZXg/KHRoaXMuY2JzLm9udGV4dCh0aGlzLnNlY3Rpb25TdGFydCx0aGlzLmluZGV4KSx0aGlzLnNlY3Rpb25TdGFydD10aGlzLmluZGV4KToxOSE9PXRoaXMuc3RhdGUmJjIwIT09dGhpcy5zdGF0ZSYmMjEhPT10aGlzLnN0YXRlfHwodGhpcy5jYnMub25hdHRyaWJkYXRhKHRoaXMuc2VjdGlvblN0YXJ0LHRoaXMuaW5kZXgpLHRoaXMuc2VjdGlvblN0YXJ0PXRoaXMuaW5kZXgpKX1maW5pc2goKXt0aGlzLmhhbmRsZVRyYWlsaW5nRGF0YSgpLHRoaXMuY2JzLm9uZW5kKCl9aGFuZGxlVHJhaWxpbmdEYXRhKCl7Y29uc3QgZT10aGlzLmJ1ZmZlci5sZW5ndGg7dGhpcy5zZWN0aW9uU3RhcnQ+PWV8fCgyOD09PXRoaXMuc3RhdGU/dGhpcy5jdXJyZW50U2VxdWVuY2U9PT11Yy5DZGF0YUVuZD90aGlzLmNicy5vbmNkYXRhKHRoaXMuc2VjdGlvblN0YXJ0LGUpOnRoaXMuY2JzLm9uY29tbWVudCh0aGlzLnNlY3Rpb25TdGFydCxlKTo2PT09dGhpcy5zdGF0ZXx8MTE9PT10aGlzLnN0YXRlfHwxOD09PXRoaXMuc3RhdGV8fDE3PT09dGhpcy5zdGF0ZXx8MTI9PT10aGlzLnN0YXRlfHwxMz09PXRoaXMuc3RhdGV8fDE0PT09dGhpcy5zdGF0ZXx8MTU9PT10aGlzLnN0YXRlfHwxNj09PXRoaXMuc3RhdGV8fDIwPT09dGhpcy5zdGF0ZXx8MTk9PT10aGlzLnN0YXRlfHwyMT09PXRoaXMuc3RhdGV8fDk9PT10aGlzLnN0YXRlfHx0aGlzLmNicy5vbnRleHQodGhpcy5zZWN0aW9uU3RhcnQsZSkpfWVtaXRDb2RlUG9pbnQoZSx0KXt9fSh6Yyx7b25lcnI6aGEsb250ZXh0KGUsdCl7WWMoUWMoZSx0KSxlLHQpfSxvbnRleHRlbnRpdHkoZSx0LG4pe1ljKGUsdCxuKX0sb25pbnRlcnBvbGF0aW9uKGUsdCl7aWYoV2MpcmV0dXJuIFljKFFjKGUsdCksZSx0KTtsZXQgbj1lK0djLmRlbGltaXRlck9wZW4ubGVuZ3RoLHM9dC1HYy5kZWxpbWl0ZXJDbG9zZS5sZW5ndGg7Zm9yKDtsYyhCYy5jaGFyQ29kZUF0KG4pKTspbisrO2Zvcig7bGMoQmMuY2hhckNvZGVBdChzLTEpKTspcy0tO2xldCBvPVFjKG4scyk7by5pbmNsdWRlcygiJiIpJiYobz1QYy5kZWNvZGVFbnRpdGllcyhvLCExKSksY2Eoe3R5cGU6NSxjb250ZW50OnBhKG8sITEsYWEobixzKSksbG9jOmFhKGUsdCl9KX0sb25vcGVudGFnbmFtZShlLHQpe2NvbnN0IG49UWMoZSx0KTtWYz17dHlwZToxLHRhZzpuLG5zOlBjLmdldE5hbWVzcGFjZShuLHpjWzBdLFBjLm5zKSx0YWdUeXBlOjAscHJvcHM6W10sY2hpbGRyZW46W10sbG9jOmFhKGUtMSx0KSxjb2RlZ2VuTm9kZTp2b2lkIDB9fSxvbm9wZW50YWdlbmQoZSl7WmMoZSl9LG9uY2xvc2V0YWcoZSx0KXtjb25zdCBuPVFjKGUsdCk7aWYoIVBjLmlzVm9pZFRhZyhuKSl7bGV0IHM9ITE7Zm9yKGxldCBlPTA7ZTx6Yy5sZW5ndGg7ZSsrKXtpZih6Y1tlXS50YWcudG9Mb3dlckNhc2UoKT09PW4udG9Mb3dlckNhc2UoKSl7cz0hMDtmb3IobGV0IG49MDtuPD1lO24rKyl7ZWEoemMuc2hpZnQoKSx0LG48ZSl9YnJlYWt9fXN8fHRhKGUsNjApfX0sb25zZWxmY2xvc2luZ3RhZyhlKXt2YXIgdDtjb25zdCBuPVZjLnRhZztWYy5pc1NlbGZDbG9zaW5nPSEwLFpjKGUpLChudWxsPT0odD16Y1swXSk/dm9pZCAwOnQudGFnKT09PW4mJmVhKHpjLnNoaWZ0KCksZSl9LG9uYXR0cmlibmFtZShlLHQpe0RjPXt0eXBlOjYsbmFtZTpRYyhlLHQpLG5hbWVMb2M6YWEoZSx0KSx2YWx1ZTp2b2lkIDAsbG9jOmFhKGUpfX0sb25kaXJuYW1lKGUsdCl7Y29uc3Qgbj1RYyhlLHQpLHM9Ii4iPT09bnx8IjoiPT09bj8iYmluZCI6IkAiPT09bj8ib24iOiIjIj09PW4/InNsb3QiOm4uc2xpY2UoMik7aWYoV2N8fCIiPT09cylEYz17dHlwZTo2LG5hbWU6bixuYW1lTG9jOmFhKGUsdCksdmFsdWU6dm9pZCAwLGxvYzphYShlKX07ZWxzZSBpZihEYz17dHlwZTo3LG5hbWU6cyxyYXdOYW1lOm4sZXhwOnZvaWQgMCxhcmc6dm9pZCAwLG1vZGlmaWVyczoiLiI9PT1uP1sicHJvcCJdOltdLGxvYzphYShlKX0sInByZSI9PT1zKXtXYz1HYy5pblZQcmU9ITAsS2M9VmM7Y29uc3QgZT1WYy5wcm9wcztmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyk3PT09ZVt0XS50eXBlJiYoZVt0XT1kYShlW3RdKSl9fSxvbmRpcmFyZyhlLHQpe2lmKGU9PT10KXJldHVybjtjb25zdCBuPVFjKGUsdCk7aWYoV2MpRGMubmFtZSs9bix1YShEYy5uYW1lTG9jLHQpO2Vsc2V7Y29uc3Qgcz0iWyIhPT1uWzBdO0RjLmFyZz1wYShzP246bi5zbGljZSgxLC0xKSxzLGFhKGUsdCkscz8zOjApfX0sb25kaXJtb2RpZmllcihlLHQpe2NvbnN0IG49UWMoZSx0KTtpZihXYylEYy5uYW1lKz0iLiIrbix1YShEYy5uYW1lTG9jLHQpO2Vsc2UgaWYoInNsb3QiPT09RGMubmFtZSl7Y29uc3QgZT1EYy5hcmc7ZSYmKGUuY29udGVudCs9Ii4iK24sdWEoZS5sb2MsdCkpfWVsc2UgRGMubW9kaWZpZXJzLnB1c2gobil9LG9uYXR0cmliZGF0YShlLHQpe1VjKz1RYyhlLHQpLGpjPDAmJihqYz1lKSxIYz10fSxvbmF0dHJpYmVudGl0eShlLHQsbil7VWMrPWUsamM8MCYmKGpjPXQpLEhjPW59LG9uYXR0cmlibmFtZWVuZChlKXtjb25zdCB0PVFjKERjLmxvYy5zdGFydC5vZmZzZXQsZSk7Nz09PURjLnR5cGUmJihEYy5yYXdOYW1lPXQpLFZjLnByb3BzLnNvbWUoKGU9Pig3PT09ZS50eXBlP2UucmF3TmFtZTplLm5hbWUpPT09dCkpfSxvbmF0dHJpYmVuZChlLHQpe2lmKFZjJiZEYyl7aWYodWEoRGMubG9jLHQpLDAhPT1lKWlmKFVjLmluY2x1ZGVzKCImIikmJihVYz1QYy5kZWNvZGVFbnRpdGllcyhVYywhMCkpLDY9PT1EYy50eXBlKSJjbGFzcyI9PT1EYy5uYW1lJiYoVWM9bGEoVWMpLnRyaW0oKSksRGMudmFsdWU9e3R5cGU6Mixjb250ZW50OlVjLGxvYzoxPT09ZT9hYShqYyxIYyk6YWEoamMtMSxIYysxKX0sR2MuaW5TRkNSb290JiYidGVtcGxhdGUiPT09VmMudGFnJiYibGFuZyI9PT1EYy5uYW1lJiZVYyYmImh0bWwiIT09VWMmJkdjLmVudGVyUkNEQVRBKGFjKCI8L3RlbXBsYXRlIiksMCk7ZWxzZXtsZXQgZT0wO0RjLmV4cD1wYShVYywhMSxhYShqYyxIYyksMCxlKSwiZm9yIj09PURjLm5hbWUmJihEYy5mb3JQYXJzZVJlc3VsdD1mdW5jdGlvbihlKXtjb25zdCB0PWUubG9jLG49ZS5jb250ZW50LHM9bi5tYXRjaChGYyk7aWYoIXMpcmV0dXJuO2NvbnN0WyxvLHJdPXMsaT0oZSxuLHM9ITEpPT57Y29uc3Qgbz10LnN0YXJ0Lm9mZnNldCtuO3JldHVybiBwYShlLCExLGFhKG8sbytlLmxlbmd0aCksMCxzPzE6MCl9LGw9e3NvdXJjZTppKHIudHJpbSgpLG4uaW5kZXhPZihyLG8ubGVuZ3RoKSksdmFsdWU6dm9pZCAwLGtleTp2b2lkIDAsaW5kZXg6dm9pZCAwLGZpbmFsaXplZDohMX07bGV0IGM9by50cmltKCkucmVwbGFjZShYYywiIikudHJpbSgpO2NvbnN0IGE9by5pbmRleE9mKGMpLHU9Yy5tYXRjaChKYyk7aWYodSl7Yz1jLnJlcGxhY2UoSmMsIiIpLnRyaW0oKTtjb25zdCBlPXVbMV0udHJpbSgpO2xldCB0O2lmKGUmJih0PW4uaW5kZXhPZihlLGErYy5sZW5ndGgpLGwua2V5PWkoZSx0LCEwKSksdVsyXSl7Y29uc3Qgcz11WzJdLnRyaW0oKTtzJiYobC5pbmRleD1pKHMsbi5pbmRleE9mKHMsbC5rZXk/dCtlLmxlbmd0aDphK2MubGVuZ3RoKSwhMCkpfX1jJiYobC52YWx1ZT1pKGMsYSwhMCkpO3JldHVybiBsfShEYy5leHApKX03PT09RGMudHlwZSYmInByZSI9PT1EYy5uYW1lfHxWYy5wcm9wcy5wdXNoKERjKX1VYz0iIixqYz1IYz0tMX0sb25jb21tZW50KGUsdCl7UGMuY29tbWVudHMmJmNhKHt0eXBlOjMsY29udGVudDpRYyhlLHQpLGxvYzphYShlLTQsdCszKX0pfSxvbmVuZCgpe2NvbnN0IGU9QmMubGVuZ3RoO2ZvcihsZXQgdD0wO3Q8emMubGVuZ3RoO3QrKyllYSh6Y1t0XSxlLTEpfSxvbmNkYXRhKGUsdCl7MCE9PXpjWzBdLm5zJiZZYyhRYyhlLHQpLGUsdCl9LG9ucHJvY2Vzc2luZ2luc3RydWN0aW9uKGUpezA9PT0oemNbMF0/emNbMF0ubnM6UGMubnMpJiZoYSgyMSxlLTEpfX0pLEpjPS8sKFteLFx9XF1dKikoPzosKFteLFx9XF1dKikpPyQvLFhjPS9eXCh8XCkkL2c7ZnVuY3Rpb24gUWMoZSx0KXtyZXR1cm4gQmMuc2xpY2UoZSx0KX1mdW5jdGlvbiBaYyhlKXtHYy5pblNGQ1Jvb3QmJihWYy5pbm5lckxvYz1hYShlKzEsZSsxKSksY2EoVmMpO2NvbnN0e3RhZzp0LG5zOm59PVZjOzA9PT1uJiZQYy5pc1ByZVRhZyh0KSYmcWMrKyxQYy5pc1ZvaWRUYWcodCk/ZWEoVmMsZSk6KHpjLnVuc2hpZnQoVmMpLDEhPT1uJiYyIT09bnx8KEdjLmluWE1MPSEwKSksVmM9bnVsbH1mdW5jdGlvbiBZYyhlLHQsbil7dmFyIHM7e2NvbnN0IHQ9bnVsbD09KHM9emNbMF0pP3ZvaWQgMDpzLnRhZzsic2NyaXB0IiE9PXQmJiJzdHlsZSIhPT10JiZlLmluY2x1ZGVzKCImIikmJihlPVBjLmRlY29kZUVudGl0aWVzKGUsITEpKX1jb25zdCBvPXpjWzBdfHwkYyxyPW8uY2hpbGRyZW5bby5jaGlsZHJlbi5sZW5ndGgtMV07Mj09PShudWxsPT1yP3ZvaWQgMDpyLnR5cGUpPyhyLmNvbnRlbnQrPWUsdWEoci5sb2MsbikpOm8uY2hpbGRyZW4ucHVzaCh7dHlwZToyLGNvbnRlbnQ6ZSxsb2M6YWEodCxuKX0pfWZ1bmN0aW9uIGVhKGUsdCxuPSExKXt1YShlLmxvYyxuP3RhKHQsNjApOnQrMSksR2MuaW5TRkNSb290JiYoZS5pbm5lckxvYy5lbmQ9Yyh7fSxlLmNoaWxkcmVuLmxlbmd0aD9lLmNoaWxkcmVuW2UuY2hpbGRyZW4ubGVuZ3RoLTFdLmxvYy5lbmQ6ZS5pbm5lckxvYy5zdGFydCksZS5pbm5lckxvYy5zb3VyY2U9UWMoZS5pbm5lckxvYy5zdGFydC5vZmZzZXQsZS5pbm5lckxvYy5lbmQub2Zmc2V0KSk7Y29uc3R7dGFnOnMsbnM6b309ZTtXY3x8KCJzbG90Ij09PXM/ZS50YWdUeXBlPTI6IWZ1bmN0aW9uKHt0YWc6ZSxwcm9wczp0fSl7aWYoInRlbXBsYXRlIj09PWUpZm9yKGxldCBuPTA7bjx0Lmxlbmd0aDtuKyspaWYoNz09PXRbbl0udHlwZSYmbmEuaGFzKHRbbl0ubmFtZSkpcmV0dXJuITA7cmV0dXJuITF9KGUpP2Z1bmN0aW9uKHt0YWc6ZSxwcm9wczp0fSl7dmFyIG47aWYoUGMuaXNDdXN0b21FbGVtZW50KGUpKXJldHVybiExO2lmKCJjb21wb25lbnQiPT09ZXx8KHM9ZS5jaGFyQ29kZUF0KDApLHM+NjQmJnM8OTEpfHxtYyhlKXx8KG51bGw9PShuPVBjLmlzQnVpbHRJbkNvbXBvbmVudCk/dm9pZCAwOm4uY2FsbChQYyxlKSl8fFBjLmlzTmF0aXZlVGFnJiYhUGMuaXNOYXRpdmVUYWcoZSkpcmV0dXJuITA7dmFyIHM7Zm9yKGxldCBvPTA7bzx0Lmxlbmd0aDtvKyspe2NvbnN0IGU9dFtvXTtpZig2PT09ZS50eXBlJiYiaXMiPT09ZS5uYW1lJiZlLnZhbHVlJiZlLnZhbHVlLmNvbnRlbnQuc3RhcnRzV2l0aCgidnVlOiIpKXJldHVybiEwfXJldHVybiExfShlKSYmKGUudGFnVHlwZT0xKTplLnRhZ1R5cGU9MyksR2MuaW5SQ0RBVEF8fChlLmNoaWxkcmVuPW9hKGUuY2hpbGRyZW4sZS50YWcpKSwwPT09byYmUGMuaXNQcmVUYWcocykmJnFjLS0sS2M9PT1lJiYoV2M9R2MuaW5WUHJlPSExLEtjPW51bGwpLEdjLmluWE1MJiYwPT09KHpjWzBdP3pjWzBdLm5zOlBjLm5zKSYmKEdjLmluWE1MPSExKX1mdW5jdGlvbiB0YShlLHQpe2xldCBuPWU7Zm9yKDtCYy5jaGFyQ29kZUF0KG4pIT09dCYmbj49MDspbi0tO3JldHVybiBufWNvbnN0IG5hPW5ldyBTZXQoWyJpZiIsImVsc2UiLCJlbHNlLWlmIiwiZm9yIiwic2xvdCJdKTtjb25zdCBzYT0vXHJcbi9nO2Z1bmN0aW9uIG9hKGUsdCl7dmFyIG4scztjb25zdCBvPSJwcmVzZXJ2ZSIhPT1QYy53aGl0ZXNwYWNlO2xldCByPSExO2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCB0PWVbaV07aWYoMj09PXQudHlwZSlpZihxYyl0LmNvbnRlbnQ9dC5jb250ZW50LnJlcGxhY2Uoc2EsIlxuIik7ZWxzZSBpZihyYSh0LmNvbnRlbnQpKXtjb25zdCBsPW51bGw9PShuPWVbaS0xXSk/dm9pZCAwOm4udHlwZSxjPW51bGw9PShzPWVbaSsxXSk/dm9pZCAwOnMudHlwZTshbHx8IWN8fG8mJigzPT09bCYmKDM9PT1jfHwxPT09Yyl8fDE9PT1sJiYoMz09PWN8fDE9PT1jJiZpYSh0LmNvbnRlbnQpKSk/KHI9ITAsZVtpXT1udWxsKTp0LmNvbnRlbnQ9IiAifWVsc2UgbyYmKHQuY29udGVudD1sYSh0LmNvbnRlbnQpKX1pZihxYyYmdCYmUGMuaXNQcmVUYWcodCkpe2NvbnN0IHQ9ZVswXTt0JiYyPT09dC50eXBlJiYodC5jb250ZW50PXQuY29udGVudC5yZXBsYWNlKC9eXHI/XG4vLCIiKSl9cmV0dXJuIHI/ZS5maWx0ZXIoQm9vbGVhbik6ZX1mdW5jdGlvbiByYShlKXtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKylpZighbGMoZS5jaGFyQ29kZUF0KHQpKSlyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBpYShlKXtmb3IobGV0IHQ9MDt0PGUubGVuZ3RoO3QrKyl7Y29uc3Qgbj1lLmNoYXJDb2RlQXQodCk7aWYoMTA9PT1ufHwxMz09PW4pcmV0dXJuITB9cmV0dXJuITF9ZnVuY3Rpb24gbGEoZSl7bGV0IHQ9IiIsbj0hMTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKylsYyhlLmNoYXJDb2RlQXQocykpP258fCh0Kz0iICIsbj0hMCk6KHQrPWVbc10sbj0hMSk7cmV0dXJuIHR9ZnVuY3Rpb24gY2EoZSl7KHpjWzBdfHwkYykuY2hpbGRyZW4ucHVzaChlKX1mdW5jdGlvbiBhYShlLHQpe3JldHVybntzdGFydDpHYy5nZXRQb3MoZSksZW5kOm51bGw9PXQ/dDpHYy5nZXRQb3ModCksc291cmNlOm51bGw9PXQ/dDpRYyhlLHQpfX1mdW5jdGlvbiB1YShlLHQpe2UuZW5kPUdjLmdldFBvcyh0KSxlLnNvdXJjZT1RYyhlLnN0YXJ0Lm9mZnNldCx0KX1mdW5jdGlvbiBkYShlKXtjb25zdCB0PXt0eXBlOjYsbmFtZTplLnJhd05hbWUsbmFtZUxvYzphYShlLmxvYy5zdGFydC5vZmZzZXQsZS5sb2Muc3RhcnQub2Zmc2V0K2UucmF3TmFtZS5sZW5ndGgpLHZhbHVlOnZvaWQgMCxsb2M6ZS5sb2N9O2lmKGUuZXhwKXtjb25zdCBuPWUuZXhwLmxvYztuLmVuZC5vZmZzZXQ8ZS5sb2MuZW5kLm9mZnNldCYmKG4uc3RhcnQub2Zmc2V0LS0sbi5zdGFydC5jb2x1bW4tLSxuLmVuZC5vZmZzZXQrKyxuLmVuZC5jb2x1bW4rKyksdC52YWx1ZT17dHlwZToyLGNvbnRlbnQ6ZS5leHAuY29udGVudCxsb2M6bn19cmV0dXJuIHR9ZnVuY3Rpb24gcGEoZSx0PSExLG4scz0wLG89MCl7cmV0dXJuIFhsKGUsdCxuLHMpfWZ1bmN0aW9uIGhhKGUsdCxuKXtQYy5vbkVycm9yKGhjKGUsYWEodCx0KSkpfWZ1bmN0aW9uIGZhKGUsdCl7aWYoR2MucmVzZXQoKSxWYz1udWxsLERjPW51bGwsVWM9IiIsamM9LTEsSGM9LTEsemMubGVuZ3RoPTAsQmM9ZSxQYz1jKHt9LE1jKSx0KXtsZXQgZTtmb3IoZSBpbiB0KW51bGwhPXRbZV0mJihQY1tlXT10W2VdKX1HYy5tb2RlPSJodG1sIj09PVBjLnBhcnNlTW9kZT8xOiJzZmMiPT09UGMucGFyc2VNb2RlPzI6MCxHYy5pblhNTD0xPT09UGMubnN8fDI9PT1QYy5ucztjb25zdCBuPW51bGw9PXQ/dm9pZCAwOnQuZGVsaW1pdGVycztuJiYoR2MuZGVsaW1pdGVyT3Blbj1hYyhuWzBdKSxHYy5kZWxpbWl0ZXJDbG9zZT1hYyhuWzFdKSk7Y29uc3Qgcz0kYz1mdW5jdGlvbihlLHQ9IiIpe3JldHVybnt0eXBlOjAsc291cmNlOnQsY2hpbGRyZW46ZSxoZWxwZXJzOm5ldyBTZXQsY29tcG9uZW50czpbXSxkaXJlY3RpdmVzOltdLGhvaXN0czpbXSxpbXBvcnRzOltdLGNhY2hlZDowLHRlbXBzOjAsY29kZWdlbk5vZGU6dm9pZCAwLGxvYzpXbH19KFtdLGUpO3JldHVybiBHYy5wYXJzZShCYykscy5sb2M9YWEoMCxlLmxlbmd0aCkscy5jaGlsZHJlbj1vYShzLmNoaWxkcmVuKSwkYz1udWxsLHN9ZnVuY3Rpb24gbWEoZSx0KXt2YShlLHQsZ2EoZSxlLmNoaWxkcmVuWzBdKSl9ZnVuY3Rpb24gZ2EoZSx0KXtjb25zdHtjaGlsZHJlbjpufT1lO3JldHVybiAxPT09bi5sZW5ndGgmJjE9PT10LnR5cGUmJiFOYyh0KX1mdW5jdGlvbiB2YShlLHQsbj0hMSl7Y29uc3R7Y2hpbGRyZW46c309ZSxvPXMubGVuZ3RoO2xldCByPTA7Zm9yKGxldCBpPTA7aTxzLmxlbmd0aDtpKyspe2NvbnN0IGU9c1tpXTtpZigxPT09ZS50eXBlJiYwPT09ZS50YWdUeXBlKXtjb25zdCBzPW4/MDp5YShlLHQpO2lmKHM+MCl7aWYocz49Mil7ZS5jb2RlZ2VuTm9kZS5wYXRjaEZsYWc9Ii0xIixlLmNvZGVnZW5Ob2RlPXQuaG9pc3QoZS5jb2RlZ2VuTm9kZSkscisrO2NvbnRpbnVlfX1lbHNle2NvbnN0IG49ZS5jb2RlZ2VuTm9kZTtpZigxMz09PW4udHlwZSl7Y29uc3Qgcz1DYShuKTtpZigoIXN8fDUxMj09PXN8fDE9PT1zKSYmU2EoZSx0KT49Mil7Y29uc3Qgcz14YShlKTtzJiYobi5wcm9wcz10LmhvaXN0KHMpKX1uLmR5bmFtaWNQcm9wcyYmKG4uZHluYW1pY1Byb3BzPXQuaG9pc3Qobi5keW5hbWljUHJvcHMpKX19fWlmKDE9PT1lLnR5cGUpe2NvbnN0IG49MT09PWUudGFnVHlwZTtuJiZ0LnNjb3Blcy52U2xvdCsrLHZhKGUsdCksbiYmdC5zY29wZXMudlNsb3QtLX1lbHNlIGlmKDExPT09ZS50eXBlKXZhKGUsdCwxPT09ZS5jaGlsZHJlbi5sZW5ndGgpO2Vsc2UgaWYoOT09PWUudHlwZSlmb3IobGV0IG49MDtuPGUuYnJhbmNoZXMubGVuZ3RoO24rKyl2YShlLmJyYW5jaGVzW25dLHQsMT09PWUuYnJhbmNoZXNbbl0uY2hpbGRyZW4ubGVuZ3RoKX1pZihyJiZ0LnRyYW5zZm9ybUhvaXN0JiZ0LnRyYW5zZm9ybUhvaXN0KHMsdCxlKSxyJiZyPT09byYmMT09PWUudHlwZSYmMD09PWUudGFnVHlwZSYmZS5jb2RlZ2VuTm9kZSYmMTM9PT1lLmNvZGVnZW5Ob2RlLnR5cGUmJnAoZS5jb2RlZ2VuTm9kZS5jaGlsZHJlbikpe2NvbnN0IG49dC5ob2lzdCh6bChlLmNvZGVnZW5Ob2RlLmNoaWxkcmVuKSk7dC5obXImJihuLmNvbnRlbnQ9YFsuLi4ke24uY29udGVudH1dYCksZS5jb2RlZ2VuTm9kZS5jaGlsZHJlbj1ufX1mdW5jdGlvbiB5YShlLHQpe2NvbnN0e2NvbnN0YW50Q2FjaGU6bn09dDtzd2l0Y2goZS50eXBlKXtjYXNlIDE6aWYoMCE9PWUudGFnVHlwZSlyZXR1cm4gMDtjb25zdCBzPW4uZ2V0KGUpO2lmKHZvaWQgMCE9PXMpcmV0dXJuIHM7Y29uc3Qgbz1lLmNvZGVnZW5Ob2RlO2lmKDEzIT09by50eXBlKXJldHVybiAwO2lmKG8uaXNCbG9jayYmInN2ZyIhPT1lLnRhZyYmImZvcmVpZ25PYmplY3QiIT09ZS50YWcpcmV0dXJuIDA7aWYoQ2EobykpcmV0dXJuIG4uc2V0KGUsMCksMDt7bGV0IHM9Mztjb25zdCByPVNhKGUsdCk7aWYoMD09PXIpcmV0dXJuIG4uc2V0KGUsMCksMDtyPHMmJihzPXIpO2ZvcihsZXQgbz0wO288ZS5jaGlsZHJlbi5sZW5ndGg7bysrKXtjb25zdCByPXlhKGUuY2hpbGRyZW5bb10sdCk7aWYoMD09PXIpcmV0dXJuIG4uc2V0KGUsMCksMDtyPHMmJihzPXIpfWlmKHM+MSlmb3IobGV0IG89MDtvPGUucHJvcHMubGVuZ3RoO28rKyl7Y29uc3Qgcj1lLnByb3BzW29dO2lmKDc9PT1yLnR5cGUmJiJiaW5kIj09PXIubmFtZSYmci5leHApe2NvbnN0IG89eWEoci5leHAsdCk7aWYoMD09PW8pcmV0dXJuIG4uc2V0KGUsMCksMDtvPHMmJihzPW8pfX1pZihvLmlzQmxvY2spe2ZvcihsZXQgdD0wO3Q8ZS5wcm9wcy5sZW5ndGg7dCsrKXtpZig3PT09ZS5wcm9wc1t0XS50eXBlKXJldHVybiBuLnNldChlLDApLDB9dC5yZW1vdmVIZWxwZXIodWwpLHQucmVtb3ZlSGVscGVyKG5jKHQuaW5TU1Isby5pc0NvbXBvbmVudCkpLG8uaXNCbG9jaz0hMSx0LmhlbHBlcih0Yyh0LmluU1NSLG8uaXNDb21wb25lbnQpKX1yZXR1cm4gbi5zZXQoZSxzKSxzfWNhc2UgMjpjYXNlIDM6cmV0dXJuIDM7Y2FzZSA5OmNhc2UgMTE6Y2FzZSAxMDpkZWZhdWx0OnJldHVybiAwO2Nhc2UgNTpjYXNlIDEyOnJldHVybiB5YShlLmNvbnRlbnQsdCk7Y2FzZSA0OnJldHVybiBlLmNvbnN0VHlwZTtjYXNlIDg6bGV0IHI9Mztmb3IobGV0IG49MDtuPGUuY2hpbGRyZW4ubGVuZ3RoO24rKyl7Y29uc3Qgcz1lLmNoaWxkcmVuW25dO2lmKHYocyl8fHkocykpY29udGludWU7Y29uc3Qgbz15YShzLHQpO2lmKDA9PT1vKXJldHVybiAwO288ciYmKHI9byl9cmV0dXJuIHJ9fWNvbnN0IGJhPW5ldyBTZXQoW05sLEFsLElsLFJsXSk7ZnVuY3Rpb24gX2EoZSx0KXtpZigxND09PWUudHlwZSYmIXYoZS5jYWxsZWUpJiZiYS5oYXMoZS5jYWxsZWUpKXtjb25zdCBuPWUuYXJndW1lbnRzWzBdO2lmKDQ9PT1uLnR5cGUpcmV0dXJuIHlhKG4sdCk7aWYoMTQ9PT1uLnR5cGUpcmV0dXJuIF9hKG4sdCl9cmV0dXJuIDB9ZnVuY3Rpb24gU2EoZSx0KXtsZXQgbj0zO2NvbnN0IHM9eGEoZSk7aWYocyYmMTU9PT1zLnR5cGUpe2NvbnN0e3Byb3BlcnRpZXM6ZX09cztmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7Y29uc3R7a2V5Om8sdmFsdWU6cn09ZVtzXSxpPXlhKG8sdCk7aWYoMD09PWkpcmV0dXJuIGk7bGV0IGw7aWYoaTxuJiYobj1pKSxsPTQ9PT1yLnR5cGU/eWEocix0KToxND09PXIudHlwZT9fYShyLHQpOjAsMD09PWwpcmV0dXJuIGw7bDxuJiYobj1sKX19cmV0dXJuIG59ZnVuY3Rpb24geGEoZSl7Y29uc3QgdD1lLmNvZGVnZW5Ob2RlO2lmKDEzPT09dC50eXBlKXJldHVybiB0LnByb3BzfWZ1bmN0aW9uIENhKGUpe2NvbnN0IHQ9ZS5wYXRjaEZsYWc7cmV0dXJuIHQ/cGFyc2VJbnQodCwxMCk6dm9pZCAwfWZ1bmN0aW9uIGthKGUse2ZpbGVuYW1lOnQ9IiIscHJlZml4SWRlbnRpZmllcnM6cz0hMSxob2lzdFN0YXRpYzpyPSExLGhtcjppPSExLGNhY2hlSGFuZGxlcnM6bD0hMSxub2RlVHJhbnNmb3JtczpjPVtdLGRpcmVjdGl2ZVRyYW5zZm9ybXM6YT17fSx0cmFuc2Zvcm1Ib2lzdDp1PW51bGwsaXNCdWlsdEluQ29tcG9uZW50OmQ9byxpc0N1c3RvbUVsZW1lbnQ6cD1vLGV4cHJlc3Npb25QbHVnaW5zOmg9W10sc2NvcGVJZDpmPW51bGwsc2xvdHRlZDptPSEwLHNzcjpnPSExLGluU1NSOnk9ITEsc3NyQ3NzVmFyczpiPSIiLGJpbmRpbmdNZXRhZGF0YTpfPW4saW5saW5lOlM9ITEsaXNUUzp4PSExLG9uRXJyb3I6Qz1kYyxvbldhcm46az1wYyxjb21wYXRDb25maWc6VH0pe2NvbnN0IHc9dC5yZXBsYWNlKC9cPy4qJC8sIiIpLm1hdGNoKC8oW14vXFxdKylcLlx3KyQvKSxFPXtmaWxlbmFtZTp0LHNlbGZOYW1lOncmJkwoSSh3WzFdKSkscHJlZml4SWRlbnRpZmllcnM6cyxob2lzdFN0YXRpYzpyLGhtcjppLGNhY2hlSGFuZGxlcnM6bCxub2RlVHJhbnNmb3JtczpjLGRpcmVjdGl2ZVRyYW5zZm9ybXM6YSx0cmFuc2Zvcm1Ib2lzdDp1LGlzQnVpbHRJbkNvbXBvbmVudDpkLGlzQ3VzdG9tRWxlbWVudDpwLGV4cHJlc3Npb25QbHVnaW5zOmgsc2NvcGVJZDpmLHNsb3R0ZWQ6bSxzc3I6ZyxpblNTUjp5LHNzckNzc1ZhcnM6YixiaW5kaW5nTWV0YWRhdGE6XyxpbmxpbmU6Uyxpc1RTOngsb25FcnJvcjpDLG9uV2FybjprLGNvbXBhdENvbmZpZzpULHJvb3Q6ZSxoZWxwZXJzOm5ldyBNYXAsY29tcG9uZW50czpuZXcgU2V0LGRpcmVjdGl2ZXM6bmV3IFNldCxob2lzdHM6W10saW1wb3J0czpbXSxjb25zdGFudENhY2hlOm5ldyBXZWFrTWFwLHRlbXBzOjAsY2FjaGVkOjAsaWRlbnRpZmllcnM6T2JqZWN0LmNyZWF0ZShudWxsKSxzY29wZXM6e3ZGb3I6MCx2U2xvdDowLHZQcmU6MCx2T25jZTowfSxwYXJlbnQ6bnVsbCxjdXJyZW50Tm9kZTplLGNoaWxkSW5kZXg6MCxpblZPbmNlOiExLGhlbHBlcihlKXtjb25zdCB0PUUuaGVscGVycy5nZXQoZSl8fDA7cmV0dXJuIEUuaGVscGVycy5zZXQoZSx0KzEpLGV9LHJlbW92ZUhlbHBlcihlKXtjb25zdCB0PUUuaGVscGVycy5nZXQoZSk7aWYodCl7Y29uc3Qgbj10LTE7bj9FLmhlbHBlcnMuc2V0KGUsbik6RS5oZWxwZXJzLmRlbGV0ZShlKX19LGhlbHBlclN0cmluZzplPT5gXyR7cWxbRS5oZWxwZXIoZSldfWAscmVwbGFjZU5vZGUoZSl7RS5wYXJlbnQuY2hpbGRyZW5bRS5jaGlsZEluZGV4XT1FLmN1cnJlbnROb2RlPWV9LHJlbW92ZU5vZGUoZSl7Y29uc3QgdD1lP0UucGFyZW50LmNoaWxkcmVuLmluZGV4T2YoZSk6RS5jdXJyZW50Tm9kZT9FLmNoaWxkSW5kZXg6LTE7ZSYmZSE9PUUuY3VycmVudE5vZGU/RS5jaGlsZEluZGV4PnQmJihFLmNoaWxkSW5kZXgtLSxFLm9uTm9kZVJlbW92ZWQoKSk6KEUuY3VycmVudE5vZGU9bnVsbCxFLm9uTm9kZVJlbW92ZWQoKSksRS5wYXJlbnQuY2hpbGRyZW4uc3BsaWNlKHQsMSl9LG9uTm9kZVJlbW92ZWQ6byxhZGRJZGVudGlmaWVycyhlKXt9LHJlbW92ZUlkZW50aWZpZXJzKGUpe30saG9pc3QoZSl7dihlKSYmKGU9WGwoZSkpLEUuaG9pc3RzLnB1c2goZSk7Y29uc3QgdD1YbChgX2hvaXN0ZWRfJHtFLmhvaXN0cy5sZW5ndGh9YCwhMSxlLmxvYywyKTtyZXR1cm4gdC5ob2lzdGVkPWUsdH0sY2FjaGU6KGUsdD0hMSk9PmZ1bmN0aW9uKGUsdCxuPSExKXtyZXR1cm57dHlwZToyMCxpbmRleDplLHZhbHVlOnQsaXNWTm9kZTpuLGxvYzpXbH19KEUuY2FjaGVkKyssZSx0KX07cmV0dXJuIEV9ZnVuY3Rpb24gVGEoZSx0KXtjb25zdCBuPWthKGUsdCk7d2EoZSxuKSx0LmhvaXN0U3RhdGljJiZtYShlLG4pLHQuc3NyfHxmdW5jdGlvbihlLHQpe2NvbnN0e2hlbHBlcjpufT10LHtjaGlsZHJlbjpzfT1lO2lmKDE9PT1zLmxlbmd0aCl7Y29uc3Qgbj1zWzBdO2lmKGdhKGUsbikmJm4uY29kZWdlbk5vZGUpe2NvbnN0IHM9bi5jb2RlZ2VuTm9kZTsxMz09PXMudHlwZSYmc2Mocyx0KSxlLmNvZGVnZW5Ob2RlPXN9ZWxzZSBlLmNvZGVnZW5Ob2RlPW59ZWxzZSBpZihzLmxlbmd0aD4xKXtsZXQgcz02NDtlLmNvZGVnZW5Ob2RlPUtsKHQsbihybCksdm9pZCAwLGUuY2hpbGRyZW4scysiIix2b2lkIDAsdm9pZCAwLCEwLHZvaWQgMCwhMSl9fShlLG4pLGUuaGVscGVycz1uZXcgU2V0KFsuLi5uLmhlbHBlcnMua2V5cygpXSksZS5jb21wb25lbnRzPVsuLi5uLmNvbXBvbmVudHNdLGUuZGlyZWN0aXZlcz1bLi4ubi5kaXJlY3RpdmVzXSxlLmltcG9ydHM9bi5pbXBvcnRzLGUuaG9pc3RzPW4uaG9pc3RzLGUudGVtcHM9bi50ZW1wcyxlLmNhY2hlZD1uLmNhY2hlZCxlLnRyYW5zZm9ybWVkPSEwfWZ1bmN0aW9uIHdhKGUsdCl7dC5jdXJyZW50Tm9kZT1lO2NvbnN0e25vZGVUcmFuc2Zvcm1zOm59PXQscz1bXTtmb3IobGV0IHI9MDtyPG4ubGVuZ3RoO3IrKyl7Y29uc3Qgbz1uW3JdKGUsdCk7aWYobyYmKHAobyk/cy5wdXNoKC4uLm8pOnMucHVzaChvKSksIXQuY3VycmVudE5vZGUpcmV0dXJuO2U9dC5jdXJyZW50Tm9kZX1zd2l0Y2goZS50eXBlKXtjYXNlIDM6dC5zc3J8fHQuaGVscGVyKG1sKTticmVhaztjYXNlIDU6dC5zc3J8fHQuaGVscGVyKHdsKTticmVhaztjYXNlIDk6Zm9yKGxldCBuPTA7bjxlLmJyYW5jaGVzLmxlbmd0aDtuKyspd2EoZS5icmFuY2hlc1tuXSx0KTticmVhaztjYXNlIDEwOmNhc2UgMTE6Y2FzZSAxOmNhc2UgMDohZnVuY3Rpb24oZSx0KXtsZXQgbj0wO2NvbnN0IHM9KCk9PntuLS19O2Zvcig7bjxlLmNoaWxkcmVuLmxlbmd0aDtuKyspe2NvbnN0IG89ZS5jaGlsZHJlbltuXTt2KG8pfHwodC5wYXJlbnQ9ZSx0LmNoaWxkSW5kZXg9bix0Lm9uTm9kZVJlbW92ZWQ9cyx3YShvLHQpKX19KGUsdCl9dC5jdXJyZW50Tm9kZT1lO2xldCBvPXMubGVuZ3RoO2Zvcig7by0tOylzW29dKCl9ZnVuY3Rpb24gRWEoZSx0KXtjb25zdCBuPXYoZSk/dD0+dD09PWU6dD0+ZS50ZXN0KHQpO3JldHVybihlLHMpPT57aWYoMT09PWUudHlwZSl7Y29uc3R7cHJvcHM6b309ZTtpZigzPT09ZS50YWdUeXBlJiZvLnNvbWUod2MpKXJldHVybjtjb25zdCByPVtdO2ZvcihsZXQgaT0wO2k8by5sZW5ndGg7aSsrKXtjb25zdCBsPW9baV07aWYoNz09PWwudHlwZSYmbihsLm5hbWUpKXtvLnNwbGljZShpLDEpLGktLTtjb25zdCBuPXQoZSxsLHMpO24mJnIucHVzaChuKX19cmV0dXJuIHJ9fX1jb25zdCBOYT0iLyojX19QVVJFX18qLyIsQWE9ZT0+YCR7cWxbZV19OiBfJHtxbFtlXX1gO2Z1bmN0aW9uIElhKGUsdD17fSl7Y29uc3Qgbj1mdW5jdGlvbihlLHttb2RlOnQ9ImZ1bmN0aW9uIixwcmVmaXhJZGVudGlmaWVyczpuPSJtb2R1bGUiPT09dCxzb3VyY2VNYXA6cz0hMSxmaWxlbmFtZTpvPSJ0ZW1wbGF0ZS52dWUuaHRtbCIsc2NvcGVJZDpyPW51bGwsb3B0aW1pemVJbXBvcnRzOmk9ITEscnVudGltZUdsb2JhbE5hbWU6bD0iVnVlIixydW50aW1lTW9kdWxlTmFtZTpjPSJ2dWUiLHNzclJ1bnRpbWVNb2R1bGVOYW1lOmE9InZ1ZS9zZXJ2ZXItcmVuZGVyZXIiLHNzcjp1PSExLGlzVFM6ZD0hMSxpblNTUjpwPSExfSl7Y29uc3QgaD17bW9kZTp0LHByZWZpeElkZW50aWZpZXJzOm4sc291cmNlTWFwOnMsZmlsZW5hbWU6byxzY29wZUlkOnIsb3B0aW1pemVJbXBvcnRzOmkscnVudGltZUdsb2JhbE5hbWU6bCxydW50aW1lTW9kdWxlTmFtZTpjLHNzclJ1bnRpbWVNb2R1bGVOYW1lOmEsc3NyOnUsaXNUUzpkLGluU1NSOnAsc291cmNlOmUuc291cmNlLGNvZGU6IiIsY29sdW1uOjEsbGluZToxLG9mZnNldDowLGluZGVudExldmVsOjAscHVyZTohMSxtYXA6dm9pZCAwLGhlbHBlcjplPT5gXyR7cWxbZV19YCxwdXNoKGUsdD0tMixuKXtoLmNvZGUrPWV9LGluZGVudCgpe2YoKytoLmluZGVudExldmVsKX0sZGVpbmRlbnQoZT0hMSl7ZT8tLWguaW5kZW50TGV2ZWw6ZigtLWguaW5kZW50TGV2ZWwpfSxuZXdsaW5lKCl7ZihoLmluZGVudExldmVsKX19O2Z1bmN0aW9uIGYoZSl7aC5wdXNoKCJcbiIrIiAgIi5yZXBlYXQoZSksMCl9cmV0dXJuIGh9KGUsdCk7dC5vbkNvbnRleHRDcmVhdGVkJiZ0Lm9uQ29udGV4dENyZWF0ZWQobik7Y29uc3R7bW9kZTpzLHB1c2g6byxwcmVmaXhJZGVudGlmaWVyczpyLGluZGVudDppLGRlaW5kZW50OmwsbmV3bGluZTpjLHNzcjphfT1uLHU9QXJyYXkuZnJvbShlLmhlbHBlcnMpLGQ9dS5sZW5ndGg+MCxwPSFyJiYibW9kdWxlIiE9PXM7IWZ1bmN0aW9uKGUsdCl7Y29uc3R7cHVzaDpuLG5ld2xpbmU6cyxydW50aW1lR2xvYmFsTmFtZTpvfT10LHI9byxpPUFycmF5LmZyb20oZS5oZWxwZXJzKTtpZihpLmxlbmd0aD4wJiYobihgY29uc3QgX1Z1ZSA9ICR7cn1cbmAsLTEpLGUuaG9pc3RzLmxlbmd0aCkpe24oYGNvbnN0IHsgJHtbaGwsZmwsbWwsZ2wsdmxdLmZpbHRlcigoZT0+aS5pbmNsdWRlcyhlKSkpLm1hcChBYSkuam9pbigiLCAiKX0gfSA9IF9WdWVcbmAsLTEpfShmdW5jdGlvbihlLHQpe2lmKCFlLmxlbmd0aClyZXR1cm47dC5wdXJlPSEwO2NvbnN0e3B1c2g6bixuZXdsaW5lOnN9PXQ7cygpO2ZvcihsZXQgbz0wO288ZS5sZW5ndGg7bysrKXtjb25zdCByPWVbb107ciYmKG4oYGNvbnN0IF9ob2lzdGVkXyR7bysxfSA9IGApLEZhKHIsdCkscygpKX10LnB1cmU9ITF9KShlLmhvaXN0cyx0KSxzKCksbigicmV0dXJuICIpfShlLG4pO2lmKG8oYGZ1bmN0aW9uICR7YT8ic3NyUmVuZGVyIjoicmVuZGVyIn0oJHsoYT9bIl9jdHgiLCJfcHVzaCIsIl9wYXJlbnQiLCJfYXR0cnMiXTpbIl9jdHgiLCJfY2FjaGUiXSkuam9pbigiLCAiKX0pIHtgKSxpKCkscCYmKG8oIndpdGggKF9jdHgpIHsiKSxpKCksZCYmKG8oYGNvbnN0IHsgJHt1Lm1hcChBYSkuam9pbigiLCAiKX0gfSA9IF9WdWVcbmAsLTEpLGMoKSkpLGUuY29tcG9uZW50cy5sZW5ndGgmJihSYShlLmNvbXBvbmVudHMsImNvbXBvbmVudCIsbiksKGUuZGlyZWN0aXZlcy5sZW5ndGh8fGUudGVtcHM+MCkmJmMoKSksZS5kaXJlY3RpdmVzLmxlbmd0aCYmKFJhKGUuZGlyZWN0aXZlcywiZGlyZWN0aXZlIixuKSxlLnRlbXBzPjAmJmMoKSksZS50ZW1wcz4wKXtvKCJsZXQgIik7Zm9yKGxldCB0PTA7dDxlLnRlbXBzO3QrKylvKGAke3Q+MD8iLCAiOiIifV90ZW1wJHt0fWApfXJldHVybihlLmNvbXBvbmVudHMubGVuZ3RofHxlLmRpcmVjdGl2ZXMubGVuZ3RofHxlLnRlbXBzKSYmKG8oIlxuIiwwKSxjKCkpLGF8fG8oInJldHVybiAiKSxlLmNvZGVnZW5Ob2RlP0ZhKGUuY29kZWdlbk5vZGUsbik6bygibnVsbCIpLHAmJihsKCksbygifSIpKSxsKCksbygifSIpLHthc3Q6ZSxjb2RlOm4uY29kZSxwcmVhbWJsZToiIixtYXA6bi5tYXA/bi5tYXAudG9KU09OKCk6dm9pZCAwfX1mdW5jdGlvbiBSYShlLHQse2hlbHBlcjpuLHB1c2g6cyxuZXdsaW5lOm8saXNUUzpyfSl7Y29uc3QgaT1uKCJjb21wb25lbnQiPT09dD95bDpfbCk7Zm9yKGxldCBsPTA7bDxlLmxlbmd0aDtsKyspe2xldCBuPWVbbF07Y29uc3QgYz1uLmVuZHNXaXRoKCJfX3NlbGYiKTtjJiYobj1uLnNsaWNlKDAsLTYpKSxzKGBjb25zdCAke0xjKG4sdCl9ID0gJHtpfSgke0pTT04uc3RyaW5naWZ5KG4pfSR7Yz8iLCB0cnVlIjoiIn0pJHtyPyIhIjoiIn1gKSxsPGUubGVuZ3RoLTEmJm8oKX19ZnVuY3Rpb24gT2EoZSx0KXtjb25zdCBuPWUubGVuZ3RoPjN8fCExO3QucHVzaCgiWyIpLG4mJnQuaW5kZW50KCksTGEoZSx0LG4pLG4mJnQuZGVpbmRlbnQoKSx0LnB1c2goIl0iKX1mdW5jdGlvbiBMYShlLHQsbj0hMSxzPSEwKXtjb25zdHtwdXNoOm8sbmV3bGluZTpyfT10O2ZvcihsZXQgaT0wO2k8ZS5sZW5ndGg7aSsrKXtjb25zdCBsPWVbaV07dihsKT9vKGwsLTMpOnAobCk/T2EobCx0KTpGYShsLHQpLGk8ZS5sZW5ndGgtMSYmKG4/KHMmJm8oIiwiKSxyKCkpOnMmJm8oIiwgIikpfX1mdW5jdGlvbiBGYShlLHQpe2lmKHYoZSkpdC5wdXNoKGUsLTMpO2Vsc2UgaWYoeShlKSl0LnB1c2godC5oZWxwZXIoZSkpO2Vsc2Ugc3dpdGNoKGUudHlwZSl7Y2FzZSAxOmNhc2UgOTpjYXNlIDExOmNhc2UgMTI6RmEoZS5jb2RlZ2VuTm9kZSx0KTticmVhaztjYXNlIDI6IWZ1bmN0aW9uKGUsdCl7dC5wdXNoKEpTT04uc3RyaW5naWZ5KGUuY29udGVudCksLTMsZSl9KGUsdCk7YnJlYWs7Y2FzZSA0Ok1hKGUsdCk7YnJlYWs7Y2FzZSA1OiFmdW5jdGlvbihlLHQpe2NvbnN0e3B1c2g6bixoZWxwZXI6cyxwdXJlOm99PXQ7byYmbihOYSk7bihgJHtzKHdsKX0oYCksRmEoZS5jb250ZW50LHQpLG4oIikiKX0oZSx0KTticmVhaztjYXNlIDg6UGEoZSx0KTticmVhaztjYXNlIDM6IWZ1bmN0aW9uKGUsdCl7Y29uc3R7cHVzaDpuLGhlbHBlcjpzLHB1cmU6b309dDtvJiZuKE5hKTtuKGAke3MobWwpfSgke0pTT04uc3RyaW5naWZ5KGUuY29udGVudCl9KWAsLTMsZSl9KGUsdCk7YnJlYWs7Y2FzZSAxMzohZnVuY3Rpb24oZSx0KXtjb25zdHtwdXNoOm4saGVscGVyOnMscHVyZTpvfT10LHt0YWc6cixwcm9wczppLGNoaWxkcmVuOmwscGF0Y2hGbGFnOmMsZHluYW1pY1Byb3BzOmEsZGlyZWN0aXZlczp1LGlzQmxvY2s6ZCxkaXNhYmxlVHJhY2tpbmc6cCxpc0NvbXBvbmVudDpofT1lO3UmJm4ocyh4bCkrIigiKTtkJiZuKGAoJHtzKHVsKX0oJHtwPyJ0cnVlIjoiIn0pLCBgKTtvJiZuKE5hKTtjb25zdCBmPWQ/bmModC5pblNTUixoKTp0Yyh0LmluU1NSLGgpO24ocyhmKSsiKCIsLTIsZSksTGEoZnVuY3Rpb24oZSl7bGV0IHQ9ZS5sZW5ndGg7Zm9yKDt0LS0mJm51bGw9PWVbdF07KTtyZXR1cm4gZS5zbGljZSgwLHQrMSkubWFwKChlPT5lfHwibnVsbCIpKX0oW3IsaSxsLGMsYV0pLHQpLG4oIikiKSxkJiZuKCIpIik7dSYmKG4oIiwgIiksRmEodSx0KSxuKCIpIikpfShlLHQpO2JyZWFrO2Nhc2UgMTQ6IWZ1bmN0aW9uKGUsdCl7Y29uc3R7cHVzaDpuLGhlbHBlcjpzLHB1cmU6b309dCxyPXYoZS5jYWxsZWUpP2UuY2FsbGVlOnMoZS5jYWxsZWUpO28mJm4oTmEpO24ocisiKCIsLTIsZSksTGEoZS5hcmd1bWVudHMsdCksbigiKSIpfShlLHQpO2JyZWFrO2Nhc2UgMTU6IWZ1bmN0aW9uKGUsdCl7Y29uc3R7cHVzaDpuLGluZGVudDpzLGRlaW5kZW50Om8sbmV3bGluZTpyfT10LHtwcm9wZXJ0aWVzOml9PWU7aWYoIWkubGVuZ3RoKXJldHVybiB2b2lkIG4oInt9IiwtMixlKTtjb25zdCBsPWkubGVuZ3RoPjF8fCExO24obD8ieyI6InsgIiksbCYmcygpO2ZvcihsZXQgYz0wO2M8aS5sZW5ndGg7YysrKXtjb25zdHtrZXk6ZSx2YWx1ZTpzfT1pW2NdOyRhKGUsdCksbigiOiAiKSxGYShzLHQpLGM8aS5sZW5ndGgtMSYmKG4oIiwiKSxyKCkpfWwmJm8oKSxuKGw/In0iOiIgfSIpfShlLHQpO2JyZWFrO2Nhc2UgMTc6IWZ1bmN0aW9uKGUsdCl7T2EoZS5lbGVtZW50cyx0KX0oZSx0KTticmVhaztjYXNlIDE4OiFmdW5jdGlvbihlLHQpe2NvbnN0e3B1c2g6bixpbmRlbnQ6cyxkZWluZGVudDpvfT10LHtwYXJhbXM6cixyZXR1cm5zOmksYm9keTpsLG5ld2xpbmU6Yyxpc1Nsb3Q6YX09ZTthJiZuKGBfJHtxbFtWbF19KGApO24oIigiLC0yLGUpLHAocik/TGEocix0KTpyJiZGYShyLHQpO24oIikgPT4gIiksKGN8fGwpJiYobigieyIpLHMoKSk7aT8oYyYmbigicmV0dXJuICIpLHAoaSk/T2EoaSx0KTpGYShpLHQpKTpsJiZGYShsLHQpOyhjfHxsKSYmKG8oKSxuKCJ9IikpO2EmJm4oIikiKX0oZSx0KTticmVhaztjYXNlIDE5OiFmdW5jdGlvbihlLHQpe2NvbnN0e3Rlc3Q6bixjb25zZXF1ZW50OnMsYWx0ZXJuYXRlOm8sbmV3bGluZTpyfT1lLHtwdXNoOmksaW5kZW50OmwsZGVpbmRlbnQ6YyxuZXdsaW5lOmF9PXQ7aWYoND09PW4udHlwZSl7Y29uc3QgZT0hdmMobi5jb250ZW50KTtlJiZpKCIoIiksTWEobix0KSxlJiZpKCIpIil9ZWxzZSBpKCIoIiksRmEobix0KSxpKCIpIik7ciYmbCgpLHQuaW5kZW50TGV2ZWwrKyxyfHxpKCIgIiksaSgiPyAiKSxGYShzLHQpLHQuaW5kZW50TGV2ZWwtLSxyJiZhKCkscnx8aSgiICIpLGkoIjogIik7Y29uc3QgdT0xOT09PW8udHlwZTt1fHx0LmluZGVudExldmVsKys7RmEobyx0KSx1fHx0LmluZGVudExldmVsLS07ciYmYyghMCl9KGUsdCk7YnJlYWs7Y2FzZSAyMDohZnVuY3Rpb24oZSx0KXtjb25zdHtwdXNoOm4saGVscGVyOnMsaW5kZW50Om8sZGVpbmRlbnQ6cixuZXdsaW5lOml9PXQ7bihgX2NhY2hlWyR7ZS5pbmRleH1dIHx8IChgKSxlLmlzVk5vZGUmJihvKCksbihgJHtzKFBsKX0oLTEpLGApLGkoKSk7bihgX2NhY2hlWyR7ZS5pbmRleH1dID0gYCksRmEoZS52YWx1ZSx0KSxlLmlzVk5vZGUmJihuKCIsIiksaSgpLG4oYCR7cyhQbCl9KDEpLGApLGkoKSxuKGBfY2FjaGVbJHtlLmluZGV4fV1gKSxyKCkpO24oIikiKX0oZSx0KTticmVhaztjYXNlIDIxOkxhKGUuYm9keSx0LCEwLCExKX19ZnVuY3Rpb24gTWEoZSx0KXtjb25zdHtjb250ZW50Om4saXNTdGF0aWM6c309ZTt0LnB1c2gocz9KU09OLnN0cmluZ2lmeShuKTpuLC0zLGUpfWZ1bmN0aW9uIFBhKGUsdCl7Zm9yKGxldCBuPTA7bjxlLmNoaWxkcmVuLmxlbmd0aDtuKyspe2NvbnN0IHM9ZS5jaGlsZHJlbltuXTt2KHMpP3QucHVzaChzLC0zKTpGYShzLHQpfX1mdW5jdGlvbiAkYShlLHQpe2NvbnN0e3B1c2g6bn09dDtpZig4PT09ZS50eXBlKW4oIlsiKSxQYShlLHQpLG4oIl0iKTtlbHNlIGlmKGUuaXNTdGF0aWMpe24odmMoZS5jb250ZW50KT9lLmNvbnRlbnQ6SlNPTi5zdHJpbmdpZnkoZS5jb250ZW50KSwtMixlKX1lbHNlIG4oYFske2UuY29udGVudH1dYCwtMyxlKX1jb25zdCBCYT1FYSgvXihpZnxlbHNlfGVsc2UtaWYpJC8sKChlLHQsbik9PmZ1bmN0aW9uKGUsdCxuLHMpe2lmKCEoImVsc2UiPT09dC5uYW1lfHx0LmV4cCYmdC5leHAuY29udGVudC50cmltKCkpKXtjb25zdCBzPXQuZXhwP3QuZXhwLmxvYzplLmxvYztuLm9uRXJyb3IoaGMoMjgsdC5sb2MpKSx0LmV4cD1YbCgidHJ1ZSIsITEscyl9aWYoImlmIj09PXQubmFtZSl7Y29uc3Qgbz1WYShlLHQpLHI9e3R5cGU6OSxsb2M6ZS5sb2MsYnJhbmNoZXM6W29dfTtpZihuLnJlcGxhY2VOb2RlKHIpLHMpcmV0dXJuIHMocixvLCEwKX1lbHNle2NvbnN0IG89bi5wYXJlbnQuY2hpbGRyZW47bGV0IHI9by5pbmRleE9mKGUpO2Zvcig7ci0tID49LTE7KXtjb25zdCBpPW9bcl07aWYoaSYmMz09PWkudHlwZSluLnJlbW92ZU5vZGUoaSk7ZWxzZXtpZighaXx8MiE9PWkudHlwZXx8aS5jb250ZW50LnRyaW0oKS5sZW5ndGgpe2lmKGkmJjk9PT1pLnR5cGUpeyJlbHNlLWlmIj09PXQubmFtZSYmdm9pZCAwPT09aS5icmFuY2hlc1tpLmJyYW5jaGVzLmxlbmd0aC0xXS5jb25kaXRpb24mJm4ub25FcnJvcihoYygzMCxlLmxvYykpLG4ucmVtb3ZlTm9kZSgpO2NvbnN0IG89VmEoZSx0KTtpLmJyYW5jaGVzLnB1c2gobyk7Y29uc3Qgcj1zJiZzKGksbywhMSk7d2EobyxuKSxyJiZyKCksbi5jdXJyZW50Tm9kZT1udWxsfWVsc2Ugbi5vbkVycm9yKGhjKDMwLGUubG9jKSk7YnJlYWt9bi5yZW1vdmVOb2RlKGkpfX19fShlLHQsbiwoKGUsdCxzKT0+e2NvbnN0IG89bi5wYXJlbnQuY2hpbGRyZW47bGV0IHI9by5pbmRleE9mKGUpLGk9MDtmb3IoO3ItLSA+PTA7KXtjb25zdCBlPW9bcl07ZSYmOT09PWUudHlwZSYmKGkrPWUuYnJhbmNoZXMubGVuZ3RoKX1yZXR1cm4oKT0+e2lmKHMpZS5jb2RlZ2VuTm9kZT1EYSh0LGksbik7ZWxzZXtjb25zdCBzPWZ1bmN0aW9uKGUpe2Zvcig7OylpZigxOT09PWUudHlwZSl7aWYoMTkhPT1lLmFsdGVybmF0ZS50eXBlKXJldHVybiBlO2U9ZS5hbHRlcm5hdGV9ZWxzZSAyMD09PWUudHlwZSYmKGU9ZS52YWx1ZSl9KGUuY29kZWdlbk5vZGUpO3MuYWx0ZXJuYXRlPURhKHQsaStlLmJyYW5jaGVzLmxlbmd0aC0xLG4pfX19KSkpKTtmdW5jdGlvbiBWYShlLHQpe2NvbnN0IG49Mz09PWUudGFnVHlwZTtyZXR1cm57dHlwZToxMCxsb2M6ZS5sb2MsY29uZGl0aW9uOiJlbHNlIj09PXQubmFtZT92b2lkIDA6dC5leHAsY2hpbGRyZW46biYmIXhjKGUsImZvciIpP2UuY2hpbGRyZW46W2VdLHVzZXJLZXk6Q2MoZSwia2V5IiksaXNUZW1wbGF0ZUlmOm59fWZ1bmN0aW9uIERhKGUsdCxuKXtyZXR1cm4gZS5jb25kaXRpb24/ZWMoZS5jb25kaXRpb24sVWEoZSx0LG4pLFpsKG4uaGVscGVyKG1sKSxbJyIiJywidHJ1ZSJdKSk6VWEoZSx0LG4pfWZ1bmN0aW9uIFVhKGUsdCxuKXtjb25zdHtoZWxwZXI6c309bixvPUpsKCJrZXkiLFhsKGAke3R9YCwhMSxXbCwyKSkse2NoaWxkcmVuOnJ9PWUsaT1yWzBdO2lmKDEhPT1yLmxlbmd0aHx8MSE9PWkudHlwZSl7aWYoMT09PXIubGVuZ3RoJiYxMT09PWkudHlwZSl7Y29uc3QgZT1pLmNvZGVnZW5Ob2RlO3JldHVybiBSYyhlLG8sbiksZX17bGV0IHQ9NjQ7cmV0dXJuIEtsKG4scyhybCksR2woW29dKSxyLHQrIiIsdm9pZCAwLHZvaWQgMCwhMCwhMSwhMSxlLmxvYyl9fXtjb25zdCBlPWkuY29kZWdlbk5vZGUsdD0xND09PShsPWUpLnR5cGUmJmwuY2FsbGVlPT09amw/bC5hcmd1bWVudHNbMV0ucmV0dXJuczpsO3JldHVybiAxMz09PXQudHlwZSYmc2ModCxuKSxSYyh0LG8sbiksZX12YXIgbH1jb25zdCBqYT1FYSgiZm9yIiwoKGUsdCxuKT0+e2NvbnN0e2hlbHBlcjpzLHJlbW92ZUhlbHBlcjpvfT1uO3JldHVybiBmdW5jdGlvbihlLHQsbixzKXtpZighdC5leHApcmV0dXJuIHZvaWQgbi5vbkVycm9yKGhjKDMxLHQubG9jKSk7Y29uc3Qgbz10LmZvclBhcnNlUmVzdWx0O2lmKCFvKXJldHVybiB2b2lkIG4ub25FcnJvcihoYygzMix0LmxvYykpO0hhKG8pO2NvbnN0e3Njb3BlczpyfT1uLHtzb3VyY2U6aSx2YWx1ZTpsLGtleTpjLGluZGV4OmF9PW8sdT17dHlwZToxMSxsb2M6dC5sb2Msc291cmNlOmksdmFsdWVBbGlhczpsLGtleUFsaWFzOmMsb2JqZWN0SW5kZXhBbGlhczphLHBhcnNlUmVzdWx0Om8sY2hpbGRyZW46RWMoZSk/ZS5jaGlsZHJlbjpbZV19O24ucmVwbGFjZU5vZGUodSksci52Rm9yKys7Y29uc3QgZD1zJiZzKHUpO3JldHVybigpPT57ci52Rm9yLS0sZCYmZCgpfX0oZSx0LG4sKHQ9Pntjb25zdCByPVpsKHMoQ2wpLFt0LnNvdXJjZV0pLGk9RWMoZSksbD14YyhlLCJtZW1vIiksYz1DYyhlLCJrZXkiKSxhPWMmJig2PT09Yy50eXBlP1hsKGMudmFsdWUuY29udGVudCwhMCk6Yy5leHApLHU9Yz9KbCgia2V5IixhKTpudWxsLGQ9ND09PXQuc291cmNlLnR5cGUmJnQuc291cmNlLmNvbnN0VHlwZT4wLHA9ZD82NDpjPzEyODoyNTY7cmV0dXJuIHQuY29kZWdlbk5vZGU9S2wobixzKHJsKSx2b2lkIDAscixwKyIiLHZvaWQgMCx2b2lkIDAsITAsIWQsITEsZS5sb2MpLCgpPT57bGV0IGM7Y29uc3R7Y2hpbGRyZW46cH09dCxoPTEhPT1wLmxlbmd0aHx8MSE9PXBbMF0udHlwZSxmPU5jKGUpP2U6aSYmMT09PWUuY2hpbGRyZW4ubGVuZ3RoJiZOYyhlLmNoaWxkcmVuWzBdKT9lLmNoaWxkcmVuWzBdOm51bGw7aWYoZj8oYz1mLmNvZGVnZW5Ob2RlLGkmJnUmJlJjKGMsdSxuKSk6aD9jPUtsKG4scyhybCksdT9HbChbdV0pOnZvaWQgMCxlLmNoaWxkcmVuLCI2NCIsdm9pZCAwLHZvaWQgMCwhMCx2b2lkIDAsITEpOihjPXBbMF0uY29kZWdlbk5vZGUsaSYmdSYmUmMoYyx1LG4pLGMuaXNCbG9jayE9PSFkJiYoYy5pc0Jsb2NrPyhvKHVsKSxvKG5jKG4uaW5TU1IsYy5pc0NvbXBvbmVudCkpKTpvKHRjKG4uaW5TU1IsYy5pc0NvbXBvbmVudCkpKSxjLmlzQmxvY2s9IWQsYy5pc0Jsb2NrPyhzKHVsKSxzKG5jKG4uaW5TU1IsYy5pc0NvbXBvbmVudCkpKTpzKHRjKG4uaW5TU1IsYy5pc0NvbXBvbmVudCkpKSxsKXtjb25zdCBlPVlsKHFhKHQucGFyc2VSZXN1bHQsW1hsKCJfY2FjaGVkIildKSk7ZS5ib2R5PXt0eXBlOjIxLGJvZHk6W1FsKFsiY29uc3QgX21lbW8gPSAoIixsLmV4cCwiKSJdKSxRbChbImlmIChfY2FjaGVkIiwuLi5hP1siICYmIF9jYWNoZWQua2V5ID09PSAiLGFdOltdLGAgJiYgJHtuLmhlbHBlclN0cmluZyhIbCl9KF9jYWNoZWQsIF9tZW1vKSkgcmV0dXJuIF9jYWNoZWRgXSksUWwoWyJjb25zdCBfaXRlbSA9ICIsY10pLFhsKCJfaXRlbS5tZW1vID0gX21lbW8iKSxYbCgicmV0dXJuIF9pdGVtIildLGxvYzpXbH0sci5hcmd1bWVudHMucHVzaChlLFhsKCJfY2FjaGUiKSxYbChTdHJpbmcobi5jYWNoZWQrKykpKX1lbHNlIHIuYXJndW1lbnRzLnB1c2goWWwocWEodC5wYXJzZVJlc3VsdCksYywhMCkpfX0pKX0pKTtmdW5jdGlvbiBIYShlLHQpe2UuZmluYWxpemVkfHwoZS5maW5hbGl6ZWQ9ITApfWZ1bmN0aW9uIHFhKHt2YWx1ZTplLGtleTp0LGluZGV4Om59LHM9W10pe3JldHVybiBmdW5jdGlvbihlKXtsZXQgdD1lLmxlbmd0aDtmb3IoO3QtLSYmIWVbdF07KTtyZXR1cm4gZS5zbGljZSgwLHQrMSkubWFwKCgoZSx0KT0+ZXx8WGwoIl8iLnJlcGVhdCh0KzEpLCExKSkpfShbZSx0LG4sLi4uc10pfWNvbnN0IFdhPVhsKCJ1bmRlZmluZWQiLCExKSxLYT0oZSx0KT0+e2lmKDE9PT1lLnR5cGUmJigxPT09ZS50YWdUeXBlfHwzPT09ZS50YWdUeXBlKSl7Y29uc3Qgbj14YyhlLCJzbG90Iik7aWYobilyZXR1cm4gdC5zY29wZXMudlNsb3QrKywoKT0+e3Quc2NvcGVzLnZTbG90LS19fX0semE9KGUsdCxuLHMpPT5ZbChlLG4sITEsITAsbi5sZW5ndGg/blswXS5sb2M6cyk7ZnVuY3Rpb24gR2EoZSx0LG49emEpe3QuaGVscGVyKFZsKTtjb25zdHtjaGlsZHJlbjpzLGxvYzpvfT1lLHI9W10saT1bXTtsZXQgbD10LnNjb3Blcy52U2xvdD4wfHx0LnNjb3Blcy52Rm9yPjA7Y29uc3QgYz14YyhlLCJzbG90IiwhMCk7aWYoYyl7Y29uc3R7YXJnOmUsZXhwOnR9PWM7ZSYmIWZjKGUpJiYobD0hMCksci5wdXNoKEpsKGV8fFhsKCJkZWZhdWx0IiwhMCksbih0LHZvaWQgMCxzLG8pKSl9bGV0IGE9ITEsdT0hMTtjb25zdCBkPVtdLHA9bmV3IFNldDtsZXQgaD0wO2ZvcihsZXQgZz0wO2c8cy5sZW5ndGg7ZysrKXtjb25zdCBlPXNbZ107bGV0IG87aWYoIUVjKGUpfHwhKG89eGMoZSwic2xvdCIsITApKSl7MyE9PWUudHlwZSYmZC5wdXNoKGUpO2NvbnRpbnVlfWlmKGMpe3Qub25FcnJvcihoYygzNyxvLmxvYykpO2JyZWFrfWE9ITA7Y29uc3R7Y2hpbGRyZW46Zixsb2M6bX09ZSx7YXJnOnY9WGwoImRlZmF1bHQiLCEwKSxleHA6eSxsb2M6Yn09bztsZXQgXztmYyh2KT9fPXY/di5jb250ZW50OiJkZWZhdWx0IjpsPSEwO2NvbnN0IFM9eGMoZSwiZm9yIikseD1uKHksUyxmLG0pO2xldCBDLGs7aWYoQz14YyhlLCJpZiIpKWw9ITAsaS5wdXNoKGVjKEMuZXhwLEphKHYseCxoKyspLFdhKSk7ZWxzZSBpZihrPXhjKGUsL15lbHNlKC1pZik/JC8sITApKXtsZXQgZSxuPWc7Zm9yKDtuLS0mJihlPXNbbl0sMz09PWUudHlwZSk7KTtpZihlJiZFYyhlKSYmeGMoZSwiaWYiKSl7cy5zcGxpY2UoZywxKSxnLS07bGV0IGU9aVtpLmxlbmd0aC0xXTtmb3IoOzE5PT09ZS5hbHRlcm5hdGUudHlwZTspZT1lLmFsdGVybmF0ZTtlLmFsdGVybmF0ZT1rLmV4cD9lYyhrLmV4cCxKYSh2LHgsaCsrKSxXYSk6SmEodix4LGgrKyl9ZWxzZSB0Lm9uRXJyb3IoaGMoMzAsay5sb2MpKX1lbHNlIGlmKFMpe2w9ITA7Y29uc3QgZT1TLmZvclBhcnNlUmVzdWx0O2U/KEhhKGUpLGkucHVzaChabCh0LmhlbHBlcihDbCksW2Uuc291cmNlLFlsKHFhKGUpLEphKHYseCksITApXSkpKTp0Lm9uRXJyb3IoaGMoMzIsUy5sb2MpKX1lbHNle2lmKF8pe2lmKHAuaGFzKF8pKXt0Lm9uRXJyb3IoaGMoMzgsYikpO2NvbnRpbnVlfXAuYWRkKF8pLCJkZWZhdWx0Ij09PV8mJih1PSEwKX1yLnB1c2goSmwodix4KSl9fWlmKCFjKXtjb25zdCBlPShlLHQpPT5KbCgiZGVmYXVsdCIsbihlLHZvaWQgMCx0LG8pKTthP2QubGVuZ3RoJiZkLnNvbWUoKGU9PlFhKGUpKSkmJih1P3Qub25FcnJvcihoYygzOSxkWzBdLmxvYykpOnIucHVzaChlKHZvaWQgMCxkKSkpOnIucHVzaChlKHZvaWQgMCxzKSl9Y29uc3QgZj1sPzI6WGEoZS5jaGlsZHJlbik/MzoxO2xldCBtPUdsKHIuY29uY2F0KEpsKCJfIixYbChmKyIiLCExKSkpLG8pO3JldHVybiBpLmxlbmd0aCYmKG09WmwodC5oZWxwZXIoVGwpLFttLHpsKGkpXSkpLHtzbG90czptLGhhc0R5bmFtaWNTbG90czpsfX1mdW5jdGlvbiBKYShlLHQsbil7Y29uc3Qgcz1bSmwoIm5hbWUiLGUpLEpsKCJmbiIsdCldO3JldHVybiBudWxsIT1uJiZzLnB1c2goSmwoImtleSIsWGwoU3RyaW5nKG4pLCEwKSkpLEdsKHMpfWZ1bmN0aW9uIFhhKGUpe2ZvcihsZXQgdD0wO3Q8ZS5sZW5ndGg7dCsrKXtjb25zdCBuPWVbdF07c3dpdGNoKG4udHlwZSl7Y2FzZSAxOmlmKDI9PT1uLnRhZ1R5cGV8fFhhKG4uY2hpbGRyZW4pKXJldHVybiEwO2JyZWFrO2Nhc2UgOTppZihYYShuLmJyYW5jaGVzKSlyZXR1cm4hMDticmVhaztjYXNlIDEwOmNhc2UgMTE6aWYoWGEobi5jaGlsZHJlbikpcmV0dXJuITB9fXJldHVybiExfWZ1bmN0aW9uIFFhKGUpe3JldHVybiAyIT09ZS50eXBlJiYxMiE9PWUudHlwZXx8KDI9PT1lLnR5cGU/ISFlLmNvbnRlbnQudHJpbSgpOlFhKGUuY29udGVudCkpfWNvbnN0IFphPW5ldyBXZWFrTWFwLFlhPShlLHQpPT5mdW5jdGlvbigpe2lmKDEhPT0oZT10LmN1cnJlbnROb2RlKS50eXBlfHwwIT09ZS50YWdUeXBlJiYxIT09ZS50YWdUeXBlKXJldHVybjtjb25zdHt0YWc6bixwcm9wczpzfT1lLG89MT09PWUudGFnVHlwZTtsZXQgcj1vP2Z1bmN0aW9uKGUsdCxuPSExKXtsZXR7dGFnOnN9PWU7Y29uc3Qgbz1zdShzKSxyPUNjKGUsImlzIik7aWYocilpZihvKXtjb25zdCBlPTY9PT1yLnR5cGU/ci52YWx1ZSYmWGwoci52YWx1ZS5jb250ZW50LCEwKTpyLmV4cDtpZihlKXJldHVybiBabCh0LmhlbHBlcihibCksW2VdKX1lbHNlIDY9PT1yLnR5cGUmJnIudmFsdWUuY29udGVudC5zdGFydHNXaXRoKCJ2dWU6IikmJihzPXIudmFsdWUuY29udGVudC5zbGljZSg0KSk7Y29uc3QgaT1tYyhzKXx8dC5pc0J1aWx0SW5Db21wb25lbnQocyk7aWYoaSlyZXR1cm4gbnx8dC5oZWxwZXIoaSksaTtyZXR1cm4gdC5oZWxwZXIoeWwpLHQuY29tcG9uZW50cy5hZGQocyksTGMocywiY29tcG9uZW50Iil9KGUsdCk6YCIke259ImA7Y29uc3QgaT1iKHIpJiZyLmNhbGxlZT09PWJsO2xldCBsLGMsYSx1LGQscCxoPTAsZj1pfHxyPT09aWx8fHI9PT1sbHx8IW8mJigic3ZnIj09PW58fCJmb3JlaWduT2JqZWN0Ij09PW4pO2lmKHMubGVuZ3RoPjApe2NvbnN0IG49ZXUoZSx0LHZvaWQgMCxvLGkpO2w9bi5wcm9wcyxoPW4ucGF0Y2hGbGFnLGQ9bi5keW5hbWljUHJvcE5hbWVzO2NvbnN0IHM9bi5kaXJlY3RpdmVzO3A9cyYmcy5sZW5ndGg/emwocy5tYXAoKGU9PmZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1bXSxzPVphLmdldChlKTtzP24ucHVzaCh0LmhlbHBlclN0cmluZyhzKSk6KHQuaGVscGVyKF9sKSx0LmRpcmVjdGl2ZXMuYWRkKGUubmFtZSksbi5wdXNoKExjKGUubmFtZSwiZGlyZWN0aXZlIikpKTtjb25zdHtsb2M6b309ZTtlLmV4cCYmbi5wdXNoKGUuZXhwKTtlLmFyZyYmKGUuZXhwfHxuLnB1c2goInZvaWQgMCIpLG4ucHVzaChlLmFyZykpO2lmKE9iamVjdC5rZXlzKGUubW9kaWZpZXJzKS5sZW5ndGgpe2UuYXJnfHwoZS5leHB8fG4ucHVzaCgidm9pZCAwIiksbi5wdXNoKCJ2b2lkIDAiKSk7Y29uc3QgdD1YbCgidHJ1ZSIsITEsbyk7bi5wdXNoKEdsKGUubW9kaWZpZXJzLm1hcCgoZT0+SmwoZSx0KSkpLG8pKX1yZXR1cm4gemwobixlLmxvYyl9KGUsdCkpKSk6dm9pZCAwLG4uc2hvdWxkVXNlQmxvY2smJihmPSEwKX1pZihlLmNoaWxkcmVuLmxlbmd0aD4wKXtyPT09Y2wmJihmPSEwLGh8PTEwMjQpO2lmKG8mJnIhPT1pbCYmciE9PWNsKXtjb25zdHtzbG90czpuLGhhc0R5bmFtaWNTbG90czpzfT1HYShlLHQpO2M9bixzJiYoaHw9MTAyNCl9ZWxzZSBpZigxPT09ZS5jaGlsZHJlbi5sZW5ndGgmJnIhPT1pbCl7Y29uc3Qgbj1lLmNoaWxkcmVuWzBdLHM9bi50eXBlLG89NT09PXN8fDg9PT1zO28mJjA9PT15YShuLHQpJiYoaHw9MSksYz1vfHwyPT09cz9uOmUuY2hpbGRyZW59ZWxzZSBjPWUuY2hpbGRyZW59MCE9PWgmJihhPVN0cmluZyhoKSxkJiZkLmxlbmd0aCYmKHU9ZnVuY3Rpb24oZSl7bGV0IHQ9IlsiO2ZvcihsZXQgbj0wLHM9ZS5sZW5ndGg7bjxzO24rKyl0Kz1KU09OLnN0cmluZ2lmeShlW25dKSxuPHMtMSYmKHQrPSIsICIpO3JldHVybiB0KyJdIn0oZCkpKSxlLmNvZGVnZW5Ob2RlPUtsKHQscixsLGMsYSx1LHAsISFmLCExLG8sZS5sb2MpfTtmdW5jdGlvbiBldShlLHQsbj1lLnByb3BzLHMsbyxyPSExKXtjb25zdHt0YWc6bCxsb2M6YyxjaGlsZHJlbjphfT1lO2xldCB1PVtdO2NvbnN0IGQ9W10scD1bXSxoPWEubGVuZ3RoPjA7bGV0IGY9ITEsbT0wLGc9ITEsdj0hMSxiPSExLF89ITEsUz0hMSx4PSExO2NvbnN0IEM9W10saz1lPT57dS5sZW5ndGgmJihkLnB1c2goR2wodHUodSksYykpLHU9W10pLGUmJmQucHVzaChlKX0sVD0oe2tleTplLHZhbHVlOm59KT0+e2lmKGZjKGUpKXtjb25zdCByPWUuY29udGVudCxsPWkocik7aWYoIWx8fHMmJiFvfHwib25jbGljayI9PT1yLnRvTG93ZXJDYXNlKCl8fCJvblVwZGF0ZTptb2RlbFZhbHVlIj09PXJ8fHcocil8fChfPSEwKSxsJiZ3KHIpJiYoeD0hMCksbCYmMTQ9PT1uLnR5cGUmJihuPW4uYXJndW1lbnRzWzBdKSwyMD09PW4udHlwZXx8KDQ9PT1uLnR5cGV8fDg9PT1uLnR5cGUpJiZ5YShuLHQpPjApcmV0dXJuOyJyZWYiPT09cj9nPSEwOiJjbGFzcyI9PT1yP3Y9ITA6InN0eWxlIj09PXI/Yj0hMDoia2V5Ij09PXJ8fEMuaW5jbHVkZXMocil8fEMucHVzaChyKSwhc3x8ImNsYXNzIiE9PXImJiJzdHlsZSIhPT1yfHxDLmluY2x1ZGVzKHIpfHxDLnB1c2gocil9ZWxzZSBTPSEwfTtmb3IobGV0IGk9MDtpPG4ubGVuZ3RoO2krKyl7Y29uc3Qgbz1uW2ldO2lmKDY9PT1vLnR5cGUpe2NvbnN0e2xvYzplLG5hbWU6bixuYW1lTG9jOnMsdmFsdWU6cn09bztsZXQgaT0hMDtpZigicmVmIj09PW4mJihnPSEwLHQuc2NvcGVzLnZGb3I+MCYmdS5wdXNoKEpsKFhsKCJyZWZfZm9yIiwhMCksWGwoInRydWUiKSkpKSwiaXMiPT09biYmKHN1KGwpfHxyJiZyLmNvbnRlbnQuc3RhcnRzV2l0aCgidnVlOiIpKSljb250aW51ZTt1LnB1c2goSmwoWGwobiwhMCxzKSxYbChyP3IuY29udGVudDoiIixpLHI/ci5sb2M6ZSkpKX1lbHNle2NvbnN0e25hbWU6bixhcmc6aSxleHA6YSxsb2M6Zyxtb2RpZmllcnM6dn09byxiPSJiaW5kIj09PW4sXz0ib24iPT09bjtpZigic2xvdCI9PT1uKXtzfHx0Lm9uRXJyb3IoaGMoNDAsZykpO2NvbnRpbnVlfWlmKCJvbmNlIj09PW58fCJtZW1vIj09PW4pY29udGludWU7aWYoImlzIj09PW58fGImJmtjKGksImlzIikmJnN1KGwpKWNvbnRpbnVlO2lmKF8mJnIpY29udGludWU7aWYoKGImJmtjKGksImtleSIpfHxfJiZoJiZrYyhpLCJ2dWU6YmVmb3JlLXVwZGF0ZSIpKSYmKGY9ITApLGImJmtjKGksInJlZiIpJiZ0LnNjb3Blcy52Rm9yPjAmJnUucHVzaChKbChYbCgicmVmX2ZvciIsITApLFhsKCJ0cnVlIikpKSwhaSYmKGJ8fF8pKXtTPSEwLGE/Yj8oaygpLGQucHVzaChhKSk6ayh7dHlwZToxNCxsb2M6ZyxjYWxsZWU6dC5oZWxwZXIoT2wpLGFyZ3VtZW50czpzP1thXTpbYSwidHJ1ZSJdfSk6dC5vbkVycm9yKGhjKGI/MzQ6MzUsZykpO2NvbnRpbnVlfWImJnYuaW5jbHVkZXMoInByb3AiKSYmKG18PTMyKTtjb25zdCB4PXQuZGlyZWN0aXZlVHJhbnNmb3Jtc1tuXTtpZih4KXtjb25zdHtwcm9wczpuLG5lZWRSdW50aW1lOnN9PXgobyxlLHQpOyFyJiZuLmZvckVhY2goVCksXyYmaSYmIWZjKGkpP2soR2wobixjKSk6dS5wdXNoKC4uLm4pLHMmJihwLnB1c2gobykseShzKSYmWmEuc2V0KG8scykpfWVsc2UgRShuKXx8KHAucHVzaChvKSxoJiYoZj0hMCkpfX1sZXQgTjtpZihkLmxlbmd0aD8oaygpLE49ZC5sZW5ndGg+MT9abCh0LmhlbHBlcihFbCksZCxjKTpkWzBdKTp1Lmxlbmd0aCYmKE49R2wodHUodSksYykpLFM/bXw9MTY6KHYmJiFzJiYobXw9MiksYiYmIXMmJihtfD00KSxDLmxlbmd0aCYmKG18PTgpLF8mJihtfD0zMikpLGZ8fDAhPT1tJiYzMiE9PW18fCEoZ3x8eHx8cC5sZW5ndGg+MCl8fChtfD01MTIpLCF0LmluU1NSJiZOKXN3aXRjaChOLnR5cGUpe2Nhc2UgMTU6bGV0IGU9LTEsbj0tMSxzPSExO2ZvcihsZXQgdD0wO3Q8Ti5wcm9wZXJ0aWVzLmxlbmd0aDt0Kyspe2NvbnN0IG89Ti5wcm9wZXJ0aWVzW3RdLmtleTtmYyhvKT8iY2xhc3MiPT09by5jb250ZW50P2U9dDoic3R5bGUiPT09by5jb250ZW50JiYobj10KTpvLmlzSGFuZGxlcktleXx8KHM9ITApfWNvbnN0IG89Ti5wcm9wZXJ0aWVzW2VdLHI9Ti5wcm9wZXJ0aWVzW25dO3M/Tj1abCh0LmhlbHBlcihJbCksW05dKToobyYmIWZjKG8udmFsdWUpJiYoby52YWx1ZT1abCh0LmhlbHBlcihObCksW28udmFsdWVdKSksciYmKGJ8fDQ9PT1yLnZhbHVlLnR5cGUmJiJbIj09PXIudmFsdWUuY29udGVudC50cmltKClbMF18fDE3PT09ci52YWx1ZS50eXBlKSYmKHIudmFsdWU9WmwodC5oZWxwZXIoQWwpLFtyLnZhbHVlXSkpKTticmVhaztjYXNlIDE0OmJyZWFrO2RlZmF1bHQ6Tj1abCh0LmhlbHBlcihJbCksW1psKHQuaGVscGVyKFJsKSxbTl0pXSl9cmV0dXJue3Byb3BzOk4sZGlyZWN0aXZlczpwLHBhdGNoRmxhZzptLGR5bmFtaWNQcm9wTmFtZXM6QyxzaG91bGRVc2VCbG9jazpmfX1mdW5jdGlvbiB0dShlKXtjb25zdCB0PW5ldyBNYXAsbj1bXTtmb3IobGV0IHM9MDtzPGUubGVuZ3RoO3MrKyl7Y29uc3Qgbz1lW3NdO2lmKDg9PT1vLmtleS50eXBlfHwhby5rZXkuaXNTdGF0aWMpe24ucHVzaChvKTtjb250aW51ZX1jb25zdCByPW8ua2V5LmNvbnRlbnQsbD10LmdldChyKTtsPygic3R5bGUiPT09cnx8ImNsYXNzIj09PXJ8fGkocikpJiZudShsLG8pOih0LnNldChyLG8pLG4ucHVzaChvKSl9cmV0dXJuIG59ZnVuY3Rpb24gbnUoZSx0KXsxNz09PWUudmFsdWUudHlwZT9lLnZhbHVlLmVsZW1lbnRzLnB1c2godC52YWx1ZSk6ZS52YWx1ZT16bChbZS52YWx1ZSx0LnZhbHVlXSxlLmxvYyl9ZnVuY3Rpb24gc3UoZSl7cmV0dXJuImNvbXBvbmVudCI9PT1lfHwiQ29tcG9uZW50Ij09PWV9Y29uc3Qgb3U9KGUsdCk9PntpZihOYyhlKSl7Y29uc3R7Y2hpbGRyZW46bixsb2M6c309ZSx7c2xvdE5hbWU6byxzbG90UHJvcHM6cn09ZnVuY3Rpb24oZSx0KXtsZXQgbixzPSciZGVmYXVsdCInO2NvbnN0IG89W107Zm9yKGxldCByPTA7cjxlLnByb3BzLmxlbmd0aDtyKyspe2NvbnN0IHQ9ZS5wcm9wc1tyXTtpZig2PT09dC50eXBlKXQudmFsdWUmJigibmFtZSI9PT10Lm5hbWU/cz1KU09OLnN0cmluZ2lmeSh0LnZhbHVlLmNvbnRlbnQpOih0Lm5hbWU9SSh0Lm5hbWUpLG8ucHVzaCh0KSkpO2Vsc2UgaWYoImJpbmQiPT09dC5uYW1lJiZrYyh0LmFyZywibmFtZSIpKXtpZih0LmV4cClzPXQuZXhwO2Vsc2UgaWYodC5hcmcmJjQ9PT10LmFyZy50eXBlKXtjb25zdCBlPUkodC5hcmcuY29udGVudCk7cz10LmV4cD1YbChlLCExLHQuYXJnLmxvYyl9fWVsc2UiYmluZCI9PT10Lm5hbWUmJnQuYXJnJiZmYyh0LmFyZykmJih0LmFyZy5jb250ZW50PUkodC5hcmcuY29udGVudCkpLG8ucHVzaCh0KX1pZihvLmxlbmd0aD4wKXtjb25zdHtwcm9wczpzLGRpcmVjdGl2ZXM6cn09ZXUoZSx0LG8sITEsITEpO249cyxyLmxlbmd0aCYmdC5vbkVycm9yKGhjKDM2LHJbMF0ubG9jKSl9cmV0dXJue3Nsb3ROYW1lOnMsc2xvdFByb3BzOm59fShlLHQpLGk9W3QucHJlZml4SWRlbnRpZmllcnM/Il9jdHguJHNsb3RzIjoiJHNsb3RzIixvLCJ7fSIsInVuZGVmaW5lZCIsInRydWUiXTtsZXQgbD0yO3ImJihpWzJdPXIsbD0zKSxuLmxlbmd0aCYmKGlbM109WWwoW10sbiwhMSwhMSxzKSxsPTQpLHQuc2NvcGVJZCYmIXQuc2xvdHRlZCYmKGw9NSksaS5zcGxpY2UobCksZS5jb2RlZ2VuTm9kZT1abCh0LmhlbHBlcihrbCksaSxzKX19O2NvbnN0IHJ1PS9eXHMqKFtcdyRfXSt8KGFzeW5jXHMqKT9cKFteKV0qP1wpKVxzKig6W149XSspPz0+fF5ccyooYXN5bmNccyspP2Z1bmN0aW9uKD86XHMrW1x3JF0rKT9ccypcKC8saXU9KGUsdCxuLHMpPT57Y29uc3R7bG9jOm8sbW9kaWZpZXJzOnIsYXJnOml9PWU7bGV0IGw7aWYoND09PWkudHlwZSlpZihpLmlzU3RhdGljKXtsZXQgZT1pLmNvbnRlbnQ7ZS5zdGFydHNXaXRoKCJ2dWU6IikmJihlPWB2bm9kZS0ke2Uuc2xpY2UoNCl9YCk7bD1YbCgwIT09dC50YWdUeXBlfHxlLnN0YXJ0c1dpdGgoInZub2RlIil8fCEvW0EtWl0vLnRlc3QoZSk/RihJKGUpKTpgb246JHtlfWAsITAsaS5sb2MpfWVsc2UgbD1RbChbYCR7bi5oZWxwZXJTdHJpbmcoTWwpfShgLGksIikiXSk7ZWxzZSBsPWksbC5jaGlsZHJlbi51bnNoaWZ0KGAke24uaGVscGVyU3RyaW5nKE1sKX0oYCksbC5jaGlsZHJlbi5wdXNoKCIpIik7bGV0IGM9ZS5leHA7YyYmIWMuY29udGVudC50cmltKCkmJihjPXZvaWQgMCk7bGV0IGE9bi5jYWNoZUhhbmRsZXJzJiYhYyYmIW4uaW5WT25jZTtpZihjKXtjb25zdCBlPVNjKGMuY29udGVudCksdD0hKGV8fHJ1LnRlc3QoYy5jb250ZW50KSksbj1jLmNvbnRlbnQuaW5jbHVkZXMoIjsiKTsodHx8YSYmZSkmJihjPVFsKFtgJHt0PyIkZXZlbnQiOiIoLi4uYXJncykifSA9PiAke24/InsiOiIoIn1gLGMsbj8ifSI6IikiXSkpfWxldCB1PXtwcm9wczpbSmwobCxjfHxYbCgiKCkgPT4ge30iLCExLG8pKV19O3JldHVybiBzJiYodT1zKHUpKSxhJiYodS5wcm9wc1swXS52YWx1ZT1uLmNhY2hlKHUucHJvcHNbMF0udmFsdWUpKSx1LnByb3BzLmZvckVhY2goKGU9PmUua2V5LmlzSGFuZGxlcktleT0hMCkpLHV9LGx1PShlLHQsbik9Pntjb25zdHttb2RpZmllcnM6cyxsb2M6b309ZSxyPWUuYXJnO2xldHtleHA6aX09ZTtpZihpJiY0PT09aS50eXBlJiYhaS5jb250ZW50LnRyaW0oKSYmKGk9dm9pZCAwKSwhaSl7aWYoNCE9PXIudHlwZXx8IXIuaXNTdGF0aWMpcmV0dXJuIG4ub25FcnJvcihoYyg1MixyLmxvYykpLHtwcm9wczpbSmwocixYbCgiIiwhMCxvKSldfTtjb25zdCB0PUkoci5jb250ZW50KTtpPWUuZXhwPVhsKHQsITEsci5sb2MpfXJldHVybiA0IT09ci50eXBlPyhyLmNoaWxkcmVuLnVuc2hpZnQoIigiKSxyLmNoaWxkcmVuLnB1c2goJykgfHwgIiInKSk6ci5pc1N0YXRpY3x8KHIuY29udGVudD1gJHtyLmNvbnRlbnR9IHx8ICIiYCkscy5pbmNsdWRlcygiY2FtZWwiKSYmKDQ9PT1yLnR5cGU/ci5jb250ZW50PXIuaXNTdGF0aWM/SShyLmNvbnRlbnQpOmAke24uaGVscGVyU3RyaW5nKExsKX0oJHtyLmNvbnRlbnR9KWA6KHIuY2hpbGRyZW4udW5zaGlmdChgJHtuLmhlbHBlclN0cmluZyhMbCl9KGApLHIuY2hpbGRyZW4ucHVzaCgiKSIpKSksbi5pblNTUnx8KHMuaW5jbHVkZXMoInByb3AiKSYmY3UociwiLiIpLHMuaW5jbHVkZXMoImF0dHIiKSYmY3UociwiXiIpKSx7cHJvcHM6W0psKHIsaSldfX0sY3U9KGUsdCk9Pns0PT09ZS50eXBlP2UuY29udGVudD1lLmlzU3RhdGljP3QrZS5jb250ZW50OmBcYCR7dH1cJHske2UuY29udGVudH19XGBgOihlLmNoaWxkcmVuLnVuc2hpZnQoYCcke3R9JyArIChgKSxlLmNoaWxkcmVuLnB1c2goIikiKSl9LGF1PShlLHQpPT57aWYoMD09PWUudHlwZXx8MT09PWUudHlwZXx8MTE9PT1lLnR5cGV8fDEwPT09ZS50eXBlKXJldHVybigpPT57Y29uc3Qgbj1lLmNoaWxkcmVuO2xldCBzLG89ITE7Zm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspe2NvbnN0IHQ9bltlXTtpZihUYyh0KSl7bz0hMDtmb3IobGV0IG89ZSsxO288bi5sZW5ndGg7bysrKXtjb25zdCByPW5bb107aWYoIVRjKHIpKXtzPXZvaWQgMDticmVha31zfHwocz1uW2VdPVFsKFt0XSx0LmxvYykpLHMuY2hpbGRyZW4ucHVzaCgiICsgIixyKSxuLnNwbGljZShvLDEpLG8tLX19fWlmKG8mJigxIT09bi5sZW5ndGh8fDAhPT1lLnR5cGUmJigxIT09ZS50eXBlfHwwIT09ZS50YWdUeXBlfHxlLnByb3BzLmZpbmQoKGU9Pjc9PT1lLnR5cGUmJiF0LmRpcmVjdGl2ZVRyYW5zZm9ybXNbZS5uYW1lXSkpKSkpZm9yKGxldCBlPTA7ZTxuLmxlbmd0aDtlKyspe2NvbnN0IHM9bltlXTtpZihUYyhzKXx8OD09PXMudHlwZSl7Y29uc3Qgbz1bXTsyPT09cy50eXBlJiYiICI9PT1zLmNvbnRlbnR8fG8ucHVzaChzKSx0LnNzcnx8MCE9PXlhKHMsdCl8fG8ucHVzaCgiMSIpLG5bZV09e3R5cGU6MTIsY29udGVudDpzLGxvYzpzLmxvYyxjb2RlZ2VuTm9kZTpabCh0LmhlbHBlcihnbCksbyl9fX19fSx1dT1uZXcgV2Vha1NldCxkdT0oZSx0KT0+e2lmKDE9PT1lLnR5cGUmJnhjKGUsIm9uY2UiLCEwKSl7aWYodXUuaGFzKGUpfHx0LmluVk9uY2V8fHQuaW5TU1IpcmV0dXJuO3JldHVybiB1dS5hZGQoZSksdC5pblZPbmNlPSEwLHQuaGVscGVyKFBsKSwoKT0+e3QuaW5WT25jZT0hMTtjb25zdCBlPXQuY3VycmVudE5vZGU7ZS5jb2RlZ2VuTm9kZSYmKGUuY29kZWdlbk5vZGU9dC5jYWNoZShlLmNvZGVnZW5Ob2RlLCEwKSl9fX0scHU9KGUsdCxuKT0+e2NvbnN0e2V4cDpzLGFyZzpvfT1lO2lmKCFzKXJldHVybiBuLm9uRXJyb3IoaGMoNDEsZS5sb2MpKSxodSgpO2NvbnN0IHI9cy5sb2Muc291cmNlLGk9ND09PXMudHlwZT9zLmNvbnRlbnQ6cixsPW4uYmluZGluZ01ldGFkYXRhW3JdO2lmKCJwcm9wcyI9PT1sfHwicHJvcHMtYWxpYXNlZCI9PT1sKXJldHVybiBodSgpO2lmKCFpLnRyaW0oKXx8IVNjKGkpKXJldHVybiBuLm9uRXJyb3IoaGMoNDIscy5sb2MpKSxodSgpO2NvbnN0IGM9b3x8WGwoIm1vZGVsVmFsdWUiLCEwKSxhPW8/ZmMobyk/YG9uVXBkYXRlOiR7SShvLmNvbnRlbnQpfWA6UWwoWycib25VcGRhdGU6IiArICcsb10pOiJvblVwZGF0ZTptb2RlbFZhbHVlIjtsZXQgdTt1PVFsKFtgJHtuLmlzVFM/IigkZXZlbnQ6IGFueSkiOiIkZXZlbnQifSA9PiAoKGAscywiKSA9ICRldmVudCkiXSk7Y29uc3QgZD1bSmwoYyxlLmV4cCksSmwoYSx1KV07aWYoZS5tb2RpZmllcnMubGVuZ3RoJiYxPT09dC50YWdUeXBlKXtjb25zdCB0PWUubW9kaWZpZXJzLm1hcCgoZT0+KHZjKGUpP2U6SlNPTi5zdHJpbmdpZnkoZSkpKyI6IHRydWUiKSkuam9pbigiLCAiKSxuPW8/ZmMobyk/YCR7by5jb250ZW50fU1vZGlmaWVyc2A6UWwoW28sJyArICJNb2RpZmllcnMiJ10pOiJtb2RlbE1vZGlmaWVycyI7ZC5wdXNoKEpsKG4sWGwoYHsgJHt0fSB9YCwhMSxlLmxvYywyKSkpfXJldHVybiBodShkKX07ZnVuY3Rpb24gaHUoZT1bXSl7cmV0dXJue3Byb3BzOmV9fWNvbnN0IGZ1PW5ldyBXZWFrU2V0LG11PShlLHQpPT57aWYoMT09PWUudHlwZSl7Y29uc3Qgbj14YyhlLCJtZW1vIik7aWYoIW58fGZ1LmhhcyhlKSlyZXR1cm47cmV0dXJuIGZ1LmFkZChlKSwoKT0+e2NvbnN0IHM9ZS5jb2RlZ2VuTm9kZXx8dC5jdXJyZW50Tm9kZS5jb2RlZ2VuTm9kZTtzJiYxMz09PXMudHlwZSYmKDEhPT1lLnRhZ1R5cGUmJnNjKHMsdCksZS5jb2RlZ2VuTm9kZT1abCh0LmhlbHBlcihqbCksW24uZXhwLFlsKHZvaWQgMCxzKSwiX2NhY2hlIixTdHJpbmcodC5jYWNoZWQrKyldKSl9fX07ZnVuY3Rpb24gZ3UoZSx0PXt9KXtjb25zdCBuPXQub25FcnJvcnx8ZGMscz0ibW9kdWxlIj09PXQubW9kZTshMD09PXQucHJlZml4SWRlbnRpZmllcnM/bihoYyg0NykpOnMmJm4oaGMoNDgpKTt0LmNhY2hlSGFuZGxlcnMmJm4oaGMoNDkpKSx0LnNjb3BlSWQmJiFzJiZuKGhjKDUwKSk7Y29uc3Qgbz1jKHt9LHQse3ByZWZpeElkZW50aWZpZXJzOiExfSkscj12KGUpP2ZhKGUsbyk6ZSxbaSxsXT1bW2R1LEJhLG11LGphLG91LFlhLEthLGF1XSx7b246aXUsYmluZDpsdSxtb2RlbDpwdX1dO3JldHVybiBUYShyLGMoe30sbyx7bm9kZVRyYW5zZm9ybXM6Wy4uLmksLi4udC5ub2RlVHJhbnNmb3Jtc3x8W11dLGRpcmVjdGl2ZVRyYW5zZm9ybXM6Yyh7fSxsLHQuZGlyZWN0aXZlVHJhbnNmb3Jtc3x8e30pfSkpLElhKHIsbyl9Y29uc3QgdnU9U3ltYm9sKCIiKSx5dT1TeW1ib2woIiIpLGJ1PVN5bWJvbCgiIiksX3U9U3ltYm9sKCIiKSxTdT1TeW1ib2woIiIpLHh1PVN5bWJvbCgiIiksQ3U9U3ltYm9sKCIiKSxrdT1TeW1ib2woIiIpLFR1PVN5bWJvbCgiIiksd3U9U3ltYm9sKCIiKTt2YXIgRXU7bGV0IE51O0V1PXtbdnVdOiJ2TW9kZWxSYWRpbyIsW3l1XToidk1vZGVsQ2hlY2tib3giLFtidV06InZNb2RlbFRleHQiLFtfdV06InZNb2RlbFNlbGVjdCIsW1N1XToidk1vZGVsRHluYW1pYyIsW3h1XToid2l0aE1vZGlmaWVycyIsW0N1XToid2l0aEtleXMiLFtrdV06InZTaG93IixbVHVdOiJUcmFuc2l0aW9uIixbd3VdOiJUcmFuc2l0aW9uR3JvdXAifSxPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKEV1KS5mb3JFYWNoKChlPT57cWxbZV09RXVbZV19KSk7Y29uc3QgQXU9e3BhcnNlTW9kZToiaHRtbCIsaXNWb2lkVGFnOlosaXNOYXRpdmVUYWc6ZT0+SihlKXx8WChlKXx8UShlKSxpc1ByZVRhZzplPT4icHJlIj09PWUsZGVjb2RlRW50aXRpZXM6ZnVuY3Rpb24oZSx0PSExKXtyZXR1cm4gTnV8fChOdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJkaXYiKSksdD8oTnUuaW5uZXJIVE1MPWA8ZGl2IGZvbz0iJHtlLnJlcGxhY2UoLyIvZywiJnF1b3Q7Iil9Ij5gLE51LmNoaWxkcmVuWzBdLmdldEF0dHJpYnV0ZSgiZm9vIikpOihOdS5pbm5lckhUTUw9ZSxOdS50ZXh0Q29udGVudCl9LGlzQnVpbHRJbkNvbXBvbmVudDplPT4iVHJhbnNpdGlvbiI9PT1lfHwidHJhbnNpdGlvbiI9PT1lP1R1OiJUcmFuc2l0aW9uR3JvdXAiPT09ZXx8InRyYW5zaXRpb24tZ3JvdXAiPT09ZT93dTp2b2lkIDAsZ2V0TmFtZXNwYWNlKGUsdCxuKXtsZXQgcz10P3QubnM6bjtpZih0JiYyPT09cylpZigiYW5ub3RhdGlvbi14bWwiPT09dC50YWcpe2lmKCJzdmciPT09ZSlyZXR1cm4gMTt0LnByb3BzLnNvbWUoKGU9PjY9PT1lLnR5cGUmJiJlbmNvZGluZyI9PT1lLm5hbWUmJm51bGwhPWUudmFsdWUmJigidGV4dC9odG1sIj09PWUudmFsdWUuY29udGVudHx8ImFwcGxpY2F0aW9uL3hodG1sK3htbCI9PT1lLnZhbHVlLmNvbnRlbnQpKSkmJihzPTApfWVsc2UvXm0oPzpbaW9uc118dGV4dCkkLy50ZXN0KHQudGFnKSYmIm1nbHlwaCIhPT1lJiYibWFsaWdubWFyayIhPT1lJiYocz0wKTtlbHNlIHQmJjE9PT1zJiYoImZvcmVpZ25PYmplY3QiIT09dC50YWcmJiJkZXNjIiE9PXQudGFnJiYidGl0bGUiIT09dC50YWd8fChzPTApKTtpZigwPT09cyl7aWYoInN2ZyI9PT1lKXJldHVybiAxO2lmKCJtYXRoIj09PWUpcmV0dXJuIDJ9cmV0dXJuIHN9fSxJdT0oZSx0KT0+e2NvbnN0IG49eihlKTtyZXR1cm4gWGwoSlNPTi5zdHJpbmdpZnkobiksITEsdCwzKX07ZnVuY3Rpb24gUnUoZSx0KXtyZXR1cm4gaGMoZSx0KX1jb25zdCBPdT10KCJwYXNzaXZlLG9uY2UsY2FwdHVyZSIpLEx1PXQoInN0b3AscHJldmVudCxzZWxmLGN0cmwsc2hpZnQsYWx0LG1ldGEsZXhhY3QsbWlkZGxlIiksRnU9dCgibGVmdCxyaWdodCIpLE11PXQoIm9ua2V5dXAsb25rZXlkb3duLG9ua2V5cHJlc3MiLCEwKSxQdT0oZSx0KT0+ZmMoZSkmJiJvbmNsaWNrIj09PWUuY29udGVudC50b0xvd2VyQ2FzZSgpP1hsKHQsITApOjQhPT1lLnR5cGU/UWwoWyIoIixlLGApID09PSAib25DbGljayIgPyAiJHt0fSIgOiAoYCxlLCIpIl0pOmUsJHU9KGUsdCk9PnsxIT09ZS50eXBlfHwwIT09ZS50YWdUeXBlfHwic2NyaXB0IiE9PWUudGFnJiYic3R5bGUiIT09ZS50YWd8fHQucmVtb3ZlTm9kZSgpfSxCdT1bZT0+ezE9PT1lLnR5cGUmJmUucHJvcHMuZm9yRWFjaCgoKHQsbik9Pns2PT09dC50eXBlJiYic3R5bGUiPT09dC5uYW1lJiZ0LnZhbHVlJiYoZS5wcm9wc1tuXT17dHlwZTo3LG5hbWU6ImJpbmQiLGFyZzpYbCgic3R5bGUiLCEwLHQubG9jKSxleHA6SXUodC52YWx1ZS5jb250ZW50LHQubG9jKSxtb2RpZmllcnM6W10sbG9jOnQubG9jfSl9KSl9XSxWdT17Y2xvYWs6KCk9Pih7cHJvcHM6W119KSxodG1sOihlLHQsbik9Pntjb25zdHtleHA6cyxsb2M6b309ZTtyZXR1cm4gc3x8bi5vbkVycm9yKFJ1KDUzLG8pKSx0LmNoaWxkcmVuLmxlbmd0aCYmKG4ub25FcnJvcihSdSg1NCxvKSksdC5jaGlsZHJlbi5sZW5ndGg9MCkse3Byb3BzOltKbChYbCgiaW5uZXJIVE1MIiwhMCxvKSxzfHxYbCgiIiwhMCkpXX19LHRleHQ6KGUsdCxuKT0+e2NvbnN0e2V4cDpzLGxvYzpvfT1lO3JldHVybiBzfHxuLm9uRXJyb3IoUnUoNTUsbykpLHQuY2hpbGRyZW4ubGVuZ3RoJiYobi5vbkVycm9yKFJ1KDU2LG8pKSx0LmNoaWxkcmVuLmxlbmd0aD0wKSx7cHJvcHM6W0psKFhsKCJ0ZXh0Q29udGVudCIsITApLHM/eWEocyxuKT4wP3M6Wmwobi5oZWxwZXJTdHJpbmcod2wpLFtzXSxvKTpYbCgiIiwhMCkpXX19LG1vZGVsOihlLHQsbik9Pntjb25zdCBzPXB1KGUsdCxuKTtpZighcy5wcm9wcy5sZW5ndGh8fDE9PT10LnRhZ1R5cGUpcmV0dXJuIHM7ZS5hcmcmJm4ub25FcnJvcihSdSg1OCxlLmFyZy5sb2MpKTtjb25zdHt0YWc6b309dCxyPW4uaXNDdXN0b21FbGVtZW50KG8pO2lmKCJpbnB1dCI9PT1vfHwidGV4dGFyZWEiPT09b3x8InNlbGVjdCI9PT1vfHxyKXtsZXQgaT1idSxsPSExO2lmKCJpbnB1dCI9PT1vfHxyKXtjb25zdCBzPUNjKHQsInR5cGUiKTtpZihzKXtpZig3PT09cy50eXBlKWk9U3U7ZWxzZSBpZihzLnZhbHVlKXN3aXRjaChzLnZhbHVlLmNvbnRlbnQpe2Nhc2UicmFkaW8iOmk9dnU7YnJlYWs7Y2FzZSJjaGVja2JveCI6aT15dTticmVhaztjYXNlImZpbGUiOmw9ITAsbi5vbkVycm9yKFJ1KDU5LGUubG9jKSl9fWVsc2UoZnVuY3Rpb24oZSl7cmV0dXJuIGUucHJvcHMuc29tZSgoZT0+ISg3IT09ZS50eXBlfHwiYmluZCIhPT1lLm5hbWV8fGUuYXJnJiY0PT09ZS5hcmcudHlwZSYmZS5hcmcuaXNTdGF0aWMpKSl9KSh0KSYmKGk9U3UpfWVsc2Uic2VsZWN0Ij09PW8mJihpPV91KTtsfHwocy5uZWVkUnVudGltZT1uLmhlbHBlcihpKSl9ZWxzZSBuLm9uRXJyb3IoUnUoNTcsZS5sb2MpKTtyZXR1cm4gcy5wcm9wcz1zLnByb3BzLmZpbHRlcigoZT0+ISg0PT09ZS5rZXkudHlwZSYmIm1vZGVsVmFsdWUiPT09ZS5rZXkuY29udGVudCkpKSxzfSxvbjooZSx0LG4pPT5pdShlLHQsbiwodD0+e2NvbnN0e21vZGlmaWVyczpzfT1lO2lmKCFzLmxlbmd0aClyZXR1cm4gdDtsZXR7a2V5Om8sdmFsdWU6cn09dC5wcm9wc1swXTtjb25zdHtrZXlNb2RpZmllcnM6aSxub25LZXlNb2RpZmllcnM6bCxldmVudE9wdGlvbk1vZGlmaWVyczpjfT0oKGUsdCxuLHMpPT57Y29uc3Qgbz1bXSxyPVtdLGk9W107Zm9yKGxldCBsPTA7bDx0Lmxlbmd0aDtsKyspe2NvbnN0IG49dFtsXTtPdShuKT9pLnB1c2gobik6RnUobik/ZmMoZSk/TXUoZS5jb250ZW50KT9vLnB1c2gobik6ci5wdXNoKG4pOihvLnB1c2gobiksci5wdXNoKG4pKTpMdShuKT9yLnB1c2gobik6by5wdXNoKG4pfXJldHVybntrZXlNb2RpZmllcnM6byxub25LZXlNb2RpZmllcnM6cixldmVudE9wdGlvbk1vZGlmaWVyczppfX0pKG8scyk7aWYobC5pbmNsdWRlcygicmlnaHQiKSYmKG89UHUobywib25Db250ZXh0bWVudSIpKSxsLmluY2x1ZGVzKCJtaWRkbGUiKSYmKG89UHUobywib25Nb3VzZXVwIikpLGwubGVuZ3RoJiYocj1abChuLmhlbHBlcih4dSksW3IsSlNPTi5zdHJpbmdpZnkobCldKSksIWkubGVuZ3RofHxmYyhvKSYmIU11KG8uY29udGVudCl8fChyPVpsKG4uaGVscGVyKEN1KSxbcixKU09OLnN0cmluZ2lmeShpKV0pKSxjLmxlbmd0aCl7Y29uc3QgZT1jLm1hcChMKS5qb2luKCIiKTtvPWZjKG8pP1hsKGAke28uY29udGVudH0ke2V9YCwhMCk6UWwoWyIoIixvLGApICsgIiR7ZX0iYF0pfXJldHVybntwcm9wczpbSmwobyxyKV19fSkpLHNob3c6KGUsdCxuKT0+e2NvbnN0e2V4cDpzLGxvYzpvfT1lO3JldHVybiBzfHxuLm9uRXJyb3IoUnUoNjEsbykpLHtwcm9wczpbXSxuZWVkUnVudGltZTpuLmhlbHBlcihrdSl9fX07Y29uc3QgRHU9bmV3IFdlYWtNYXA7ZnVuY3Rpb24gVXUoZSx0KXtpZighdihlKSl7aWYoIWUubm9kZVR5cGUpcmV0dXJuIG87ZT1lLmlubmVySFRNTH1jb25zdCBzPWUscj1mdW5jdGlvbihlKXtsZXQgdD1EdS5nZXQobnVsbCE9ZT9lOm4pO3JldHVybiB0fHwodD1PYmplY3QuY3JlYXRlKG51bGwpLER1LnNldChudWxsIT1lP2U6bix0KSksdH0odCksaT1yW3NdO2lmKGkpcmV0dXJuIGk7aWYoIiMiPT09ZVswXSl7Y29uc3QgdD1kb2N1bWVudC5xdWVyeVNlbGVjdG9yKGUpO2U9dD90LmlubmVySFRNTDoiIn1jb25zdCBsPWMoe2hvaXN0U3RhdGljOiEwLG9uRXJyb3I6dm9pZCAwLG9uV2FybjpvfSx0KTtsLmlzQ3VzdG9tRWxlbWVudHx8InVuZGVmaW5lZCI9PXR5cGVvZiBjdXN0b21FbGVtZW50c3x8KGwuaXNDdXN0b21FbGVtZW50PWU9PiEhY3VzdG9tRWxlbWVudHMuZ2V0KGUpKTtjb25zdHtjb2RlOmF9PWZ1bmN0aW9uKGUsdD17fSl7cmV0dXJuIGd1KGUsYyh7fSxBdSx0LHtub2RlVHJhbnNmb3JtczpbJHUsLi4uQnUsLi4udC5ub2RlVHJhbnNmb3Jtc3x8W11dLGRpcmVjdGl2ZVRyYW5zZm9ybXM6Yyh7fSxWdSx0LmRpcmVjdGl2ZVRyYW5zZm9ybXN8fHt9KSx0cmFuc2Zvcm1Ib2lzdDpudWxsfSkpfShlLGwpLHU9bmV3IEZ1bmN0aW9uKGEpKCk7cmV0dXJuIHUuX3JjPSEwLHJbc109dX1yZXR1cm4gX3IoVXUpLGUuQmFzZVRyYW5zaXRpb249Sm4sZS5CYXNlVHJhbnNpdGlvblByb3BzVmFsaWRhdG9ycz1HbixlLkNvbW1lbnQ9UG8sZS5EZXByZWNhdGlvblR5cGVzPW51bGwsZS5FZmZlY3RTY29wZT1sZSxlLkVycm9yQ29kZXM9e1NFVFVQX0ZVTkNUSU9OOjAsMDoiU0VUVVBfRlVOQ1RJT04iLFJFTkRFUl9GVU5DVElPTjoxLDE6IlJFTkRFUl9GVU5DVElPTiIsV0FUQ0hfR0VUVEVSOjIsMjoiV0FUQ0hfR0VUVEVSIixXQVRDSF9DQUxMQkFDSzozLDM6IldBVENIX0NBTExCQUNLIixXQVRDSF9DTEVBTlVQOjQsNDoiV0FUQ0hfQ0xFQU5VUCIsTkFUSVZFX0VWRU5UX0hBTkRMRVI6NSw1OiJOQVRJVkVfRVZFTlRfSEFORExFUiIsQ09NUE9ORU5UX0VWRU5UX0hBTkRMRVI6Niw2OiJDT01QT05FTlRfRVZFTlRfSEFORExFUiIsVk5PREVfSE9PSzo3LDc6IlZOT0RFX0hPT0siLERJUkVDVElWRV9IT09LOjgsODoiRElSRUNUSVZFX0hPT0siLFRSQU5TSVRJT05fSE9PSzo5LDk6IlRSQU5TSVRJT05fSE9PSyIsQVBQX0VSUk9SX0hBTkRMRVI6MTAsMTA6IkFQUF9FUlJPUl9IQU5ETEVSIixBUFBfV0FSTl9IQU5ETEVSOjExLDExOiJBUFBfV0FSTl9IQU5ETEVSIixGVU5DVElPTl9SRUY6MTIsMTI6IkZVTkNUSU9OX1JFRiIsQVNZTkNfQ09NUE9ORU5UX0xPQURFUjoxMywxMzoiQVNZTkNfQ09NUE9ORU5UX0xPQURFUiIsU0NIRURVTEVSOjE0LDE0OiJTQ0hFRFVMRVIifSxlLkVycm9yVHlwZVN0cmluZ3M9bnVsbCxlLkZyYWdtZW50PUZvLGUuS2VlcEFsaXZlPWlzLGUuUmVhY3RpdmVFZmZlY3Q9dWUsZS5TdGF0aWM9JG8sZS5TdXNwZW5zZT1ObixlLlRlbGVwb3J0PU9vLGUuVGV4dD1NbyxlLlRyYWNrT3BUeXBlcz17R0VUOiJnZXQiLEhBUzoiaGFzIixJVEVSQVRFOiJpdGVyYXRlIn0sZS5UcmFuc2l0aW9uPSRyLGUuVHJhbnNpdGlvbkdyb3VwPU5pLGUuVHJpZ2dlck9wVHlwZXM9e1NFVDoic2V0IixBREQ6ImFkZCIsREVMRVRFOiJkZWxldGUiLENMRUFSOiJjbGVhciJ9LGUuVnVlRWxlbWVudD14aSxlLmFzc2VydE51bWJlcj1mdW5jdGlvbihlLHQpe30sZS5jYWxsV2l0aEFzeW5jRXJyb3JIYW5kbGluZz1IdCxlLmNhbGxXaXRoRXJyb3JIYW5kbGluZz1qdCxlLmNhbWVsaXplPUksZS5jYXBpdGFsaXplPUwsZS5jbG9uZVZOb2RlPWVyLGUuY29tcGF0VXRpbHM9bnVsbCxlLmNvbXBpbGU9VXUsZS5jb21wdXRlZD1UcixlLmNyZWF0ZUFwcD0oLi4uZSk9Pntjb25zdCB0PVppKCkuY3JlYXRlQXBwKC4uLmUpLHttb3VudDpufT10O3JldHVybiB0Lm1vdW50PWU9Pntjb25zdCBzPXNsKGUpO2lmKCFzKXJldHVybjtjb25zdCBvPXQuX2NvbXBvbmVudDtnKG8pfHxvLnJlbmRlcnx8by50ZW1wbGF0ZXx8KG8udGVtcGxhdGU9cy5pbm5lckhUTUwpLHMuaW5uZXJIVE1MPSIiO2NvbnN0IHI9bihzLCExLG5sKHMpKTtyZXR1cm4gcyBpbnN0YW5jZW9mIEVsZW1lbnQmJihzLnJlbW92ZUF0dHJpYnV0ZSgidi1jbG9hayIpLHMuc2V0QXR0cmlidXRlKCJkYXRhLXYtYXBwIiwiIikpLHJ9LHR9LGUuY3JlYXRlQmxvY2s9V28sZS5jcmVhdGVDb21tZW50Vk5vZGU9ZnVuY3Rpb24oZT0iIix0PSExKXtyZXR1cm4gdD8oRG8oKSxXbyhQbyxudWxsLGUpKTpabyhQbyxudWxsLGUpfSxlLmNyZWF0ZUVsZW1lbnRCbG9jaz1mdW5jdGlvbihlLHQsbixzLG8scil7cmV0dXJuIHFvKFFvKGUsdCxuLHMsbyxyLCEwKSl9LGUuY3JlYXRlRWxlbWVudFZOb2RlPVFvLGUuY3JlYXRlSHlkcmF0aW9uUmVuZGVyZXI9X28sZS5jcmVhdGVQcm9wc1Jlc3RQcm94eT1mdW5jdGlvbihlLHQpe2NvbnN0IG49e307Zm9yKGNvbnN0IHMgaW4gZSl0LmluY2x1ZGVzKHMpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkobixzLHtlbnVtZXJhYmxlOiEwLGdldDooKT0+ZVtzXX0pO3JldHVybiBufSxlLmNyZWF0ZVJlbmRlcmVyPWJvLGUuY3JlYXRlU1NSQXBwPSguLi5lKT0+e2NvbnN0IHQ9WWkoKS5jcmVhdGVBcHAoLi4uZSkse21vdW50Om59PXQ7cmV0dXJuIHQubW91bnQ9ZT0+e2NvbnN0IHQ9c2woZSk7aWYodClyZXR1cm4gbih0LCEwLG5sKHQpKX0sdH0sZS5jcmVhdGVTbG90cz1mdW5jdGlvbihlLHQpe2ZvcihsZXQgbj0wO248dC5sZW5ndGg7bisrKXtjb25zdCBzPXRbbl07aWYocChzKSlmb3IobGV0IHQ9MDt0PHMubGVuZ3RoO3QrKyllW3NbdF0ubmFtZV09c1t0XS5mbjtlbHNlIHMmJihlW3MubmFtZV09cy5rZXk/KC4uLmUpPT57Y29uc3QgdD1zLmZuKC4uLmUpO3JldHVybiB0JiYodC5rZXk9cy5rZXkpLHR9OnMuZm4pfXJldHVybiBlfSxlLmNyZWF0ZVN0YXRpY1ZOb2RlPWZ1bmN0aW9uKGUsdCl7Y29uc3Qgbj1abygkbyxudWxsLGUpO3JldHVybiBuLnN0YXRpY0NvdW50PXQsbn0sZS5jcmVhdGVUZXh0Vk5vZGU9dHIsZS5jcmVhdGVWTm9kZT1abyxlLmN1c3RvbVJlZj1CdCxlLmRlZmluZUFzeW5jQ29tcG9uZW50PWZ1bmN0aW9uKGUpe2coZSkmJihlPXtsb2FkZXI6ZX0pO2NvbnN0e2xvYWRlcjp0LGxvYWRpbmdDb21wb25lbnQ6bixlcnJvckNvbXBvbmVudDpzLGRlbGF5Om89MjAwLHRpbWVvdXQ6cixzdXNwZW5zaWJsZTppPSEwLG9uRXJyb3I6bH09ZTtsZXQgYyxhPW51bGwsdT0wO2NvbnN0IGQ9KCk9PntsZXQgZTtyZXR1cm4gYXx8KGU9YT10KCkuY2F0Y2goKGU9PntpZihlPWUgaW5zdGFuY2VvZiBFcnJvcj9lOm5ldyBFcnJvcihTdHJpbmcoZSkpLGwpcmV0dXJuIG5ldyBQcm9taXNlKCgodCxuKT0+e2woZSwoKCk9PnQoKHUrKyxhPW51bGwsZCgpKSkpLCgoKT0+bihlKSksdSsxKX0pKTt0aHJvdyBlfSkpLnRoZW4oKHQ9PmUhPT1hJiZhP2E6KHQmJih0Ll9fZXNNb2R1bGV8fCJNb2R1bGUiPT09dFtTeW1ib2wudG9TdHJpbmdUYWddKSYmKHQ9dC5kZWZhdWx0KSxjPXQsdCkpKSl9O3JldHVybiBucyh7bmFtZToiQXN5bmNDb21wb25lbnRXcmFwcGVyIixfX2FzeW5jTG9hZGVyOmQsZ2V0IF9fYXN5bmNSZXNvbHZlZCgpe3JldHVybiBjfSxzZXR1cCgpe2NvbnN0IGU9YXI7aWYoYylyZXR1cm4oKT0+b3MoYyxlKTtjb25zdCB0PXQ9PnthPW51bGwscXQodCxlLDEzLCFzKX07aWYoaSYmZS5zdXNwZW5zZSlyZXR1cm4gZCgpLnRoZW4oKHQ9PigpPT5vcyh0LGUpKSkuY2F0Y2goKGU9Pih0KGUpLCgpPT5zP1pvKHMse2Vycm9yOmV9KTpudWxsKSkpO2NvbnN0IGw9UnQoITEpLHU9UnQoKSxwPVJ0KCEhbyk7cmV0dXJuIG8mJnNldFRpbWVvdXQoKCgpPT57cC52YWx1ZT0hMX0pLG8pLG51bGwhPXImJnNldFRpbWVvdXQoKCgpPT57aWYoIWwudmFsdWUmJiF1LnZhbHVlKXtjb25zdCBlPW5ldyBFcnJvcihgQXN5bmMgY29tcG9uZW50IHRpbWVkIG91dCBhZnRlciAke3J9bXMuYCk7dChlKSx1LnZhbHVlPWV9fSksciksZCgpLnRoZW4oKCgpPT57bC52YWx1ZT0hMCxlLnBhcmVudCYmcnMoZS5wYXJlbnQudm5vZGUpJiYoZS5wYXJlbnQuZWZmZWN0LmRpcnR5PSEwLHRuKGUucGFyZW50LnVwZGF0ZSkpfSkpLmNhdGNoKChlPT57dChlKSx1LnZhbHVlPWV9KSksKCk9PmwudmFsdWUmJmM/b3MoYyxlKTp1LnZhbHVlJiZzP1pvKHMse2Vycm9yOnUudmFsdWV9KTpuJiYhcC52YWx1ZT9abyhuKTp2b2lkIDB9fSl9LGUuZGVmaW5lQ29tcG9uZW50PW5zLGUuZGVmaW5lQ3VzdG9tRWxlbWVudD1faSxlLmRlZmluZUVtaXRzPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9LGUuZGVmaW5lRXhwb3NlPWZ1bmN0aW9uKGUpe30sZS5kZWZpbmVNb2RlbD1mdW5jdGlvbigpe30sZS5kZWZpbmVPcHRpb25zPWZ1bmN0aW9uKGUpe30sZS5kZWZpbmVQcm9wcz1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLmRlZmluZVNTUkN1c3RvbUVsZW1lbnQ9ZT0+X2koZSx0bCksZS5kZWZpbmVTbG90cz1mdW5jdGlvbigpe3JldHVybiBudWxsfSxlLmRldnRvb2xzPXZvaWQgMCxlLmVmZmVjdD1mdW5jdGlvbihlLHQpe2UuZWZmZWN0IGluc3RhbmNlb2YgdWUmJihlPWUuZWZmZWN0LmZuKTtjb25zdCBuPW5ldyB1ZShlLG8sKCgpPT57bi5kaXJ0eSYmbi5ydW4oKX0pKTt0JiYoYyhuLHQpLHQuc2NvcGUmJmNlKG4sdC5zY29wZSkpLHQmJnQubGF6eXx8bi5ydW4oKTtjb25zdCBzPW4ucnVuLmJpbmQobik7cmV0dXJuIHMuZWZmZWN0PW4sc30sZS5lZmZlY3RTY29wZT1mdW5jdGlvbihlKXtyZXR1cm4gbmV3IGxlKGUpfSxlLmdldEN1cnJlbnRJbnN0YW5jZT11cixlLmdldEN1cnJlbnRTY29wZT1hZSxlLmdldFRyYW5zaXRpb25SYXdDaGlsZHJlbj10cyxlLmd1YXJkUmVhY3RpdmVQcm9wcz1ZbyxlLmg9d3IsZS5oYW5kbGVFcnJvcj1xdCxlLmhhc0luamVjdGlvbkNvbnRleHQ9ZnVuY3Rpb24oKXtyZXR1cm4hIShhcnx8aG58fEpzKX0sZS5oeWRyYXRlPXRsLGUuaW5pdEN1c3RvbUZvcm1hdHRlcj1mdW5jdGlvbigpe30sZS5pbml0RGlyZWN0aXZlc0ZvclNTUj1vbCxlLmluamVjdD1RcyxlLmlzTWVtb1NhbWU9RXIsZS5pc1Byb3h5PXh0LGUuaXNSZWFjdGl2ZT1idCxlLmlzUmVhZG9ubHk9X3QsZS5pc1JlZj1JdCxlLmlzUnVudGltZU9ubHk9KCk9PiFncixlLmlzU2hhbGxvdz1TdCxlLmlzVk5vZGU9S28sZS5tYXJrUmF3PWt0LGUubWVyZ2VEZWZhdWx0cz1mdW5jdGlvbihlLHQpe2NvbnN0IG49THMoZSk7Zm9yKGNvbnN0IHMgaW4gdCl7aWYocy5zdGFydHNXaXRoKCJfX3NraXAiKSljb250aW51ZTtsZXQgZT1uW3NdO2U/cChlKXx8ZyhlKT9lPW5bc109e3R5cGU6ZSxkZWZhdWx0OnRbc119OmUuZGVmYXVsdD10W3NdOm51bGw9PT1lJiYoZT1uW3NdPXtkZWZhdWx0OnRbc119KSxlJiZ0W2BfX3NraXBfJHtzfWBdJiYoZS5za2lwRmFjdG9yeT0hMCl9cmV0dXJuIG59LGUubWVyZ2VNb2RlbHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gZSYmdD9wKGUpJiZwKHQpP2UuY29uY2F0KHQpOmMoe30sTHMoZSksTHModCkpOmV8fHR9LGUubWVyZ2VQcm9wcz1ycixlLm5leHRUaWNrPWVuLGUubm9ybWFsaXplQ2xhc3M9RyxlLm5vcm1hbGl6ZVByb3BzPWZ1bmN0aW9uKGUpe2lmKCFlKXJldHVybiBudWxsO2xldHtjbGFzczp0LHN0eWxlOm59PWU7cmV0dXJuIHQmJiF2KHQpJiYoZS5jbGFzcz1HKHQpKSxuJiYoZS5zdHlsZT1IKG4pKSxlfSxlLm5vcm1hbGl6ZVN0eWxlPUgsZS5vbkFjdGl2YXRlZD1jcyxlLm9uQmVmb3JlTW91bnQ9Z3MsZS5vbkJlZm9yZVVubW91bnQ9X3MsZS5vbkJlZm9yZVVwZGF0ZT15cyxlLm9uRGVhY3RpdmF0ZWQ9YXMsZS5vbkVycm9yQ2FwdHVyZWQ9VHMsZS5vbk1vdW50ZWQ9dnMsZS5vblJlbmRlclRyYWNrZWQ9a3MsZS5vblJlbmRlclRyaWdnZXJlZD1DcyxlLm9uU2NvcGVEaXNwb3NlPWZ1bmN0aW9uKGUpe3JlJiZyZS5jbGVhbnVwcy5wdXNoKGUpfSxlLm9uU2VydmVyUHJlZmV0Y2g9eHMsZS5vblVubW91bnRlZD1TcyxlLm9uVXBkYXRlZD1icyxlLm9wZW5CbG9jaz1EbyxlLnBvcFNjb3BlSWQ9ZnVuY3Rpb24oKXtmbj1udWxsfSxlLnByb3ZpZGU9WHMsZS5wcm94eVJlZnM9UHQsZS5wdXNoU2NvcGVJZD1mdW5jdGlvbihlKXtmbj1lfSxlLnF1ZXVlUG9zdEZsdXNoQ2I9c24sZS5yZWFjdGl2ZT1tdCxlLnJlYWRvbmx5PXZ0LGUucmVmPVJ0LGUucmVnaXN0ZXJSdW50aW1lQ29tcGlsZXI9X3IsZS5yZW5kZXI9ZWwsZS5yZW5kZXJMaXN0PWZ1bmN0aW9uKGUsdCxuLHMpe2xldCBvO2NvbnN0IHI9biYmbltzXTtpZihwKGUpfHx2KGUpKXtvPW5ldyBBcnJheShlLmxlbmd0aCk7Zm9yKGxldCBuPTAscz1lLmxlbmd0aDtuPHM7bisrKW9bbl09dChlW25dLG4sdm9pZCAwLHImJnJbbl0pfWVsc2UgaWYoIm51bWJlciI9PXR5cGVvZiBlKXtvPW5ldyBBcnJheShlKTtmb3IobGV0IG49MDtuPGU7bisrKW9bbl09dChuKzEsbix2b2lkIDAsciYmcltuXSl9ZWxzZSBpZihiKGUpKWlmKGVbU3ltYm9sLml0ZXJhdG9yXSlvPUFycmF5LmZyb20oZSwoKGUsbik9PnQoZSxuLHZvaWQgMCxyJiZyW25dKSkpO2Vsc2V7Y29uc3Qgbj1PYmplY3Qua2V5cyhlKTtvPW5ldyBBcnJheShuLmxlbmd0aCk7Zm9yKGxldCBzPTAsaT1uLmxlbmd0aDtzPGk7cysrKXtjb25zdCBpPW5bc107b1tzXT10KGVbaV0saSxzLHImJnJbc10pfX1lbHNlIG89W107cmV0dXJuIG4mJihuW3NdPW8pLG99LGUucmVuZGVyU2xvdD1mdW5jdGlvbihlLHQsbj17fSxzLG8pe2lmKGhuLmlzQ0V8fGhuLnBhcmVudCYmc3MoaG4ucGFyZW50KSYmaG4ucGFyZW50LmlzQ0UpcmV0dXJuImRlZmF1bHQiIT09dCYmKG4ubmFtZT10KSxabygic2xvdCIsbixzJiZzKCkpO2xldCByPWVbdF07ciYmci5fYyYmKHIuX2Q9ITEpLERvKCk7Y29uc3QgaT1yJiZ3cyhyKG4pKSxsPVdvKEZvLHtrZXk6bi5rZXl8fGkmJmkua2V5fHxgXyR7dH1gfSxpfHwocz9zKCk6W10pLGkmJjE9PT1lLl8/NjQ6LTIpO3JldHVybiFvJiZsLnNjb3BlSWQmJihsLnNsb3RTY29wZUlkcz1bbC5zY29wZUlkKyItcyJdKSxyJiZyLl9jJiYoci5fZD0hMCksbH0sZS5yZXNvbHZlQ29tcG9uZW50PWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGtuKHhuLGUsITAsdCl8fGV9LGUucmVzb2x2ZURpcmVjdGl2ZT1mdW5jdGlvbihlKXtyZXR1cm4ga24oImRpcmVjdGl2ZXMiLGUpfSxlLnJlc29sdmVEeW5hbWljQ29tcG9uZW50PWZ1bmN0aW9uKGUpe3JldHVybiB2KGUpP2tuKHhuLGUsITEpfHxlOmV8fENufSxlLnJlc29sdmVGaWx0ZXI9bnVsbCxlLnJlc29sdmVUcmFuc2l0aW9uSG9va3M9UW4sZS5zZXRCbG9ja1RyYWNraW5nPUhvLGUuc2V0RGV2dG9vbHNIb29rPUlyLGUuc2V0VHJhbnNpdGlvbkhvb2tzPWVzLGUuc2hhbGxvd1JlYWN0aXZlPWd0LGUuc2hhbGxvd1JlYWRvbmx5PWZ1bmN0aW9uKGUpe3JldHVybiB5dChlLCEwLGplLHV0LGZ0KX0sZS5zaGFsbG93UmVmPWZ1bmN0aW9uKGUpe3JldHVybiBPdChlLCEwKX0sZS5zc3JDb250ZXh0S2V5PUZuLGUuc3NyVXRpbHM9bnVsbCxlLnN0b3A9ZnVuY3Rpb24oZSl7ZS5lZmZlY3Quc3RvcCgpfSxlLnRvRGlzcGxheVN0cmluZz1lPT52KGUpP2U6bnVsbD09ZT8iIjpwKGUpfHxiKGUpJiYoZS50b1N0cmluZz09PVN8fCFnKGUudG9TdHJpbmcpKT9KU09OLnN0cmluZ2lmeShlLHNlLDIpOlN0cmluZyhlKSxlLnRvSGFuZGxlcktleT1GLGUudG9IYW5kbGVycz1mdW5jdGlvbihlLHQpe2NvbnN0IG49e307Zm9yKGNvbnN0IHMgaW4gZSluW3QmJi9bQS1aXS8udGVzdChzKT9gb246JHtzfWA6RihzKV09ZVtzXTtyZXR1cm4gbn0sZS50b1Jhdz1DdCxlLnRvUmVmPWZ1bmN0aW9uKGUsdCxuKXtyZXR1cm4gSXQoZSk/ZTpnKGUpP25ldyBEdChlKTpiKGUpJiZhcmd1bWVudHMubGVuZ3RoPjE/VXQoZSx0LG4pOlJ0KGUpfSxlLnRvUmVmcz1mdW5jdGlvbihlKXtjb25zdCB0PXAoZSk/bmV3IEFycmF5KGUubGVuZ3RoKTp7fTtmb3IoY29uc3QgbiBpbiBlKXRbbl09VXQoZSxuKTtyZXR1cm4gdH0sZS50b1ZhbHVlPWZ1bmN0aW9uKGUpe3JldHVybiBnKGUpP2UoKTpGdChlKX0sZS50cmFuc2Zvcm1WTm9kZUFyZ3M9ZnVuY3Rpb24oZSl7fSxlLnRyaWdnZXJSZWY9ZnVuY3Rpb24oZSl7QXQoZSw0KX0sZS51bnJlZj1GdCxlLnVzZUF0dHJzPWZ1bmN0aW9uKCl7cmV0dXJuIE9zKCkuYXR0cnN9LGUudXNlQ3NzTW9kdWxlPWZ1bmN0aW9uKGU9IiRzdHlsZSIpe3JldHVybiBufSxlLnVzZUNzc1ZhcnM9ZnVuY3Rpb24oZSl7Y29uc3QgdD11cigpO2lmKCF0KXJldHVybjtjb25zdCBuPXQudXQ9KG49ZSh0LnByb3h5KSk9PntBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoYFtkYXRhLXYtb3duZXI9IiR7dC51aWR9Il1gKSkuZm9yRWFjaCgoZT0+cmkoZSxuKSkpfSxzPSgpPT57Y29uc3Qgcz1lKHQucHJveHkpO29pKHQuc3ViVHJlZSxzKSxuKHMpfTtNbihzKSx2cygoKCk9Pntjb25zdCBlPW5ldyBNdXRhdGlvbk9ic2VydmVyKHMpO2Uub2JzZXJ2ZSh0LnN1YlRyZWUuZWwucGFyZW50Tm9kZSx7Y2hpbGRMaXN0OiEwfSksU3MoKCgpPT5lLmRpc2Nvbm5lY3QoKSkpfSkpfSxlLnVzZU1vZGVsPWZ1bmN0aW9uKGUsdCxzPW4pe2NvbnN0IG89dXIoKSxyPUkodCksaT1PKHQpLGw9QnQoKChuLGwpPT57bGV0IGM7cmV0dXJuIFBuKCgoKT0+e2NvbnN0IG49ZVt0XTtNKGMsbikmJihjPW4sbCgpKX0pKSx7Z2V0OigpPT4obigpLHMuZ2V0P3MuZ2V0KGMpOmMpLHNldChlKXtjb25zdCBuPW8udm5vZGUucHJvcHM7biYmKHQgaW4gbnx8ciBpbiBufHxpIGluIG4pJiYoYG9uVXBkYXRlOiR7dH1gaW4gbnx8YG9uVXBkYXRlOiR7cn1gaW4gbnx8YG9uVXBkYXRlOiR7aX1gaW4gbil8fCFNKGUsYyl8fChjPWUsbCgpKSxvLmVtaXQoYHVwZGF0ZToke3R9YCxzLnNldD9zLnNldChlKTplKX19fSkpLGM9Im1vZGVsVmFsdWUiPT09dD8ibW9kZWxNb2RpZmllcnMiOmAke3R9TW9kaWZpZXJzYDtyZXR1cm4gbFtTeW1ib2wuaXRlcmF0b3JdPSgpPT57bGV0IHQ9MDtyZXR1cm57bmV4dDooKT0+dDwyP3t2YWx1ZTp0Kys/ZVtjXXx8e306bCxkb25lOiExfTp7ZG9uZTohMH19fSxsfSxlLnVzZVNTUkNvbnRleHQ9KCk9Pnt9LGUudXNlU2xvdHM9ZnVuY3Rpb24oKXtyZXR1cm4gT3MoKS5zbG90c30sZS51c2VUcmFuc2l0aW9uU3RhdGU9S24sZS52TW9kZWxDaGVja2JveD0kaSxlLnZNb2RlbER5bmFtaWM9cWksZS52TW9kZWxSYWRpbz1WaSxlLnZNb2RlbFNlbGVjdD1EaSxlLnZNb2RlbFRleHQ9UGksZS52U2hvdz10aSxlLnZlcnNpb249TnIsZS53YXJuPUFyLGUud2F0Y2g9Qm4sZS53YXRjaEVmZmVjdD1mdW5jdGlvbihlLHQpe3JldHVybiBWbihlLG51bGwsdCl9LGUud2F0Y2hQb3N0RWZmZWN0PU1uLGUud2F0Y2hTeW5jRWZmZWN0PVBuLGUud2l0aEFzeW5jQ29udGV4dD1mdW5jdGlvbihlKXtjb25zdCB0PXVyKCk7bGV0IG49ZSgpO3JldHVybiBmcigpLF8obikmJihuPW4uY2F0Y2goKGU9Pnt0aHJvdyBocih0KSxlfSkpKSxbbiwoKT0+aHIodCldfSxlLndpdGhDdHg9Z24sZS53aXRoRGVmYXVsdHM9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gbnVsbH0sZS53aXRoRGlyZWN0aXZlcz1mdW5jdGlvbihlLHQpe2lmKG51bGw9PT1obilyZXR1cm4gZTtjb25zdCBzPUNyKGhuKXx8aG4ucHJveHksbz1lLmRpcnN8fChlLmRpcnM9W10pO2ZvcihsZXQgcj0wO3I8dC5sZW5ndGg7cisrKXtsZXRbZSxpLGwsYz1uXT10W3JdO2UmJihnKGUpJiYoZT17bW91bnRlZDplLHVwZGF0ZWQ6ZX0pLGUuZGVlcCYmam4oaSksby5wdXNoKHtkaXI6ZSxpbnN0YW5jZTpzLHZhbHVlOmksb2xkVmFsdWU6dm9pZCAwLGFyZzpsLG1vZGlmaWVyczpjfSkpfXJldHVybiBlfSxlLndpdGhLZXlzPShlLHQpPT57Y29uc3Qgbj1lLl93aXRoS2V5c3x8KGUuX3dpdGhLZXlzPXt9KSxzPXQuam9pbigiLiIpO3JldHVybiBuW3NdfHwobltzXT1uPT57aWYoISgia2V5ImluIG4pKXJldHVybjtjb25zdCBzPU8obi5rZXkpO3JldHVybiB0LnNvbWUoKGU9PmU9PT1zfHxHaVtlXT09PXMpKT9lKG4pOnZvaWQgMH0pfSxlLndpdGhNZW1vPWZ1bmN0aW9uKGUsdCxuLHMpe2NvbnN0IG89bltzXTtpZihvJiZFcihvLGUpKXJldHVybiBvO2NvbnN0IHI9dCgpO3JldHVybiByLm1lbW89ZS5zbGljZSgpLG5bc109cn0sZS53aXRoTW9kaWZpZXJzPShlLHQpPT57Y29uc3Qgbj1lLl93aXRoTW9kc3x8KGUuX3dpdGhNb2RzPXt9KSxzPXQuam9pbigiLiIpO3JldHVybiBuW3NdfHwobltzXT0obiwuLi5zKT0+e2ZvcihsZXQgZT0wO2U8dC5sZW5ndGg7ZSsrKXtjb25zdCBzPXppW3RbZV1dO2lmKHMmJnMobix0KSlyZXR1cm59cmV0dXJuIGUobiwuLi5zKX0pfSxlLndpdGhTY29wZUlkPWU9PmduLGV9KHt9KTsK"}]}],"settings":{"statistics_enabled":true,"configMode":100}}